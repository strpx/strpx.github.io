(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=l(o);fetch(o.href,f)}})();function g1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var wc={exports:{}},Ls={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function y1(){if(P_)return Ls;P_=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var p in o)p!=="key"&&(f[p]=o[p])}else f=o;return o=f.ref,{$$typeof:s,type:r,key:h,ref:o!==void 0?o:null,props:f}}return Ls.Fragment=n,Ls.jsx=l,Ls.jsxs=l,Ls}var W_;function v1(){return W_||(W_=1,wc.exports=y1()),wc.exports}var N=v1(),xc={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function S1(){if($_)return te;$_=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function O(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,H={};function Z(b,U,Y){this.props=b,this.context=U,this.refs=H,this.updater=Y||A}Z.prototype.isReactComponent={},Z.prototype.setState=function(b,U){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,U,"setState")},Z.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function $(){}$.prototype=Z.prototype;function q(b,U,Y){this.props=b,this.context=U,this.refs=H,this.updater=Y||A}var J=q.prototype=new $;J.constructor=q,B(J,Z.prototype),J.isPureReactComponent=!0;var ye=Array.isArray;function qe(){}var ne={H:null,A:null,T:null,S:null},Be=Object.prototype.hasOwnProperty;function dt(b,U,Y){var k=Y.ref;return{$$typeof:s,type:b,key:U,ref:k!==void 0?k:null,props:Y}}function qt(b,U){return dt(b.type,U,b.props)}function He(b){return typeof b=="object"&&b!==null&&b.$$typeof===s}function nt(b){var U={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(Y){return U[Y]})}var Gt=/\/+/g;function K(b,U){return typeof b=="object"&&b!==null&&b.key!=null?nt(""+b.key):U.toString(36)}function P(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(qe,qe):(b.status="pending",b.then(function(U){b.status==="pending"&&(b.status="fulfilled",b.value=U)},function(U){b.status==="pending"&&(b.status="rejected",b.reason=U)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function x(b,U,Y,k,ie){var ue=typeof b;(ue==="undefined"||ue==="boolean")&&(b=null);var Ce=!1;if(b===null)Ce=!0;else switch(ue){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(b.$$typeof){case s:case n:Ce=!0;break;case y:return Ce=b._init,x(Ce(b._payload),U,Y,k,ie)}}if(Ce)return ie=ie(b),Ce=k===""?"."+K(b,0):k,ye(ie)?(Y="",Ce!=null&&(Y=Ce.replace(Gt,"$&/")+"/"),x(ie,U,Y,"",function(Yl){return Yl})):ie!=null&&(He(ie)&&(ie=qt(ie,Y+(ie.key==null||b&&b.key===ie.key?"":(""+ie.key).replace(Gt,"$&/")+"/")+Ce)),U.push(ie)),1;Ce=0;var pt=k===""?".":k+":";if(ye(b))for(var Qe=0;Qe<b.length;Qe++)k=b[Qe],ue=pt+K(k,Qe),Ce+=x(k,U,Y,ue,ie);else if(Qe=O(b),typeof Qe=="function")for(b=Qe.call(b),Qe=0;!(k=b.next()).done;)k=k.value,ue=pt+K(k,Qe++),Ce+=x(k,U,Y,ue,ie);else if(ue==="object"){if(typeof b.then=="function")return x(P(b),U,Y,k,ie);throw U=String(b),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function j(b,U,Y){if(b==null)return b;var k=[],ie=0;return x(b,k,"","",function(ue){return U.call(Y,ue,ie++)}),k}function V(b){if(b._status===-1){var U=b._result;U=U(),U.then(function(Y){(b._status===0||b._status===-1)&&(b._status=1,b._result=Y)},function(Y){(b._status===0||b._status===-1)&&(b._status=2,b._result=Y)}),b._status===-1&&(b._status=0,b._result=U)}if(b._status===1)return b._result.default;throw b._result}var de=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},pe={map:j,forEach:function(b,U,Y){j(b,function(){U.apply(this,arguments)},Y)},count:function(b){var U=0;return j(b,function(){U++}),U},toArray:function(b){return j(b,function(U){return U})||[]},only:function(b){if(!He(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return te.Activity=v,te.Children=pe,te.Component=Z,te.Fragment=l,te.Profiler=o,te.PureComponent=q,te.StrictMode=r,te.Suspense=m,te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ne,te.__COMPILER_RUNTIME={__proto__:null,c:function(b){return ne.H.useMemoCache(b)}},te.cache=function(b){return function(){return b.apply(null,arguments)}},te.cacheSignal=function(){return null},te.cloneElement=function(b,U,Y){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var k=B({},b.props),ie=b.key;if(U!=null)for(ue in U.key!==void 0&&(ie=""+U.key),U)!Be.call(U,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&U.ref===void 0||(k[ue]=U[ue]);var ue=arguments.length-2;if(ue===1)k.children=Y;else if(1<ue){for(var Ce=Array(ue),pt=0;pt<ue;pt++)Ce[pt]=arguments[pt+2];k.children=Ce}return dt(b.type,ie,k)},te.createContext=function(b){return b={$$typeof:h,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:f,_context:b},b},te.createElement=function(b,U,Y){var k,ie={},ue=null;if(U!=null)for(k in U.key!==void 0&&(ue=""+U.key),U)Be.call(U,k)&&k!=="key"&&k!=="__self"&&k!=="__source"&&(ie[k]=U[k]);var Ce=arguments.length-2;if(Ce===1)ie.children=Y;else if(1<Ce){for(var pt=Array(Ce),Qe=0;Qe<Ce;Qe++)pt[Qe]=arguments[Qe+2];ie.children=pt}if(b&&b.defaultProps)for(k in Ce=b.defaultProps,Ce)ie[k]===void 0&&(ie[k]=Ce[k]);return dt(b,ue,ie)},te.createRef=function(){return{current:null}},te.forwardRef=function(b){return{$$typeof:p,render:b}},te.isValidElement=He,te.lazy=function(b){return{$$typeof:y,_payload:{_status:-1,_result:b},_init:V}},te.memo=function(b,U){return{$$typeof:_,type:b,compare:U===void 0?null:U}},te.startTransition=function(b){var U=ne.T,Y={};ne.T=Y;try{var k=b(),ie=ne.S;ie!==null&&ie(Y,k),typeof k=="object"&&k!==null&&typeof k.then=="function"&&k.then(qe,de)}catch(ue){de(ue)}finally{U!==null&&Y.types!==null&&(U.types=Y.types),ne.T=U}},te.unstable_useCacheRefresh=function(){return ne.H.useCacheRefresh()},te.use=function(b){return ne.H.use(b)},te.useActionState=function(b,U,Y){return ne.H.useActionState(b,U,Y)},te.useCallback=function(b,U){return ne.H.useCallback(b,U)},te.useContext=function(b){return ne.H.useContext(b)},te.useDebugValue=function(){},te.useDeferredValue=function(b,U){return ne.H.useDeferredValue(b,U)},te.useEffect=function(b,U){return ne.H.useEffect(b,U)},te.useEffectEvent=function(b){return ne.H.useEffectEvent(b)},te.useId=function(){return ne.H.useId()},te.useImperativeHandle=function(b,U,Y){return ne.H.useImperativeHandle(b,U,Y)},te.useInsertionEffect=function(b,U){return ne.H.useInsertionEffect(b,U)},te.useLayoutEffect=function(b,U){return ne.H.useLayoutEffect(b,U)},te.useMemo=function(b,U){return ne.H.useMemo(b,U)},te.useOptimistic=function(b,U){return ne.H.useOptimistic(b,U)},te.useReducer=function(b,U,Y){return ne.H.useReducer(b,U,Y)},te.useRef=function(b){return ne.H.useRef(b)},te.useState=function(b){return ne.H.useState(b)},te.useSyncExternalStore=function(b,U,Y){return ne.H.useSyncExternalStore(b,U,Y)},te.useTransition=function(){return ne.H.useTransition()},te.version="19.2.0",te}var ep;function mf(){return ep||(ep=1,xc.exports=S1()),xc.exports}var Te=mf();const $e=g1(Te);var zc={exports:{}},Is={},Uc={exports:{}},Lc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function E1(){return tp||(tp=1,(function(s){function n(x,j){var V=x.length;x.push(j);e:for(;0<V;){var de=V-1>>>1,pe=x[de];if(0<o(pe,j))x[de]=j,x[V]=pe,V=de;else break e}}function l(x){return x.length===0?null:x[0]}function r(x){if(x.length===0)return null;var j=x[0],V=x.pop();if(V!==j){x[0]=V;e:for(var de=0,pe=x.length,b=pe>>>1;de<b;){var U=2*(de+1)-1,Y=x[U],k=U+1,ie=x[k];if(0>o(Y,V))k<pe&&0>o(ie,Y)?(x[de]=ie,x[k]=V,de=k):(x[de]=Y,x[U]=V,de=U);else if(k<pe&&0>o(ie,V))x[de]=ie,x[k]=V,de=k;else break e}}return j}function o(x,j){var V=x.sortIndex-j.sortIndex;return V!==0?V:x.id-j.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var m=[],_=[],y=1,v=null,S=3,O=!1,A=!1,B=!1,H=!1,Z=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function J(x){for(var j=l(_);j!==null;){if(j.callback===null)r(_);else if(j.startTime<=x)r(_),j.sortIndex=j.expirationTime,n(m,j);else break;j=l(_)}}function ye(x){if(B=!1,J(x),!A)if(l(m)!==null)A=!0,qe||(qe=!0,nt());else{var j=l(_);j!==null&&P(ye,j.startTime-x)}}var qe=!1,ne=-1,Be=5,dt=-1;function qt(){return H?!0:!(s.unstable_now()-dt<Be)}function He(){if(H=!1,qe){var x=s.unstable_now();dt=x;var j=!0;try{e:{A=!1,B&&(B=!1,$(ne),ne=-1),O=!0;var V=S;try{t:{for(J(x),v=l(m);v!==null&&!(v.expirationTime>x&&qt());){var de=v.callback;if(typeof de=="function"){v.callback=null,S=v.priorityLevel;var pe=de(v.expirationTime<=x);if(x=s.unstable_now(),typeof pe=="function"){v.callback=pe,J(x),j=!0;break t}v===l(m)&&r(m),J(x)}else r(m);v=l(m)}if(v!==null)j=!0;else{var b=l(_);b!==null&&P(ye,b.startTime-x),j=!1}}break e}finally{v=null,S=V,O=!1}j=void 0}}finally{j?nt():qe=!1}}}var nt;if(typeof q=="function")nt=function(){q(He)};else if(typeof MessageChannel<"u"){var Gt=new MessageChannel,K=Gt.port2;Gt.port1.onmessage=He,nt=function(){K.postMessage(null)}}else nt=function(){Z(He,0)};function P(x,j){ne=Z(function(){x(s.unstable_now())},j)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(x){x.callback=null},s.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Be=0<x?Math.floor(1e3/x):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(x){switch(S){case 1:case 2:case 3:var j=3;break;default:j=S}var V=S;S=j;try{return x()}finally{S=V}},s.unstable_requestPaint=function(){H=!0},s.unstable_runWithPriority=function(x,j){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var V=S;S=x;try{return j()}finally{S=V}},s.unstable_scheduleCallback=function(x,j,V){var de=s.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?de+V:de):V=de,x){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=V+pe,x={id:y++,callback:j,priorityLevel:x,startTime:V,expirationTime:pe,sortIndex:-1},V>de?(x.sortIndex=V,n(_,x),l(m)===null&&x===l(_)&&(B?($(ne),ne=-1):B=!0,P(ye,V-de))):(x.sortIndex=pe,n(m,x),A||O||(A=!0,qe||(qe=!0,nt()))),x},s.unstable_shouldYield=qt,s.unstable_wrapCallback=function(x){var j=S;return function(){var V=S;S=j;try{return x.apply(this,arguments)}finally{S=V}}}})(Lc)),Lc}var np;function b1(){return np||(np=1,Uc.exports=E1()),Uc.exports}var Ic={exports:{}},mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip;function C1(){if(ip)return mt;ip=1;var s=mf();function n(m){var _="https://react.dev/errors/"+m;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)_+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(m,_,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:_,implementation:y}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,_){if(m==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mt.createPortal=function(m,_){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(n(299));return f(m,_,null,y)},mt.flushSync=function(m){var _=h.T,y=r.p;try{if(h.T=null,r.p=2,m)return m()}finally{h.T=_,r.p=y,r.d.f()}},mt.preconnect=function(m,_){typeof m=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(m,_))},mt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},mt.preinit=function(m,_){if(typeof m=="string"&&_&&typeof _.as=="string"){var y=_.as,v=p(y,_.crossOrigin),S=typeof _.integrity=="string"?_.integrity:void 0,O=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;y==="style"?r.d.S(m,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:O}):y==="script"&&r.d.X(m,{crossOrigin:v,integrity:S,fetchPriority:O,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},mt.preinitModule=function(m,_){if(typeof m=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var y=p(_.as,_.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(m)},mt.preload=function(m,_){if(typeof m=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var y=_.as,v=p(y,_.crossOrigin);r.d.L(m,y,{crossOrigin:v,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},mt.preloadModule=function(m,_){if(typeof m=="string")if(_){var y=p(_.as,_.crossOrigin);r.d.m(m,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:y,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(m)},mt.requestFormReset=function(m){r.d.r(m)},mt.unstable_batchedUpdates=function(m,_){return m(_)},mt.useFormState=function(m,_,y){return h.H.useFormState(m,_,y)},mt.useFormStatus=function(){return h.H.useHostTransitionStatus()},mt.version="19.2.0",mt}var lp;function T1(){if(lp)return Ic.exports;lp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Ic.exports=C1(),Ic.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function N1(){if(sp)return Is;sp=1;var s=b1(),n=mf(),l=T1();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(f(e)!==e)throw Error(r(188))}function _(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,a=t;;){var u=i.return;if(u===null)break;var c=u.alternate;if(c===null){if(a=u.return,a!==null){i=a;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===i)return m(u),e;if(c===a)return m(u),t;c=c.sibling}throw Error(r(188))}if(i.return!==a.return)i=u,a=c;else{for(var d=!1,g=u.child;g;){if(g===i){d=!0,i=u,a=c;break}if(g===a){d=!0,a=u,i=c;break}g=g.sibling}if(!d){for(g=c.child;g;){if(g===i){d=!0,i=c,a=u;break}if(g===a){d=!0,a=c,i=u;break}g=g.sibling}if(!d)throw Error(r(189))}}if(i.alternate!==a)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),q=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),qe=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),Be=Symbol.for("react.lazy"),dt=Symbol.for("react.activity"),qt=Symbol.for("react.memo_cache_sentinel"),He=Symbol.iterator;function nt(e){return e===null||typeof e!="object"?null:(e=He&&e[He]||e["@@iterator"],typeof e=="function"?e:null)}var Gt=Symbol.for("react.client.reference");function K(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Gt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case Z:return"Profiler";case H:return"StrictMode";case ye:return"Suspense";case qe:return"SuspenseList";case dt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case q:return e.displayName||"Context";case $:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ne:return t=e.displayName||null,t!==null?t:K(e.type)||"Memo";case Be:t=e._payload,e=e._init;try{return K(e(t))}catch{}}return null}var P=Array.isArray,x=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},de=[],pe=-1;function b(e){return{current:e}}function U(e){0>pe||(e.current=de[pe],de[pe]=null,pe--)}function Y(e,t){pe++,de[pe]=e.current,e.current=t}var k=b(null),ie=b(null),ue=b(null),Ce=b(null);function pt(e,t){switch(Y(ue,t),Y(ie,e),Y(k,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?S_(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=S_(t),e=E_(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(k),Y(k,e)}function Qe(){U(k),U(ie),U(ue)}function Yl(e){e.memoizedState!==null&&Y(Ce,e);var t=k.current,i=E_(t,e.type);t!==i&&(Y(ie,e),Y(k,i))}function da(e){ie.current===e&&(U(k),U(ie)),Ce.current===e&&(U(Ce),ws._currentValue=V)}var hu,Jf;function di(e){if(hu===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);hu=t&&t[1]||"",Jf=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hu+e+Jf}var du=!1;function mu(e,t){if(!e||du)return"";du=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(w){var D=w}Reflect.construct(e,[],I)}else{try{I.call()}catch(w){D=w}e.call(I.prototype)}}else{try{throw Error()}catch(w){D=w}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(w){if(w&&D&&typeof w.stack=="string")return[w.stack,D.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),d=c[0],g=c[1];if(d&&g){var E=d.split(`
`),M=g.split(`
`);for(u=a=0;a<E.length&&!E[a].includes("DetermineComponentFrameRoot");)a++;for(;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;if(a===E.length||u===M.length)for(a=E.length-1,u=M.length-1;1<=a&&0<=u&&E[a]!==M[u];)u--;for(;1<=a&&0<=u;a--,u--)if(E[a]!==M[u]){if(a!==1||u!==1)do if(a--,u--,0>u||E[a]!==M[u]){var z=`
`+E[a].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=a&&0<=u);break}}}finally{du=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?di(i):""}function Ky(e,t){switch(e.tag){case 26:case 27:case 5:return di(e.type);case 16:return di("Lazy");case 13:return e.child!==t&&t!==null?di("Suspense Fallback"):di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return mu(e.type,!1);case 11:return mu(e.type.render,!1);case 1:return mu(e.type,!0);case 31:return di("Activity");default:return""}}function Pf(e){try{var t="",i=null;do t+=Ky(e,i),i=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var _u=Object.prototype.hasOwnProperty,pu=s.unstable_scheduleCallback,gu=s.unstable_cancelCallback,Fy=s.unstable_shouldYield,Jy=s.unstable_requestPaint,Dt=s.unstable_now,Py=s.unstable_getCurrentPriorityLevel,Wf=s.unstable_ImmediatePriority,$f=s.unstable_UserBlockingPriority,ma=s.unstable_NormalPriority,Wy=s.unstable_LowPriority,eh=s.unstable_IdlePriority,$y=s.log,ev=s.unstable_setDisableYieldValue,kl=null,Ot=null;function Ln(e){if(typeof $y=="function"&&ev(e),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(kl,e)}catch{}}var wt=Math.clz32?Math.clz32:iv,tv=Math.log,nv=Math.LN2;function iv(e){return e>>>=0,e===0?32:31-(tv(e)/nv|0)|0}var _a=256,pa=262144,ga=4194304;function mi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ya(e,t,i){var a=e.pendingLanes;if(a===0)return 0;var u=0,c=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var g=a&134217727;return g!==0?(a=g&~c,a!==0?u=mi(a):(d&=g,d!==0?u=mi(d):i||(i=g&~e,i!==0&&(u=mi(i))))):(g=a&~c,g!==0?u=mi(g):d!==0?u=mi(d):i||(i=a&~e,i!==0&&(u=mi(i)))),u===0?0:t!==0&&t!==u&&(t&c)===0&&(c=u&-u,i=t&-t,c>=i||c===32&&(i&4194048)!==0)?t:u}function Vl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function lv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function th(){var e=ga;return ga<<=1,(ga&62914560)===0&&(ga=4194304),e}function yu(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ql(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function sv(e,t,i,a,u,c){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var g=e.entanglements,E=e.expirationTimes,M=e.hiddenUpdates;for(i=d&~i;0<i;){var z=31-wt(i),I=1<<z;g[z]=0,E[z]=-1;var D=M[z];if(D!==null)for(M[z]=null,z=0;z<D.length;z++){var w=D[z];w!==null&&(w.lane&=-536870913)}i&=~I}a!==0&&nh(e,a,0),c!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~t))}function nh(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-wt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|i&261930}function ih(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-wt(i),u=1<<a;u&t|e[a]&t&&(e[a]|=t),i&=~u}}function lh(e,t){var i=t&-t;return i=(i&42)!==0?1:vu(i),(i&(e.suspendedLanes|t))!==0?0:i}function vu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Su(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function sh(){var e=j.p;return e!==0?e:(e=window.event,e===void 0?32:V_(e.type))}function ah(e,t){var i=j.p;try{return j.p=e,t()}finally{j.p=i}}var In=Math.random().toString(36).slice(2),ut="__reactFiber$"+In,vt="__reactProps$"+In,Yi="__reactContainer$"+In,Eu="__reactEvents$"+In,av="__reactListeners$"+In,rv="__reactHandles$"+In,rh="__reactResources$"+In,Xl="__reactMarker$"+In;function bu(e){delete e[ut],delete e[vt],delete e[Eu],delete e[av],delete e[rv]}function ki(e){var t=e[ut];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Yi]||i[ut]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=M_(e);e!==null;){if(i=e[ut])return i;e=M_(e)}return t}e=i,i=e.parentNode}return null}function Vi(e){if(e=e[ut]||e[Yi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Zl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Qi(e){var t=e[rh];return t||(t=e[rh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function it(e){e[Xl]=!0}var uh=new Set,oh={};function _i(e,t){Xi(e,t),Xi(e+"Capture",t)}function Xi(e,t){for(oh[e]=t,e=0;e<t.length;e++)uh.add(t[e])}var uv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ch={},fh={};function ov(e){return _u.call(fh,e)?!0:_u.call(ch,e)?!1:uv.test(e)?fh[e]=!0:(ch[e]=!0,!1)}function va(e,t,i){if(ov(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Sa(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function fn(e,t,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+a)}}function Yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cv(e,t,i){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,c=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(d){i=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cu(e){if(!e._valueTracker){var t=hh(e)?"checked":"value";e._valueTracker=cv(e,t,""+e[t])}}function dh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=hh(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function Ea(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fv=/[\n"\\]/g;function kt(e){return e.replace(fv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Tu(e,t,i,a,u,c,d,g){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Yt(t)):e.value!==""+Yt(t)&&(e.value=""+Yt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?Nu(e,d,Yt(t)):i!=null?Nu(e,d,Yt(i)):a!=null&&e.removeAttribute("value"),u==null&&c!=null&&(e.defaultChecked=!!c),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+Yt(g):e.removeAttribute("name")}function mh(e,t,i,a,u,c,d,g){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Cu(e);return}i=i!=null?""+Yt(i):"",t=t!=null?""+Yt(t):i,g||t===e.value||(e.value=t),e.defaultValue=t}a=a??u,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=g?e.checked:!!a,e.defaultChecked=!!a,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Cu(e)}function Nu(e,t,i){t==="number"&&Ea(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Zi(e,t,i,a){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Yt(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function _h(e,t,i){if(t!=null&&(t=""+Yt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Yt(i):""}function ph(e,t,i,a){if(t==null){if(a!=null){if(i!=null)throw Error(r(92));if(P(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),t=i}i=Yt(t),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a),Cu(e)}function Ki(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var hv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gh(e,t,i){var a=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,i):typeof i!="number"||i===0||hv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function yh(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var u in t)a=t[u],t.hasOwnProperty(u)&&i[u]!==a&&gh(e,u,a)}else for(var c in t)t.hasOwnProperty(c)&&gh(e,c,t[c])}function Au(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(e){return mv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function hn(){}var Ru=null;function Mu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fi=null,Ji=null;function vh(e){var t=Vi(e);if(t&&(e=t.stateNode)){var i=e[vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Tu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+kt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var u=a[vt]||null;if(!u)throw Error(r(90));Tu(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)a=i[t],a.form===e.form&&dh(a)}break e;case"textarea":_h(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Zi(e,!!i.multiple,t,!1)}}}var Du=!1;function Sh(e,t,i){if(Du)return e(t,i);Du=!0;try{var a=e(t);return a}finally{if(Du=!1,(Fi!==null||Ji!==null)&&(or(),Fi&&(t=Fi,e=Ji,Ji=Fi=null,vh(t),e)))for(t=0;t<e.length;t++)vh(e[t])}}function Kl(e,t){var i=e.stateNode;if(i===null)return null;var a=i[vt]||null;if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ou=!1;if(dn)try{var Fl={};Object.defineProperty(Fl,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{Ou=!1}var Bn=null,wu=null,Ca=null;function Eh(){if(Ca)return Ca;var e,t=wu,i=t.length,a,u="value"in Bn?Bn.value:Bn.textContent,c=u.length;for(e=0;e<i&&t[e]===u[e];e++);var d=i-e;for(a=1;a<=d&&t[i-a]===u[c-a];a++);return Ca=u.slice(e,1<a?1-a:void 0)}function Ta(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Na(){return!0}function bh(){return!1}function St(e){function t(i,a,u,c,d){this._reactName=i,this._targetInst=u,this.type=a,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(i=e[g],this[g]=i?i(c):c[g]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Na:bh,this.isPropagationStopped=bh,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),t}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=St(pi),Jl=v({},pi,{view:0,detail:0}),_v=St(Jl),xu,zu,Pl,Ra=v({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pl&&(Pl&&e.type==="mousemove"?(xu=e.screenX-Pl.screenX,zu=e.screenY-Pl.screenY):zu=xu=0,Pl=e),xu)},movementY:function(e){return"movementY"in e?e.movementY:zu}}),Ch=St(Ra),pv=v({},Ra,{dataTransfer:0}),gv=St(pv),yv=v({},Jl,{relatedTarget:0}),Uu=St(yv),vv=v({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Sv=St(vv),Ev=v({},pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bv=St(Ev),Cv=v({},pi,{data:0}),Th=St(Cv),Tv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Av={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Av[e])?!!t[e]:!1}function Lu(){return Rv}var Mv=v({},Jl,{key:function(e){if(e.key){var t=Tv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ta(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lu,charCode:function(e){return e.type==="keypress"?Ta(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ta(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dv=St(Mv),Ov=v({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nh=St(Ov),wv=v({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lu}),xv=St(wv),zv=v({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uv=St(zv),Lv=v({},Ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Iv=St(Lv),Bv=v({},pi,{newState:0,oldState:0}),Hv=St(Bv),jv=[9,13,27,32],Iu=dn&&"CompositionEvent"in window,Wl=null;dn&&"documentMode"in document&&(Wl=document.documentMode);var qv=dn&&"TextEvent"in window&&!Wl,Ah=dn&&(!Iu||Wl&&8<Wl&&11>=Wl),Rh=" ",Mh=!1;function Dh(e,t){switch(e){case"keyup":return jv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pi=!1;function Gv(e,t){switch(e){case"compositionend":return Oh(t);case"keypress":return t.which!==32?null:(Mh=!0,Rh);case"textInput":return e=t.data,e===Rh&&Mh?null:e;default:return null}}function Yv(e,t){if(Pi)return e==="compositionend"||!Iu&&Dh(e,t)?(e=Eh(),Ca=wu=Bn=null,Pi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ah&&t.locale!=="ko"?null:t.data;default:return null}}var kv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kv[e.type]:t==="textarea"}function xh(e,t,i,a){Fi?Ji?Ji.push(a):Ji=[a]:Fi=a,t=pr(t,"onChange"),0<t.length&&(i=new Aa("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var $l=null,es=null;function Vv(e){m_(e,0)}function Ma(e){var t=Zl(e);if(dh(t))return e}function zh(e,t){if(e==="change")return t}var Uh=!1;if(dn){var Bu;if(dn){var Hu="oninput"in document;if(!Hu){var Lh=document.createElement("div");Lh.setAttribute("oninput","return;"),Hu=typeof Lh.oninput=="function"}Bu=Hu}else Bu=!1;Uh=Bu&&(!document.documentMode||9<document.documentMode)}function Ih(){$l&&($l.detachEvent("onpropertychange",Bh),es=$l=null)}function Bh(e){if(e.propertyName==="value"&&Ma(es)){var t=[];xh(t,es,e,Mu(e)),Sh(Vv,t)}}function Qv(e,t,i){e==="focusin"?(Ih(),$l=t,es=i,$l.attachEvent("onpropertychange",Bh)):e==="focusout"&&Ih()}function Xv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ma(es)}function Zv(e,t){if(e==="click")return Ma(t)}function Kv(e,t){if(e==="input"||e==="change")return Ma(t)}function Fv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:Fv;function ts(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var u=i[a];if(!_u.call(t,u)||!xt(e[u],t[u]))return!1}return!0}function Hh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jh(e,t){var i=Hh(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Hh(i)}}function qh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ea(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Ea(e.document)}return t}function ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Jv=dn&&"documentMode"in document&&11>=document.documentMode,Wi=null,qu=null,ns=null,Gu=!1;function Yh(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Gu||Wi==null||Wi!==Ea(a)||(a=Wi,"selectionStart"in a&&ju(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ns&&ts(ns,a)||(ns=a,a=pr(qu,"onSelect"),0<a.length&&(t=new Aa("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Wi)))}function gi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var $i={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionrun:gi("Transition","TransitionRun"),transitionstart:gi("Transition","TransitionStart"),transitioncancel:gi("Transition","TransitionCancel"),transitionend:gi("Transition","TransitionEnd")},Yu={},kh={};dn&&(kh=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function yi(e){if(Yu[e])return Yu[e];if(!$i[e])return e;var t=$i[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in kh)return Yu[e]=t[i];return e}var Vh=yi("animationend"),Qh=yi("animationiteration"),Xh=yi("animationstart"),Pv=yi("transitionrun"),Wv=yi("transitionstart"),$v=yi("transitioncancel"),Zh=yi("transitionend"),Kh=new Map,ku="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ku.push("scrollEnd");function Wt(e,t){Kh.set(e,t),_i(t,[e])}var Da=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vt=[],el=0,Vu=0;function Oa(){for(var e=el,t=Vu=el=0;t<e;){var i=Vt[t];Vt[t++]=null;var a=Vt[t];Vt[t++]=null;var u=Vt[t];Vt[t++]=null;var c=Vt[t];if(Vt[t++]=null,a!==null&&u!==null){var d=a.pending;d===null?u.next=u:(u.next=d.next,d.next=u),a.pending=u}c!==0&&Fh(i,u,c)}}function wa(e,t,i,a){Vt[el++]=e,Vt[el++]=t,Vt[el++]=i,Vt[el++]=a,Vu|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Qu(e,t,i,a){return wa(e,t,i,a),xa(e)}function vi(e,t){return wa(e,null,null,t),xa(e)}function Fh(e,t,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var u=!1,c=e.return;c!==null;)c.childLanes|=i,a=c.alternate,a!==null&&(a.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(u=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,u&&t!==null&&(u=31-wt(i),e=c.hiddenUpdates,a=e[u],a===null?e[u]=[t]:a.push(t),t.lane=i|536870912),c):null}function xa(e){if(50<Ts)throw Ts=0,tc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var tl={};function e0(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,i,a){return new e0(e,t,i,a)}function Xu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mn(e,t){var i=e.alternate;return i===null?(i=zt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Jh(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function za(e,t,i,a,u,c){var d=0;if(a=e,typeof e=="function")Xu(e)&&(d=1);else if(typeof e=="string")d=s1(e,i,k.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case dt:return e=zt(31,i,t,u),e.elementType=dt,e.lanes=c,e;case B:return Si(i.children,u,c,t);case H:d=8,u|=24;break;case Z:return e=zt(12,i,t,u|2),e.elementType=Z,e.lanes=c,e;case ye:return e=zt(13,i,t,u),e.elementType=ye,e.lanes=c,e;case qe:return e=zt(19,i,t,u),e.elementType=qe,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:d=10;break e;case $:d=9;break e;case J:d=11;break e;case ne:d=14;break e;case Be:d=16,a=null;break e}d=29,i=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=zt(d,i,t,u),t.elementType=e,t.type=a,t.lanes=c,t}function Si(e,t,i,a){return e=zt(7,e,a,t),e.lanes=i,e}function Zu(e,t,i){return e=zt(6,e,null,t),e.lanes=i,e}function Ph(e){var t=zt(18,null,null,0);return t.stateNode=e,t}function Ku(e,t,i){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wh=new WeakMap;function Qt(e,t){if(typeof e=="object"&&e!==null){var i=Wh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Pf(t)},Wh.set(e,t),t)}return{value:e,source:t,stack:Pf(t)}}var nl=[],il=0,Ua=null,is=0,Xt=[],Zt=0,Hn=null,an=1,rn="";function _n(e,t){nl[il++]=is,nl[il++]=Ua,Ua=e,is=t}function $h(e,t,i){Xt[Zt++]=an,Xt[Zt++]=rn,Xt[Zt++]=Hn,Hn=e;var a=an;e=rn;var u=32-wt(a)-1;a&=~(1<<u),i+=1;var c=32-wt(t)+u;if(30<c){var d=u-u%5;c=(a&(1<<d)-1).toString(32),a>>=d,u-=d,an=1<<32-wt(t)+u|i<<u|a,rn=c+e}else an=1<<c|i<<u|a,rn=e}function Fu(e){e.return!==null&&(_n(e,1),$h(e,1,0))}function Ju(e){for(;e===Ua;)Ua=nl[--il],nl[il]=null,is=nl[--il],nl[il]=null;for(;e===Hn;)Hn=Xt[--Zt],Xt[Zt]=null,rn=Xt[--Zt],Xt[Zt]=null,an=Xt[--Zt],Xt[Zt]=null}function ed(e,t){Xt[Zt++]=an,Xt[Zt++]=rn,Xt[Zt++]=Hn,an=t.id,rn=t.overflow,Hn=e}var ot=null,Ue=null,ge=!1,jn=null,Kt=!1,Pu=Error(r(519));function qn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ls(Qt(t,e)),Pu}function td(e){var t=e.stateNode,i=e.type,a=e.memoizedProps;switch(t[ut]=e,t[vt]=a,i){case"dialog":ce("cancel",t),ce("close",t);break;case"iframe":case"object":case"embed":ce("load",t);break;case"video":case"audio":for(i=0;i<As.length;i++)ce(As[i],t);break;case"source":ce("error",t);break;case"img":case"image":case"link":ce("error",t),ce("load",t);break;case"details":ce("toggle",t);break;case"input":ce("invalid",t),mh(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ce("invalid",t);break;case"textarea":ce("invalid",t),ph(t,a.value,a.defaultValue,a.children)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||a.suppressHydrationWarning===!0||y_(t.textContent,i)?(a.popover!=null&&(ce("beforetoggle",t),ce("toggle",t)),a.onScroll!=null&&ce("scroll",t),a.onScrollEnd!=null&&ce("scrollend",t),a.onClick!=null&&(t.onclick=hn),t=!0):t=!1,t||qn(e,!0)}function nd(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 31:case 13:Kt=!1;return;case 27:case 3:Kt=!0;return;default:ot=ot.return}}function ll(e){if(e!==ot)return!1;if(!ge)return nd(e),ge=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||pc(e.type,e.memoizedProps)),i=!i),i&&Ue&&qn(e),nd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ue=R_(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ue=R_(e)}else t===27?(t=Ue,ei(e.type)?(e=Ec,Ec=null,Ue=e):Ue=t):Ue=ot?Jt(e.stateNode.nextSibling):null;return!0}function Ei(){Ue=ot=null,ge=!1}function Wu(){var e=jn;return e!==null&&(Tt===null?Tt=e:Tt.push.apply(Tt,e),jn=null),e}function ls(e){jn===null?jn=[e]:jn.push(e)}var $u=b(null),bi=null,pn=null;function Gn(e,t,i){Y($u,t._currentValue),t._currentValue=i}function gn(e){e._currentValue=$u.current,U($u)}function eo(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function to(e,t,i,a){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var c=u.dependencies;if(c!==null){var d=u.child;c=c.firstContext;e:for(;c!==null;){var g=c;c=u;for(var E=0;E<t.length;E++)if(g.context===t[E]){c.lanes|=i,g=c.alternate,g!==null&&(g.lanes|=i),eo(c.return,i,e),a||(d=null);break e}c=g.next}}else if(u.tag===18){if(d=u.return,d===null)throw Error(r(341));d.lanes|=i,c=d.alternate,c!==null&&(c.lanes|=i),eo(d,i,e),d=null}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===e){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}}function sl(e,t,i,a){e=null;for(var u=t,c=!1;u!==null;){if(!c){if((u.flags&524288)!==0)c=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var d=u.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var g=u.type;xt(u.pendingProps.value,d.value)||(e!==null?e.push(g):e=[g])}}else if(u===Ce.current){if(d=u.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(ws):e=[ws])}u=u.return}e!==null&&to(t,e,i,a),t.flags|=262144}function La(e){for(e=e.firstContext;e!==null;){if(!xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){bi=e,pn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return id(bi,e)}function Ia(e,t){return bi===null&&Ci(e),id(e,t)}function id(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},pn===null){if(e===null)throw Error(r(308));pn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else pn=pn.next=t;return i}var t0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},n0=s.unstable_scheduleCallback,i0=s.unstable_NormalPriority,Ke={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function no(){return{controller:new t0,data:new Map,refCount:0}}function ss(e){e.refCount--,e.refCount===0&&n0(i0,function(){e.controller.abort()})}var as=null,io=0,al=0,rl=null;function l0(e,t){if(as===null){var i=as=[];io=0,al=rc(),rl={status:"pending",value:void 0,then:function(a){i.push(a)}}}return io++,t.then(ld,ld),t}function ld(){if(--io===0&&as!==null){rl!==null&&(rl.status="fulfilled");var e=as;as=null,al=0,rl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function s0(e,t){var i=[],a={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(a.status="rejected",a.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),a}var sd=x.S;x.S=function(e,t){Ym=Dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&l0(e,t),sd!==null&&sd(e,t)};var Ti=b(null);function lo(){var e=Ti.current;return e!==null?e:Oe.pooledCache}function Ba(e,t){t===null?Y(Ti,Ti.current):Y(Ti,t.pool)}function ad(){var e=lo();return e===null?null:{parent:Ke._currentValue,pool:e}}var ul=Error(r(460)),so=Error(r(474)),Ha=Error(r(542)),ja={then:function(){}};function rd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ud(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(hn,hn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cd(e),e;default:if(typeof t.status=="string")t.then(hn,hn);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=a}},function(a){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cd(e),e}throw Ai=t,ul}}function Ni(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ai=i,ul):i}}var Ai=null;function od(){if(Ai===null)throw Error(r(459));var e=Ai;return Ai=null,e}function cd(e){if(e===ul||e===Ha)throw Error(r(483))}var ol=null,rs=0;function qa(e){var t=rs;return rs+=1,ol===null&&(ol=[]),ud(ol,e,t)}function us(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ga(e,t){throw t.$$typeof===S?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function fd(e){function t(T,C){if(e){var R=T.deletions;R===null?(T.deletions=[C],T.flags|=16):R.push(C)}}function i(T,C){if(!e)return null;for(;C!==null;)t(T,C),C=C.sibling;return null}function a(T){for(var C=new Map;T!==null;)T.key!==null?C.set(T.key,T):C.set(T.index,T),T=T.sibling;return C}function u(T,C){return T=mn(T,C),T.index=0,T.sibling=null,T}function c(T,C,R){return T.index=R,e?(R=T.alternate,R!==null?(R=R.index,R<C?(T.flags|=67108866,C):R):(T.flags|=67108866,C)):(T.flags|=1048576,C)}function d(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function g(T,C,R,L){return C===null||C.tag!==6?(C=Zu(R,T.mode,L),C.return=T,C):(C=u(C,R),C.return=T,C)}function E(T,C,R,L){var F=R.type;return F===B?z(T,C,R.props.children,L,R.key):C!==null&&(C.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Be&&Ni(F)===C.type)?(C=u(C,R.props),us(C,R),C.return=T,C):(C=za(R.type,R.key,R.props,null,T.mode,L),us(C,R),C.return=T,C)}function M(T,C,R,L){return C===null||C.tag!==4||C.stateNode.containerInfo!==R.containerInfo||C.stateNode.implementation!==R.implementation?(C=Ku(R,T.mode,L),C.return=T,C):(C=u(C,R.children||[]),C.return=T,C)}function z(T,C,R,L,F){return C===null||C.tag!==7?(C=Si(R,T.mode,L,F),C.return=T,C):(C=u(C,R),C.return=T,C)}function I(T,C,R){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Zu(""+C,T.mode,R),C.return=T,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case O:return R=za(C.type,C.key,C.props,null,T.mode,R),us(R,C),R.return=T,R;case A:return C=Ku(C,T.mode,R),C.return=T,C;case Be:return C=Ni(C),I(T,C,R)}if(P(C)||nt(C))return C=Si(C,T.mode,R,null),C.return=T,C;if(typeof C.then=="function")return I(T,qa(C),R);if(C.$$typeof===q)return I(T,Ia(T,C),R);Ga(T,C)}return null}function D(T,C,R,L){var F=C!==null?C.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return F!==null?null:g(T,C,""+R,L);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case O:return R.key===F?E(T,C,R,L):null;case A:return R.key===F?M(T,C,R,L):null;case Be:return R=Ni(R),D(T,C,R,L)}if(P(R)||nt(R))return F!==null?null:z(T,C,R,L,null);if(typeof R.then=="function")return D(T,C,qa(R),L);if(R.$$typeof===q)return D(T,C,Ia(T,R),L);Ga(T,R)}return null}function w(T,C,R,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return T=T.get(R)||null,g(C,T,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case O:return T=T.get(L.key===null?R:L.key)||null,E(C,T,L,F);case A:return T=T.get(L.key===null?R:L.key)||null,M(C,T,L,F);case Be:return L=Ni(L),w(T,C,R,L,F)}if(P(L)||nt(L))return T=T.get(R)||null,z(C,T,L,F,null);if(typeof L.then=="function")return w(T,C,R,qa(L),F);if(L.$$typeof===q)return w(T,C,R,Ia(C,L),F);Ga(C,L)}return null}function Q(T,C,R,L){for(var F=null,ve=null,X=C,se=C=0,_e=null;X!==null&&se<R.length;se++){X.index>se?(_e=X,X=null):_e=X.sibling;var Se=D(T,X,R[se],L);if(Se===null){X===null&&(X=_e);break}e&&X&&Se.alternate===null&&t(T,X),C=c(Se,C,se),ve===null?F=Se:ve.sibling=Se,ve=Se,X=_e}if(se===R.length)return i(T,X),ge&&_n(T,se),F;if(X===null){for(;se<R.length;se++)X=I(T,R[se],L),X!==null&&(C=c(X,C,se),ve===null?F=X:ve.sibling=X,ve=X);return ge&&_n(T,se),F}for(X=a(X);se<R.length;se++)_e=w(X,T,se,R[se],L),_e!==null&&(e&&_e.alternate!==null&&X.delete(_e.key===null?se:_e.key),C=c(_e,C,se),ve===null?F=_e:ve.sibling=_e,ve=_e);return e&&X.forEach(function(si){return t(T,si)}),ge&&_n(T,se),F}function W(T,C,R,L){if(R==null)throw Error(r(151));for(var F=null,ve=null,X=C,se=C=0,_e=null,Se=R.next();X!==null&&!Se.done;se++,Se=R.next()){X.index>se?(_e=X,X=null):_e=X.sibling;var si=D(T,X,Se.value,L);if(si===null){X===null&&(X=_e);break}e&&X&&si.alternate===null&&t(T,X),C=c(si,C,se),ve===null?F=si:ve.sibling=si,ve=si,X=_e}if(Se.done)return i(T,X),ge&&_n(T,se),F;if(X===null){for(;!Se.done;se++,Se=R.next())Se=I(T,Se.value,L),Se!==null&&(C=c(Se,C,se),ve===null?F=Se:ve.sibling=Se,ve=Se);return ge&&_n(T,se),F}for(X=a(X);!Se.done;se++,Se=R.next())Se=w(X,T,se,Se.value,L),Se!==null&&(e&&Se.alternate!==null&&X.delete(Se.key===null?se:Se.key),C=c(Se,C,se),ve===null?F=Se:ve.sibling=Se,ve=Se);return e&&X.forEach(function(p1){return t(T,p1)}),ge&&_n(T,se),F}function De(T,C,R,L){if(typeof R=="object"&&R!==null&&R.type===B&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case O:e:{for(var F=R.key;C!==null;){if(C.key===F){if(F=R.type,F===B){if(C.tag===7){i(T,C.sibling),L=u(C,R.props.children),L.return=T,T=L;break e}}else if(C.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Be&&Ni(F)===C.type){i(T,C.sibling),L=u(C,R.props),us(L,R),L.return=T,T=L;break e}i(T,C);break}else t(T,C);C=C.sibling}R.type===B?(L=Si(R.props.children,T.mode,L,R.key),L.return=T,T=L):(L=za(R.type,R.key,R.props,null,T.mode,L),us(L,R),L.return=T,T=L)}return d(T);case A:e:{for(F=R.key;C!==null;){if(C.key===F)if(C.tag===4&&C.stateNode.containerInfo===R.containerInfo&&C.stateNode.implementation===R.implementation){i(T,C.sibling),L=u(C,R.children||[]),L.return=T,T=L;break e}else{i(T,C);break}else t(T,C);C=C.sibling}L=Ku(R,T.mode,L),L.return=T,T=L}return d(T);case Be:return R=Ni(R),De(T,C,R,L)}if(P(R))return Q(T,C,R,L);if(nt(R)){if(F=nt(R),typeof F!="function")throw Error(r(150));return R=F.call(R),W(T,C,R,L)}if(typeof R.then=="function")return De(T,C,qa(R),L);if(R.$$typeof===q)return De(T,C,Ia(T,R),L);Ga(T,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,C!==null&&C.tag===6?(i(T,C.sibling),L=u(C,R),L.return=T,T=L):(i(T,C),L=Zu(R,T.mode,L),L.return=T,T=L),d(T)):i(T,C)}return function(T,C,R,L){try{rs=0;var F=De(T,C,R,L);return ol=null,F}catch(X){if(X===ul||X===Ha)throw X;var ve=zt(29,X,null,T.mode);return ve.lanes=L,ve.return=T,ve}finally{}}}var Ri=fd(!0),hd=fd(!1),Yn=!1;function ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vn(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(be&2)!==0){var u=a.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),a.pending=t,t=xa(e),Fh(e,null,i),t}return wa(e,a,t,i),xa(e)}function os(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,ih(e,i)}}function uo(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var u=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?u=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?u=c=t:c=c.next=t}else u=c=t;i={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var oo=!1;function cs(){if(oo){var e=rl;if(e!==null)throw e}}function fs(e,t,i,a){oo=!1;var u=e.updateQueue;Yn=!1;var c=u.firstBaseUpdate,d=u.lastBaseUpdate,g=u.shared.pending;if(g!==null){u.shared.pending=null;var E=g,M=E.next;E.next=null,d===null?c=M:d.next=M,d=E;var z=e.alternate;z!==null&&(z=z.updateQueue,g=z.lastBaseUpdate,g!==d&&(g===null?z.firstBaseUpdate=M:g.next=M,z.lastBaseUpdate=E))}if(c!==null){var I=u.baseState;d=0,z=M=E=null,g=c;do{var D=g.lane&-536870913,w=D!==g.lane;if(w?(me&D)===D:(a&D)===D){D!==0&&D===al&&(oo=!0),z!==null&&(z=z.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var Q=e,W=g;D=t;var De=i;switch(W.tag){case 1:if(Q=W.payload,typeof Q=="function"){I=Q.call(De,I,D);break e}I=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=W.payload,D=typeof Q=="function"?Q.call(De,I,D):Q,D==null)break e;I=v({},I,D);break e;case 2:Yn=!0}}D=g.callback,D!==null&&(e.flags|=64,w&&(e.flags|=8192),w=u.callbacks,w===null?u.callbacks=[D]:w.push(D))}else w={lane:D,tag:g.tag,payload:g.payload,callback:g.callback,next:null},z===null?(M=z=w,E=I):z=z.next=w,d|=D;if(g=g.next,g===null){if(g=u.shared.pending,g===null)break;w=g,g=w.next,w.next=null,u.lastBaseUpdate=w,u.shared.pending=null}}while(!0);z===null&&(E=I),u.baseState=E,u.firstBaseUpdate=M,u.lastBaseUpdate=z,c===null&&(u.shared.lanes=0),Fn|=d,e.lanes=d,e.memoizedState=I}}function dd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function md(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)dd(i[e],t)}var cl=b(null),Ya=b(0);function _d(e,t){e=An,Y(Ya,e),Y(cl,t),An=e|t.baseLanes}function co(){Y(Ya,An),Y(cl,cl.current)}function fo(){An=Ya.current,U(cl),U(Ya)}var Ut=b(null),Ft=null;function Qn(e){var t=e.alternate;Y(Xe,Xe.current&1),Y(Ut,e),Ft===null&&(t===null||cl.current!==null||t.memoizedState!==null)&&(Ft=e)}function ho(e){Y(Xe,Xe.current),Y(Ut,e),Ft===null&&(Ft=e)}function pd(e){e.tag===22?(Y(Xe,Xe.current),Y(Ut,e),Ft===null&&(Ft=e)):Xn()}function Xn(){Y(Xe,Xe.current),Y(Ut,Ut.current)}function Lt(e){U(Ut),Ft===e&&(Ft=null),U(Xe)}var Xe=b(0);function ka(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||vc(i)||Sc(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yn=0,le=null,Re=null,Fe=null,Va=!1,fl=!1,Mi=!1,Qa=0,hs=0,hl=null,a0=0;function Ge(){throw Error(r(321))}function mo(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!xt(e[i],t[i]))return!1;return!0}function _o(e,t,i,a,u,c){return yn=c,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,x.H=e===null||e.memoizedState===null?$d:Oo,Mi=!1,c=i(a,u),Mi=!1,fl&&(c=yd(t,i,a,u)),gd(e),c}function gd(e){x.H=_s;var t=Re!==null&&Re.next!==null;if(yn=0,Fe=Re=le=null,Va=!1,hs=0,hl=null,t)throw Error(r(300));e===null||Je||(e=e.dependencies,e!==null&&La(e)&&(Je=!0))}function yd(e,t,i,a){le=e;var u=0;do{if(fl&&(hl=null),hs=0,fl=!1,25<=u)throw Error(r(301));if(u+=1,Fe=Re=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}x.H=em,c=t(i,a)}while(fl);return c}function r0(){var e=x.H,t=e.useState()[0];return t=typeof t.then=="function"?ds(t):t,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(le.flags|=1024),t}function po(){var e=Qa!==0;return Qa=0,e}function go(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function yo(e){if(Va){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Va=!1}yn=0,Fe=Re=le=null,fl=!1,hs=Qa=0,hl=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?le.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Ze(){if(Re===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Fe===null?le.memoizedState:Fe.next;if(t!==null)Fe=t,Re=e;else{if(e===null)throw le.alternate===null?Error(r(467)):Error(r(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Fe===null?le.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Xa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ds(e){var t=hs;return hs+=1,hl===null&&(hl=[]),e=ud(hl,e,t),t=le,(Fe===null?t.memoizedState:Fe.next)===null&&(t=t.alternate,x.H=t===null||t.memoizedState===null?$d:Oo),e}function Za(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ds(e);if(e.$$typeof===q)return ct(e)}throw Error(r(438,String(e)))}function vo(e){var t=null,i=le.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var a=le.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Xa(),le.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),a=0;a<e;a++)i[a]=qt;return t.index++,i}function vn(e,t){return typeof t=="function"?t(e):t}function Ka(e){var t=Ze();return So(t,Re,e)}function So(e,t,i){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var u=e.baseQueue,c=a.pending;if(c!==null){if(u!==null){var d=u.next;u.next=c.next,c.next=d}t.baseQueue=u=c,a.pending=null}if(c=e.baseState,u===null)e.memoizedState=c;else{t=u.next;var g=d=null,E=null,M=t,z=!1;do{var I=M.lane&-536870913;if(I!==M.lane?(me&I)===I:(yn&I)===I){var D=M.revertLane;if(D===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),I===al&&(z=!0);else if((yn&D)===D){M=M.next,D===al&&(z=!0);continue}else I={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},E===null?(g=E=I,d=c):E=E.next=I,le.lanes|=D,Fn|=D;I=M.action,Mi&&i(c,I),c=M.hasEagerState?M.eagerState:i(c,I)}else D={lane:I,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},E===null?(g=E=D,d=c):E=E.next=D,le.lanes|=I,Fn|=I;M=M.next}while(M!==null&&M!==t);if(E===null?d=c:E.next=g,!xt(c,e.memoizedState)&&(Je=!0,z&&(i=rl,i!==null)))throw i;e.memoizedState=c,e.baseState=d,e.baseQueue=E,a.lastRenderedState=c}return u===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Eo(e){var t=Ze(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var a=i.dispatch,u=i.pending,c=t.memoizedState;if(u!==null){i.pending=null;var d=u=u.next;do c=e(c,d.action),d=d.next;while(d!==u);xt(c,t.memoizedState)||(Je=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,a]}function vd(e,t,i){var a=le,u=Ze(),c=ge;if(c){if(i===void 0)throw Error(r(407));i=i()}else i=t();var d=!xt((Re||u).memoizedState,i);if(d&&(u.memoizedState=i,Je=!0),u=u.queue,To(bd.bind(null,a,u,e),[e]),u.getSnapshot!==t||d||Fe!==null&&Fe.memoizedState.tag&1){if(a.flags|=2048,dl(9,{destroy:void 0},Ed.bind(null,a,u,i,t),null),Oe===null)throw Error(r(349));c||(yn&127)!==0||Sd(a,t,i)}return i}function Sd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=le.updateQueue,t===null?(t=Xa(),le.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Ed(e,t,i,a){t.value=i,t.getSnapshot=a,Cd(t)&&Td(e)}function bd(e,t,i){return i(function(){Cd(t)&&Td(e)})}function Cd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!xt(e,i)}catch{return!0}}function Td(e){var t=vi(e,2);t!==null&&Nt(t,e,2)}function bo(e){var t=gt();if(typeof e=="function"){var i=e;if(e=i(),Mi){Ln(!0);try{i()}finally{Ln(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:e},t}function Nd(e,t,i,a){return e.baseState=i,So(e,Re,typeof a=="function"?a:vn)}function u0(e,t,i,a,u){if(Pa(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};x.T!==null?i(!0):c.isTransition=!1,a(c),i=t.pending,i===null?(c.next=t.pending=c,Ad(t,c)):(c.next=i.next,t.pending=i.next=c)}}function Ad(e,t){var i=t.action,a=t.payload,u=e.state;if(t.isTransition){var c=x.T,d={};x.T=d;try{var g=i(u,a),E=x.S;E!==null&&E(d,g),Rd(e,t,g)}catch(M){Co(e,t,M)}finally{c!==null&&d.types!==null&&(c.types=d.types),x.T=c}}else try{c=i(u,a),Rd(e,t,c)}catch(M){Co(e,t,M)}}function Rd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){Md(e,t,a)},function(a){return Co(e,t,a)}):Md(e,t,i)}function Md(e,t,i){t.status="fulfilled",t.value=i,Dd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Ad(e,i)))}function Co(e,t,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=i,Dd(t),t=t.next;while(t!==a)}e.action=null}function Dd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Od(e,t){return t}function wd(e,t){if(ge){var i=Oe.formState;if(i!==null){e:{var a=le;if(ge){if(Ue){t:{for(var u=Ue,c=Kt;u.nodeType!==8;){if(!c){u=null;break t}if(u=Jt(u.nextSibling),u===null){u=null;break t}}c=u.data,u=c==="F!"||c==="F"?u:null}if(u){Ue=Jt(u.nextSibling),a=u.data==="F!";break e}}qn(a)}a=!1}a&&(t=i[0])}}return i=gt(),i.memoizedState=i.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Od,lastRenderedState:t},i.queue=a,i=Jd.bind(null,le,a),a.dispatch=i,a=bo(!1),c=Do.bind(null,le,!1,a.queue),a=gt(),u={state:t,dispatch:null,action:e,pending:null},a.queue=u,i=u0.bind(null,le,u,c,i),u.dispatch=i,a.memoizedState=e,[t,i,!1]}function xd(e){var t=Ze();return zd(t,Re,e)}function zd(e,t,i){if(t=So(e,t,Od)[0],e=Ka(vn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=ds(t)}catch(d){throw d===ul?Ha:d}else a=t;t=Ze();var u=t.queue,c=u.dispatch;return i!==t.memoizedState&&(le.flags|=2048,dl(9,{destroy:void 0},o0.bind(null,u,i),null)),[a,c,e]}function o0(e,t){e.action=t}function Ud(e){var t=Ze(),i=Re;if(i!==null)return zd(t,i,e);Ze(),t=t.memoizedState,i=Ze();var a=i.queue.dispatch;return i.memoizedState=e,[t,a,!1]}function dl(e,t,i,a){return e={tag:e,create:i,deps:a,inst:t,next:null},t=le.updateQueue,t===null&&(t=Xa(),le.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function Ld(){return Ze().memoizedState}function Fa(e,t,i,a){var u=gt();le.flags|=e,u.memoizedState=dl(1|t,{destroy:void 0},i,a===void 0?null:a)}function Ja(e,t,i,a){var u=Ze();a=a===void 0?null:a;var c=u.memoizedState.inst;Re!==null&&a!==null&&mo(a,Re.memoizedState.deps)?u.memoizedState=dl(t,c,i,a):(le.flags|=e,u.memoizedState=dl(1|t,c,i,a))}function Id(e,t){Fa(8390656,8,e,t)}function To(e,t){Ja(2048,8,e,t)}function c0(e){le.flags|=4;var t=le.updateQueue;if(t===null)t=Xa(),le.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Bd(e){var t=Ze().memoizedState;return c0({ref:t,nextImpl:e}),function(){if((be&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Hd(e,t){return Ja(4,2,e,t)}function jd(e,t){return Ja(4,4,e,t)}function qd(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gd(e,t,i){i=i!=null?i.concat([e]):null,Ja(4,4,qd.bind(null,t,e),i)}function No(){}function Yd(e,t){var i=Ze();t=t===void 0?null:t;var a=i.memoizedState;return t!==null&&mo(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function kd(e,t){var i=Ze();t=t===void 0?null:t;var a=i.memoizedState;if(t!==null&&mo(t,a[1]))return a[0];if(a=e(),Mi){Ln(!0);try{e()}finally{Ln(!1)}}return i.memoizedState=[a,t],a}function Ao(e,t,i){return i===void 0||(yn&1073741824)!==0&&(me&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Vm(),le.lanes|=e,Fn|=e,i)}function Vd(e,t,i,a){return xt(i,t)?i:cl.current!==null?(e=Ao(e,i,a),xt(e,t)||(Je=!0),e):(yn&42)===0||(yn&1073741824)!==0&&(me&261930)===0?(Je=!0,e.memoizedState=i):(e=Vm(),le.lanes|=e,Fn|=e,t)}function Qd(e,t,i,a,u){var c=j.p;j.p=c!==0&&8>c?c:8;var d=x.T,g={};x.T=g,Do(e,!1,t,i);try{var E=u(),M=x.S;if(M!==null&&M(g,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var z=s0(E,a);ms(e,t,z,Ht(e))}else ms(e,t,a,Ht(e))}catch(I){ms(e,t,{then:function(){},status:"rejected",reason:I},Ht())}finally{j.p=c,d!==null&&g.types!==null&&(d.types=g.types),x.T=d}}function f0(){}function Ro(e,t,i,a){if(e.tag!==5)throw Error(r(476));var u=Xd(e).queue;Qd(e,u,t,V,i===null?f0:function(){return Zd(e),i(a)})}function Xd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:V},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Zd(e){var t=Xd(e);t.next===null&&(t=e.alternate.memoizedState),ms(e,t.next.queue,{},Ht())}function Mo(){return ct(ws)}function Kd(){return Ze().memoizedState}function Fd(){return Ze().memoizedState}function h0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Ht();e=kn(i);var a=Vn(t,e,i);a!==null&&(Nt(a,t,i),os(a,t,i)),t={cache:no()},e.payload=t;return}t=t.return}}function d0(e,t,i){var a=Ht();i={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Pa(e)?Pd(t,i):(i=Qu(e,t,i,a),i!==null&&(Nt(i,e,a),Wd(i,t,a)))}function Jd(e,t,i){var a=Ht();ms(e,t,i,a)}function ms(e,t,i,a){var u={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Pa(e))Pd(t,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,g=c(d,i);if(u.hasEagerState=!0,u.eagerState=g,xt(g,d))return wa(e,t,u,0),Oe===null&&Oa(),!1}catch{}finally{}if(i=Qu(e,t,u,a),i!==null)return Nt(i,e,a),Wd(i,t,a),!0}return!1}function Do(e,t,i,a){if(a={lane:2,revertLane:rc(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Pa(e)){if(t)throw Error(r(479))}else t=Qu(e,i,a,2),t!==null&&Nt(t,e,2)}function Pa(e){var t=e.alternate;return e===le||t!==null&&t===le}function Pd(e,t){fl=Va=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Wd(e,t,i){if((i&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,ih(e,i)}}var _s={readContext:ct,use:Za,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};_s.useEffectEvent=Ge;var $d={readContext:ct,use:Za,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Id,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Fa(4194308,4,qd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Fa(4194308,4,e,t)},useInsertionEffect:function(e,t){Fa(4,2,e,t)},useMemo:function(e,t){var i=gt();t=t===void 0?null:t;var a=e();if(Mi){Ln(!0);try{e()}finally{Ln(!1)}}return i.memoizedState=[a,t],a},useReducer:function(e,t,i){var a=gt();if(i!==void 0){var u=i(t);if(Mi){Ln(!0);try{i(t)}finally{Ln(!1)}}}else u=t;return a.memoizedState=a.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},a.queue=e,e=e.dispatch=d0.bind(null,le,e),[a.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:function(e){e=bo(e);var t=e.queue,i=Jd.bind(null,le,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:No,useDeferredValue:function(e,t){var i=gt();return Ao(i,e,t)},useTransition:function(){var e=bo(!1);return e=Qd.bind(null,le,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var a=le,u=gt();if(ge){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),Oe===null)throw Error(r(349));(me&127)!==0||Sd(a,t,i)}u.memoizedState=i;var c={value:i,getSnapshot:t};return u.queue=c,Id(bd.bind(null,a,c,e),[e]),a.flags|=2048,dl(9,{destroy:void 0},Ed.bind(null,a,c,i,t),null),i},useId:function(){var e=gt(),t=Oe.identifierPrefix;if(ge){var i=rn,a=an;i=(a&~(1<<32-wt(a)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Qa++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=a0++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Mo,useFormState:wd,useActionState:wd,useOptimistic:function(e){var t=gt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Do.bind(null,le,!0,i),i.dispatch=t,[e,t]},useMemoCache:vo,useCacheRefresh:function(){return gt().memoizedState=h0.bind(null,le)},useEffectEvent:function(e){var t=gt(),i={impl:e};return t.memoizedState=i,function(){if((be&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},Oo={readContext:ct,use:Za,useCallback:Yd,useContext:ct,useEffect:To,useImperativeHandle:Gd,useInsertionEffect:Hd,useLayoutEffect:jd,useMemo:kd,useReducer:Ka,useRef:Ld,useState:function(){return Ka(vn)},useDebugValue:No,useDeferredValue:function(e,t){var i=Ze();return Vd(i,Re.memoizedState,e,t)},useTransition:function(){var e=Ka(vn)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:ds(e),t]},useSyncExternalStore:vd,useId:Kd,useHostTransitionStatus:Mo,useFormState:xd,useActionState:xd,useOptimistic:function(e,t){var i=Ze();return Nd(i,Re,e,t)},useMemoCache:vo,useCacheRefresh:Fd};Oo.useEffectEvent=Bd;var em={readContext:ct,use:Za,useCallback:Yd,useContext:ct,useEffect:To,useImperativeHandle:Gd,useInsertionEffect:Hd,useLayoutEffect:jd,useMemo:kd,useReducer:Eo,useRef:Ld,useState:function(){return Eo(vn)},useDebugValue:No,useDeferredValue:function(e,t){var i=Ze();return Re===null?Ao(i,e,t):Vd(i,Re.memoizedState,e,t)},useTransition:function(){var e=Eo(vn)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:ds(e),t]},useSyncExternalStore:vd,useId:Kd,useHostTransitionStatus:Mo,useFormState:Ud,useActionState:Ud,useOptimistic:function(e,t){var i=Ze();return Re!==null?Nd(i,Re,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:vo,useCacheRefresh:Fd};em.useEffectEvent=Bd;function wo(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var xo={enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Ht(),u=kn(a);u.payload=t,i!=null&&(u.callback=i),t=Vn(e,u,a),t!==null&&(Nt(t,e,a),os(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Ht(),u=kn(a);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=Vn(e,u,a),t!==null&&(Nt(t,e,a),os(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Ht(),a=kn(i);a.tag=2,t!=null&&(a.callback=t),t=Vn(e,a,i),t!==null&&(Nt(t,e,i),os(t,e,i))}};function tm(e,t,i,a,u,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,d):t.prototype&&t.prototype.isPureReactComponent?!ts(i,a)||!ts(u,c):!0}function nm(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&xo.enqueueReplaceState(t,t.state,null)}function Di(e,t){var i=t;if("ref"in t){i={};for(var a in t)a!=="ref"&&(i[a]=t[a])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}function im(e){Da(e)}function lm(e){console.error(e)}function sm(e){Da(e)}function Wa(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function am(e,t,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function zo(e,t,i){return i=kn(i),i.tag=3,i.payload={element:null},i.callback=function(){Wa(e,t)},i}function rm(e){return e=kn(e),e.tag=3,e}function um(e,t,i,a){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var c=a.value;e.payload=function(){return u(c)},e.callback=function(){am(t,i,a)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){am(t,i,a),typeof u!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var g=a.stack;this.componentDidCatch(a.value,{componentStack:g!==null?g:""})})}function m0(e,t,i,a,u){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=i.alternate,t!==null&&sl(t,i,u,!0),i=Ut.current,i!==null){switch(i.tag){case 31:case 13:return Ft===null?cr():i.alternate===null&&Ye===0&&(Ye=3),i.flags&=-257,i.flags|=65536,i.lanes=u,a===ja?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([a]):t.add(a),lc(e,a,u)),!1;case 22:return i.flags|=65536,a===ja?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([a]):i.add(a)),lc(e,a,u)),!1}throw Error(r(435,i.tag))}return lc(e,a,u),cr(),!1}if(ge)return t=Ut.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,a!==Pu&&(e=Error(r(422),{cause:a}),ls(Qt(e,i)))):(a!==Pu&&(t=Error(r(423),{cause:a}),ls(Qt(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,a=Qt(a,i),u=zo(e.stateNode,a,u),uo(e,u),Ye!==4&&(Ye=2)),!1;var c=Error(r(520),{cause:a});if(c=Qt(c,i),Cs===null?Cs=[c]:Cs.push(c),Ye!==4&&(Ye=2),t===null)return!0;a=Qt(a,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=zo(i.stateNode,a,e),uo(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Jn===null||!Jn.has(c))))return i.flags|=65536,u&=-u,i.lanes|=u,u=rm(u),um(u,e,i,a),uo(i,u),!1}i=i.return}while(i!==null);return!1}var Uo=Error(r(461)),Je=!1;function ft(e,t,i,a){t.child=e===null?hd(t,null,i,a):Ri(t,e.child,i,a)}function om(e,t,i,a,u){i=i.render;var c=t.ref;if("ref"in a){var d={};for(var g in a)g!=="ref"&&(d[g]=a[g])}else d=a;return Ci(t),a=_o(e,t,i,d,c,u),g=po(),e!==null&&!Je?(go(e,t,u),Sn(e,t,u)):(ge&&g&&Fu(t),t.flags|=1,ft(e,t,a,u),t.child)}function cm(e,t,i,a,u){if(e===null){var c=i.type;return typeof c=="function"&&!Xu(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,fm(e,t,c,a,u)):(e=za(i.type,null,a,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Yo(e,u)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:ts,i(d,a)&&e.ref===t.ref)return Sn(e,t,u)}return t.flags|=1,e=mn(c,a),e.ref=t.ref,e.return=t,t.child=e}function fm(e,t,i,a,u){if(e!==null){var c=e.memoizedProps;if(ts(c,a)&&e.ref===t.ref)if(Je=!1,t.pendingProps=a=c,Yo(e,u))(e.flags&131072)!==0&&(Je=!0);else return t.lanes=e.lanes,Sn(e,t,u)}return Lo(e,t,i,a,u)}function hm(e,t,i,a){var u=a.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|i:i,e!==null){for(a=t.child=e.child,u=0;a!==null;)u=u|a.lanes|a.childLanes,a=a.sibling;a=u&~c}else a=0,t.child=null;return dm(e,t,c,i,a)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ba(t,c!==null?c.cachePool:null),c!==null?_d(t,c):co(),pd(t);else return a=t.lanes=536870912,dm(e,t,c!==null?c.baseLanes|i:i,i,a)}else c!==null?(Ba(t,c.cachePool),_d(t,c),Xn(),t.memoizedState=null):(e!==null&&Ba(t,null),co(),Xn());return ft(e,t,u,i),t.child}function ps(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function dm(e,t,i,a,u){var c=lo();return c=c===null?null:{parent:Ke._currentValue,pool:c},t.memoizedState={baseLanes:i,cachePool:c},e!==null&&Ba(t,null),co(),pd(t),e!==null&&sl(e,t,a,!0),t.childLanes=u,null}function $a(e,t){return t=tr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function mm(e,t,i){return Ri(t,e.child,null,i),e=$a(t,t.pendingProps),e.flags|=2,Lt(t),t.memoizedState=null,e}function _0(e,t,i){var a=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ge){if(a.mode==="hidden")return e=$a(t,a),t.lanes=536870912,ps(null,e);if(ho(t),(e=Ue)?(e=A_(e,Kt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:an,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},i=Ph(e),i.return=t,t.child=i,ot=t,Ue=null)):e=null,e===null)throw qn(t);return t.lanes=536870912,null}return $a(t,a)}var c=e.memoizedState;if(c!==null){var d=c.dehydrated;if(ho(t),u)if(t.flags&256)t.flags&=-257,t=mm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Je||sl(e,t,i,!1),u=(i&e.childLanes)!==0,Je||u){if(a=Oe,a!==null&&(d=lh(a,i),d!==0&&d!==c.retryLane))throw c.retryLane=d,vi(e,d),Nt(a,e,d),Uo;cr(),t=mm(e,t,i)}else e=c.treeContext,Ue=Jt(d.nextSibling),ot=t,ge=!0,jn=null,Kt=!1,e!==null&&ed(t,e),t=$a(t,a),t.flags|=4096;return t}return e=mn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function er(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Lo(e,t,i,a,u){return Ci(t),i=_o(e,t,i,a,void 0,u),a=po(),e!==null&&!Je?(go(e,t,u),Sn(e,t,u)):(ge&&a&&Fu(t),t.flags|=1,ft(e,t,i,u),t.child)}function _m(e,t,i,a,u,c){return Ci(t),t.updateQueue=null,i=yd(t,a,i,u),gd(e),a=po(),e!==null&&!Je?(go(e,t,c),Sn(e,t,c)):(ge&&a&&Fu(t),t.flags|=1,ft(e,t,i,c),t.child)}function pm(e,t,i,a,u){if(Ci(t),t.stateNode===null){var c=tl,d=i.contextType;typeof d=="object"&&d!==null&&(c=ct(d)),c=new i(a,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=xo,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=a,c.state=t.memoizedState,c.refs={},ao(t),d=i.contextType,c.context=typeof d=="object"&&d!==null?ct(d):tl,c.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(wo(t,i,d,a),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&xo.enqueueReplaceState(c,c.state,null),fs(t,a,c,u),cs(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){c=t.stateNode;var g=t.memoizedProps,E=Di(i,g);c.props=E;var M=c.context,z=i.contextType;d=tl,typeof z=="object"&&z!==null&&(d=ct(z));var I=i.getDerivedStateFromProps;z=typeof I=="function"||typeof c.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,z||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(g||M!==d)&&nm(t,c,a,d),Yn=!1;var D=t.memoizedState;c.state=D,fs(t,a,c,u),cs(),M=t.memoizedState,g||D!==M||Yn?(typeof I=="function"&&(wo(t,i,I,a),M=t.memoizedState),(E=Yn||tm(t,i,E,a,D,M,d))?(z||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=M),c.props=a,c.state=M,c.context=d,a=E):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,ro(e,t),d=t.memoizedProps,z=Di(i,d),c.props=z,I=t.pendingProps,D=c.context,M=i.contextType,E=tl,typeof M=="object"&&M!==null&&(E=ct(M)),g=i.getDerivedStateFromProps,(M=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==I||D!==E)&&nm(t,c,a,E),Yn=!1,D=t.memoizedState,c.state=D,fs(t,a,c,u),cs();var w=t.memoizedState;d!==I||D!==w||Yn||e!==null&&e.dependencies!==null&&La(e.dependencies)?(typeof g=="function"&&(wo(t,i,g,a),w=t.memoizedState),(z=Yn||tm(t,i,z,a,D,w,E)||e!==null&&e.dependencies!==null&&La(e.dependencies))?(M||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,w,E),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,w,E)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=w),c.props=a,c.state=w,c.context=E,a=z):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),a=!1)}return c=a,er(e,t),a=(t.flags&128)!==0,c||a?(c=t.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&a?(t.child=Ri(t,e.child,null,u),t.child=Ri(t,null,i,u)):ft(e,t,i,u),t.memoizedState=c.state,e=t.child):e=Sn(e,t,u),e}function gm(e,t,i,a){return Ei(),t.flags|=256,ft(e,t,i,a),t.child}var Io={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bo(e){return{baseLanes:e,cachePool:ad()}}function Ho(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Bt),e}function ym(e,t,i){var a=t.pendingProps,u=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),d&&(u=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(ge){if(u?Qn(t):Xn(),(e=Ue)?(e=A_(e,Kt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Hn!==null?{id:an,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},i=Ph(e),i.return=t,t.child=i,ot=t,Ue=null)):e=null,e===null)throw qn(t);return Sc(e)?t.lanes=32:t.lanes=536870912,null}var g=a.children;return a=a.fallback,u?(Xn(),u=t.mode,g=tr({mode:"hidden",children:g},u),a=Si(a,u,i,null),g.return=t,a.return=t,g.sibling=a,t.child=g,a=t.child,a.memoizedState=Bo(i),a.childLanes=Ho(e,d,i),t.memoizedState=Io,ps(null,a)):(Qn(t),jo(t,g))}var E=e.memoizedState;if(E!==null&&(g=E.dehydrated,g!==null)){if(c)t.flags&256?(Qn(t),t.flags&=-257,t=qo(e,t,i)):t.memoizedState!==null?(Xn(),t.child=e.child,t.flags|=128,t=null):(Xn(),g=a.fallback,u=t.mode,a=tr({mode:"visible",children:a.children},u),g=Si(g,u,i,null),g.flags|=2,a.return=t,g.return=t,a.sibling=g,t.child=a,Ri(t,e.child,null,i),a=t.child,a.memoizedState=Bo(i),a.childLanes=Ho(e,d,i),t.memoizedState=Io,t=ps(null,a));else if(Qn(t),Sc(g)){if(d=g.nextSibling&&g.nextSibling.dataset,d)var M=d.dgst;d=M,a=Error(r(419)),a.stack="",a.digest=d,ls({value:a,source:null,stack:null}),t=qo(e,t,i)}else if(Je||sl(e,t,i,!1),d=(i&e.childLanes)!==0,Je||d){if(d=Oe,d!==null&&(a=lh(d,i),a!==0&&a!==E.retryLane))throw E.retryLane=a,vi(e,a),Nt(d,e,a),Uo;vc(g)||cr(),t=qo(e,t,i)}else vc(g)?(t.flags|=192,t.child=e.child,t=null):(e=E.treeContext,Ue=Jt(g.nextSibling),ot=t,ge=!0,jn=null,Kt=!1,e!==null&&ed(t,e),t=jo(t,a.children),t.flags|=4096);return t}return u?(Xn(),g=a.fallback,u=t.mode,E=e.child,M=E.sibling,a=mn(E,{mode:"hidden",children:a.children}),a.subtreeFlags=E.subtreeFlags&65011712,M!==null?g=mn(M,g):(g=Si(g,u,i,null),g.flags|=2),g.return=t,a.return=t,a.sibling=g,t.child=a,ps(null,a),a=t.child,g=e.child.memoizedState,g===null?g=Bo(i):(u=g.cachePool,u!==null?(E=Ke._currentValue,u=u.parent!==E?{parent:E,pool:E}:u):u=ad(),g={baseLanes:g.baseLanes|i,cachePool:u}),a.memoizedState=g,a.childLanes=Ho(e,d,i),t.memoizedState=Io,ps(e.child,a)):(Qn(t),i=e.child,e=i.sibling,i=mn(i,{mode:"visible",children:a.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function jo(e,t){return t=tr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function tr(e,t){return e=zt(22,e,null,t),e.lanes=0,e}function qo(e,t,i){return Ri(t,e.child,null,i),e=jo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vm(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),eo(e.return,t,i)}function Go(e,t,i,a,u,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:u,treeForkCount:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=i,d.tailMode=u,d.treeForkCount=c)}function Sm(e,t,i){var a=t.pendingProps,u=a.revealOrder,c=a.tail;a=a.children;var d=Xe.current,g=(d&2)!==0;if(g?(d=d&1|2,t.flags|=128):d&=1,Y(Xe,d),ft(e,t,a,i),a=ge?is:0,!g&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vm(e,i,t);else if(e.tag===19)vm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&ka(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),Go(t,!1,u,i,c,a);break;case"backwards":case"unstable_legacy-backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&ka(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}Go(t,!0,i,null,c,a);break;case"together":Go(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Sn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Fn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(sl(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=mn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=mn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Yo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&La(e)))}function p0(e,t,i){switch(t.tag){case 3:pt(t,t.stateNode.containerInfo),Gn(t,Ke,e.memoizedState.cache),Ei();break;case 27:case 5:Yl(t);break;case 4:pt(t,t.stateNode.containerInfo);break;case 10:Gn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ho(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Qn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?ym(e,t,i):(Qn(t),e=Sn(e,t,i),e!==null?e.sibling:null);Qn(t);break;case 19:var u=(e.flags&128)!==0;if(a=(i&t.childLanes)!==0,a||(sl(e,t,i,!1),a=(i&t.childLanes)!==0),u){if(a)return Sm(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Y(Xe,Xe.current),a)break;return null;case 22:return t.lanes=0,hm(e,t,i,t.pendingProps);case 24:Gn(t,Ke,e.memoizedState.cache)}return Sn(e,t,i)}function Em(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Je=!0;else{if(!Yo(e,i)&&(t.flags&128)===0)return Je=!1,p0(e,t,i);Je=(e.flags&131072)!==0}else Je=!1,ge&&(t.flags&1048576)!==0&&$h(t,is,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ni(t.elementType),t.type=e,typeof e=="function")Xu(e)?(a=Di(e,a),t.tag=1,t=pm(null,t,e,a,i)):(t.tag=0,t=Lo(null,t,e,a,i));else{if(e!=null){var u=e.$$typeof;if(u===J){t.tag=11,t=om(null,t,e,a,i);break e}else if(u===ne){t.tag=14,t=cm(null,t,e,a,i);break e}}throw t=K(e)||e,Error(r(306,t,""))}}return t;case 0:return Lo(e,t,t.type,t.pendingProps,i);case 1:return a=t.type,u=Di(a,t.pendingProps),pm(e,t,a,u,i);case 3:e:{if(pt(t,t.stateNode.containerInfo),e===null)throw Error(r(387));a=t.pendingProps;var c=t.memoizedState;u=c.element,ro(e,t),fs(t,a,null,i);var d=t.memoizedState;if(a=d.cache,Gn(t,Ke,a),a!==c.cache&&to(t,[Ke],i,!0),cs(),a=d.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=gm(e,t,a,i);break e}else if(a!==u){u=Qt(Error(r(424)),t),ls(u),t=gm(e,t,a,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ue=Jt(e.firstChild),ot=t,ge=!0,jn=null,Kt=!0,i=hd(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Ei(),a===u){t=Sn(e,t,i);break e}ft(e,t,a,i)}t=t.child}return t;case 26:return er(e,t),e===null?(i=x_(t.type,null,t.pendingProps,null))?t.memoizedState=i:ge||(i=t.type,e=t.pendingProps,a=gr(ue.current).createElement(i),a[ut]=t,a[vt]=e,ht(a,i,e),it(a),t.stateNode=a):t.memoizedState=x_(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Yl(t),e===null&&ge&&(a=t.stateNode=D_(t.type,t.pendingProps,ue.current),ot=t,Kt=!0,u=Ue,ei(t.type)?(Ec=u,Ue=Jt(a.firstChild)):Ue=u),ft(e,t,t.pendingProps.children,i),er(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ge&&((u=a=Ue)&&(a=X0(a,t.type,t.pendingProps,Kt),a!==null?(t.stateNode=a,ot=t,Ue=Jt(a.firstChild),Kt=!1,u=!0):u=!1),u||qn(t)),Yl(t),u=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,a=c.children,pc(u,c)?a=null:d!==null&&pc(u,d)&&(t.flags|=32),t.memoizedState!==null&&(u=_o(e,t,r0,null,null,i),ws._currentValue=u),er(e,t),ft(e,t,a,i),t.child;case 6:return e===null&&ge&&((e=i=Ue)&&(i=Z0(i,t.pendingProps,Kt),i!==null?(t.stateNode=i,ot=t,Ue=null,e=!0):e=!1),e||qn(t)),null;case 13:return ym(e,t,i);case 4:return pt(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ri(t,null,a,i):ft(e,t,a,i),t.child;case 11:return om(e,t,t.type,t.pendingProps,i);case 7:return ft(e,t,t.pendingProps,i),t.child;case 8:return ft(e,t,t.pendingProps.children,i),t.child;case 12:return ft(e,t,t.pendingProps.children,i),t.child;case 10:return a=t.pendingProps,Gn(t,t.type,a.value),ft(e,t,a.children,i),t.child;case 9:return u=t.type._context,a=t.pendingProps.children,Ci(t),u=ct(u),a=a(u),t.flags|=1,ft(e,t,a,i),t.child;case 14:return cm(e,t,t.type,t.pendingProps,i);case 15:return fm(e,t,t.type,t.pendingProps,i);case 19:return Sm(e,t,i);case 31:return _0(e,t,i);case 22:return hm(e,t,i,t.pendingProps);case 24:return Ci(t),a=ct(Ke),e===null?(u=lo(),u===null&&(u=Oe,c=no(),u.pooledCache=c,c.refCount++,c!==null&&(u.pooledCacheLanes|=i),u=c),t.memoizedState={parent:a,cache:u},ao(t),Gn(t,Ke,u)):((e.lanes&i)!==0&&(ro(e,t),fs(t,null,null,i),cs()),u=e.memoizedState,c=t.memoizedState,u.parent!==a?(u={parent:a,cache:a},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Gn(t,Ke,a)):(a=c.cache,Gn(t,Ke,a),a!==u.cache&&to(t,[Ke],i,!0))),ft(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function En(e){e.flags|=4}function ko(e,t,i,a,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Km())e.flags|=8192;else throw Ai=ja,so}else e.flags&=-16777217}function bm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!B_(t))if(Km())e.flags|=8192;else throw Ai=ja,so}function nr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?th():536870912,e.lanes|=t,gl|=t)}function gs(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags&65011712,a|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function g0(e,t,i){var a=t.pendingProps;switch(Ju(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Le(t),null;case 3:return i=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),gn(Ke),Qe(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ll(t)?En(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Wu())),Le(t),null;case 26:var u=t.type,c=t.memoizedState;return e===null?(En(t),c!==null?(Le(t),bm(t,c)):(Le(t),ko(t,u,null,a,i))):c?c!==e.memoizedState?(En(t),Le(t),bm(t,c)):(Le(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&En(t),Le(t),ko(t,u,e,a,i)),null;case 27:if(da(t),i=ue.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&En(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Le(t),null}e=k.current,ll(t)?td(t):(e=D_(u,a,i),t.stateNode=e,En(t))}return Le(t),null;case 5:if(da(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&En(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Le(t),null}if(c=k.current,ll(t))td(t);else{var d=gr(ue.current);switch(c){case 1:c=d.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:c=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":c=d.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":c=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":c=d.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof a.is=="string"?d.createElement("select",{is:a.is}):d.createElement("select"),a.multiple?c.multiple=!0:a.size&&(c.size=a.size);break;default:c=typeof a.is=="string"?d.createElement(u,{is:a.is}):d.createElement(u)}}c[ut]=t,c[vt]=a;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)c.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=c;e:switch(ht(c,u,a),u){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&En(t)}}return Le(t),ko(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&En(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=ue.current,ll(t)){if(e=t.stateNode,i=t.memoizedProps,a=null,u=ot,u!==null)switch(u.tag){case 27:case 5:a=u.memoizedProps}e[ut]=t,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||y_(e.nodeValue,i)),e||qn(t,!0)}else e=gr(e).createTextNode(a),e[ut]=t,t.stateNode=e}return Le(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(a=ll(t),i!==null){if(e===null){if(!a)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ut]=t}else Ei(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),e=!1}else i=Wu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Lt(t),t):(Lt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Le(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=ll(t),a!==null&&a.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[ut]=t}else Ei(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),u=!1}else u=Wu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Lt(t),t):(Lt(t),null)}return Lt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=a!==null,e=e!==null&&e.memoizedState!==null,i&&(a=t.child,u=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(u=a.alternate.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==u&&(a.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),nr(t,t.updateQueue),Le(t),null);case 4:return Qe(),e===null&&fc(t.stateNode.containerInfo),Le(t),null;case 10:return gn(t.type),Le(t),null;case 19:if(U(Xe),a=t.memoizedState,a===null)return Le(t),null;if(u=(t.flags&128)!==0,c=a.rendering,c===null)if(u)gs(a,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=ka(e),c!==null){for(t.flags|=128,gs(a,!1),e=c.updateQueue,t.updateQueue=e,nr(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Jh(i,e),i=i.sibling;return Y(Xe,Xe.current&1|2),ge&&_n(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Dt()>rr&&(t.flags|=128,u=!0,gs(a,!1),t.lanes=4194304)}else{if(!u)if(e=ka(c),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,nr(t,e),gs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!ge)return Le(t),null}else 2*Dt()-a.renderingStartTime>rr&&i!==536870912&&(t.flags|=128,u=!0,gs(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(e=a.last,e!==null?e.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Dt(),e.sibling=null,i=Xe.current,Y(Xe,u?i&1|2:i&1),ge&&_n(t,a.treeForkCount),e):(Le(t),null);case 22:case 23:return Lt(t),fo(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(i&536870912)!==0&&(t.flags&128)===0&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),i=t.updateQueue,i!==null&&nr(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==i&&(t.flags|=2048),e!==null&&U(Ti),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),gn(Ke),Le(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function y0(e,t){switch(Ju(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gn(Ke),Qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return da(t),null;case 31:if(t.memoizedState!==null){if(Lt(t),t.alternate===null)throw Error(r(340));Ei()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Lt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Ei()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return U(Xe),null;case 4:return Qe(),null;case 10:return gn(t.type),null;case 22:case 23:return Lt(t),fo(),e!==null&&U(Ti),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return gn(Ke),null;case 25:return null;default:return null}}function Cm(e,t){switch(Ju(t),t.tag){case 3:gn(Ke),Qe();break;case 26:case 27:case 5:da(t);break;case 4:Qe();break;case 31:t.memoizedState!==null&&Lt(t);break;case 13:Lt(t);break;case 19:U(Xe);break;case 10:gn(t.type);break;case 22:case 23:Lt(t),fo(),e!==null&&U(Ti);break;case 24:gn(Ke)}}function ys(e,t){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var u=a.next;i=u;do{if((i.tag&e)===e){a=void 0;var c=i.create,d=i.inst;a=c(),d.destroy=a}i=i.next}while(i!==u)}}catch(g){Ae(t,t.return,g)}}function Zn(e,t,i){try{var a=t.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var c=u.next;a=c;do{if((a.tag&e)===e){var d=a.inst,g=d.destroy;if(g!==void 0){d.destroy=void 0,u=t;var E=i,M=g;try{M()}catch(z){Ae(u,E,z)}}}a=a.next}while(a!==c)}}catch(z){Ae(t,t.return,z)}}function Tm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{md(t,i)}catch(a){Ae(e,e.return,a)}}}function Nm(e,t,i){i.props=Di(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){Ae(e,t,a)}}function vs(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof i=="function"?e.refCleanup=i(a):i.current=a}}catch(u){Ae(e,t,u)}}function un(e,t){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(u){Ae(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){Ae(e,t,u)}else i.current=null}function Am(e){var t=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(u){Ae(e,e.return,u)}}function Vo(e,t,i){try{var a=e.stateNode;q0(a,e.type,i,t),a[vt]=t}catch(u){Ae(e,e.return,u)}}function Rm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ei(e.type)||e.tag===4}function Qo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ei(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xo(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=hn));else if(a!==4&&(a===27&&ei(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Xo(e,t,i),e=e.sibling;e!==null;)Xo(e,t,i),e=e.sibling}function ir(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(a===27&&ei(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(ir(e,t,i),e=e.sibling;e!==null;)ir(e,t,i),e=e.sibling}function Mm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var a=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);ht(t,a,i),t[ut]=e,t[vt]=i}catch(c){Ae(e,e.return,c)}}var bn=!1,Pe=!1,Zo=!1,Dm=typeof WeakSet=="function"?WeakSet:Set,lt=null;function v0(e,t){if(e=e.containerInfo,mc=Tr,e=Gh(e),ju(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var u=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,g=-1,E=-1,M=0,z=0,I=e,D=null;t:for(;;){for(var w;I!==i||u!==0&&I.nodeType!==3||(g=d+u),I!==c||a!==0&&I.nodeType!==3||(E=d+a),I.nodeType===3&&(d+=I.nodeValue.length),(w=I.firstChild)!==null;)D=I,I=w;for(;;){if(I===e)break t;if(D===i&&++M===u&&(g=d),D===c&&++z===a&&(E=d),(w=I.nextSibling)!==null)break;I=D,D=I.parentNode}I=w}i=g===-1||E===-1?null:{start:g,end:E}}else i=null}i=i||{start:0,end:0}}else i=null;for(_c={focusedElem:e,selectionRange:i},Tr=!1,lt=t;lt!==null;)if(t=lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,lt=e;else for(;lt!==null;){switch(t=lt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)u=e[i],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,u=c.memoizedProps,c=c.memoizedState,a=i.stateNode;try{var Q=Di(i.type,u);e=a.getSnapshotBeforeUpdate(Q,c),a.__reactInternalSnapshotBeforeUpdate=e}catch(W){Ae(i,i.return,W)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)yc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,lt=e;break}lt=t.return}}function Om(e,t,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:Tn(e,i),a&4&&ys(5,i);break;case 1:if(Tn(e,i),a&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){Ae(i,i.return,d)}else{var u=Di(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Ae(i,i.return,d)}}a&64&&Tm(i),a&512&&vs(i,i.return);break;case 3:if(Tn(e,i),a&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{md(e,t)}catch(d){Ae(i,i.return,d)}}break;case 27:t===null&&a&4&&Mm(i);case 26:case 5:Tn(e,i),t===null&&a&4&&Am(i),a&512&&vs(i,i.return);break;case 12:Tn(e,i);break;case 31:Tn(e,i),a&4&&zm(e,i);break;case 13:Tn(e,i),a&4&&Um(e,i),a&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=M0.bind(null,i),K0(e,i))));break;case 22:if(a=i.memoizedState!==null||bn,!a){t=t!==null&&t.memoizedState!==null||Pe,u=bn;var c=Pe;bn=a,(Pe=t)&&!c?Nn(e,i,(i.subtreeFlags&8772)!==0):Tn(e,i),bn=u,Pe=c}break;case 30:break;default:Tn(e,i)}}function wm(e){var t=e.alternate;t!==null&&(e.alternate=null,wm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&bu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var je=null,Et=!1;function Cn(e,t,i){for(i=i.child;i!==null;)xm(e,t,i),i=i.sibling}function xm(e,t,i){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(kl,i)}catch{}switch(i.tag){case 26:Pe||un(i,t),Cn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Pe||un(i,t);var a=je,u=Et;ei(i.type)&&(je=i.stateNode,Et=!1),Cn(e,t,i),Ms(i.stateNode),je=a,Et=u;break;case 5:Pe||un(i,t);case 6:if(a=je,u=Et,je=null,Cn(e,t,i),je=a,Et=u,je!==null)if(Et)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(i.stateNode)}catch(c){Ae(i,t,c)}else try{je.removeChild(i.stateNode)}catch(c){Ae(i,t,c)}break;case 18:je!==null&&(Et?(e=je,T_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Nl(e)):T_(je,i.stateNode));break;case 4:a=je,u=Et,je=i.stateNode.containerInfo,Et=!0,Cn(e,t,i),je=a,Et=u;break;case 0:case 11:case 14:case 15:Zn(2,i,t),Pe||Zn(4,i,t),Cn(e,t,i);break;case 1:Pe||(un(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"&&Nm(i,t,a)),Cn(e,t,i);break;case 21:Cn(e,t,i);break;case 22:Pe=(a=Pe)||i.memoizedState!==null,Cn(e,t,i),Pe=a;break;default:Cn(e,t,i)}}function zm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Nl(e)}catch(i){Ae(t,t.return,i)}}}function Um(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Nl(e)}catch(i){Ae(t,t.return,i)}}function S0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Dm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Dm),t;default:throw Error(r(435,e.tag))}}function lr(e,t){var i=S0(e);t.forEach(function(a){if(!i.has(a)){i.add(a);var u=D0.bind(null,e,a);a.then(u,u)}})}function bt(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var u=i[a],c=e,d=t,g=d;e:for(;g!==null;){switch(g.tag){case 27:if(ei(g.type)){je=g.stateNode,Et=!1;break e}break;case 5:je=g.stateNode,Et=!1;break e;case 3:case 4:je=g.stateNode.containerInfo,Et=!0;break e}g=g.return}if(je===null)throw Error(r(160));xm(c,d,u),je=null,Et=!1,c=u.alternate,c!==null&&(c.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Lm(t,e),t=t.sibling}var $t=null;function Lm(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bt(t,e),Ct(e),a&4&&(Zn(3,e,e.return),ys(3,e),Zn(5,e,e.return));break;case 1:bt(t,e),Ct(e),a&512&&(Pe||i===null||un(i,i.return)),a&64&&bn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var u=$t;if(bt(t,e),Ct(e),a&512&&(Pe||i===null||un(i,i.return)),a&4){var c=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(a){case"title":c=u.getElementsByTagName("title")[0],(!c||c[Xl]||c[ut]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=u.createElement(a),u.head.insertBefore(c,u.querySelector("head > title"))),ht(c,a,i),c[ut]=e,it(c),a=c;break e;case"link":var d=L_("link","href",u).get(a+(i.href||""));if(d){for(var g=0;g<d.length;g++)if(c=d[g],c.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(g,1);break t}}c=u.createElement(a),ht(c,a,i),u.head.appendChild(c);break;case"meta":if(d=L_("meta","content",u).get(a+(i.content||""))){for(g=0;g<d.length;g++)if(c=d[g],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(g,1);break t}}c=u.createElement(a),ht(c,a,i),u.head.appendChild(c);break;default:throw Error(r(468,a))}c[ut]=e,it(c),a=c}e.stateNode=a}else I_(u,e.type,e.stateNode);else e.stateNode=U_(u,a,e.memoizedProps);else c!==a?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,a===null?I_(u,e.type,e.stateNode):U_(u,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Vo(e,e.memoizedProps,i.memoizedProps)}break;case 27:bt(t,e),Ct(e),a&512&&(Pe||i===null||un(i,i.return)),i!==null&&a&4&&Vo(e,e.memoizedProps,i.memoizedProps);break;case 5:if(bt(t,e),Ct(e),a&512&&(Pe||i===null||un(i,i.return)),e.flags&32){u=e.stateNode;try{Ki(u,"")}catch(Q){Ae(e,e.return,Q)}}a&4&&e.stateNode!=null&&(u=e.memoizedProps,Vo(e,u,i!==null?i.memoizedProps:u)),a&1024&&(Zo=!0);break;case 6:if(bt(t,e),Ct(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(Q){Ae(e,e.return,Q)}}break;case 3:if(Sr=null,u=$t,$t=yr(t.containerInfo),bt(t,e),$t=u,Ct(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Nl(t.containerInfo)}catch(Q){Ae(e,e.return,Q)}Zo&&(Zo=!1,Im(e));break;case 4:a=$t,$t=yr(e.stateNode.containerInfo),bt(t,e),Ct(e),$t=a;break;case 12:bt(t,e),Ct(e);break;case 31:bt(t,e),Ct(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,lr(e,a)));break;case 13:bt(t,e),Ct(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ar=Dt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,lr(e,a)));break;case 22:u=e.memoizedState!==null;var E=i!==null&&i.memoizedState!==null,M=bn,z=Pe;if(bn=M||u,Pe=z||E,bt(t,e),Pe=z,bn=M,Ct(e),a&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(i===null||E||bn||Pe||Oi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){E=i=t;try{if(c=E.stateNode,u)d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{g=E.stateNode;var I=E.memoizedProps.style,D=I!=null&&I.hasOwnProperty("display")?I.display:null;g.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(Q){Ae(E,E.return,Q)}}}else if(t.tag===6){if(i===null){E=t;try{E.stateNode.nodeValue=u?"":E.memoizedProps}catch(Q){Ae(E,E.return,Q)}}}else if(t.tag===18){if(i===null){E=t;try{var w=E.stateNode;u?N_(w,!0):N_(E.stateNode,!1)}catch(Q){Ae(E,E.return,Q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,lr(e,i))));break;case 19:bt(t,e),Ct(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,lr(e,a)));break;case 30:break;case 21:break;default:bt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{for(var i,a=e.return;a!==null;){if(Rm(a)){i=a;break}a=a.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var u=i.stateNode,c=Qo(e);ir(e,c,u);break;case 5:var d=i.stateNode;i.flags&32&&(Ki(d,""),i.flags&=-33);var g=Qo(e);ir(e,g,d);break;case 3:case 4:var E=i.stateNode.containerInfo,M=Qo(e);Xo(e,M,E);break;default:throw Error(r(161))}}catch(z){Ae(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Im(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Im(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Tn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Om(e,t.alternate,t),t=t.sibling}function Oi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Zn(4,t,t.return),Oi(t);break;case 1:un(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Nm(t,t.return,i),Oi(t);break;case 27:Ms(t.stateNode);case 26:case 5:un(t,t.return),Oi(t);break;case 22:t.memoizedState===null&&Oi(t);break;case 30:Oi(t);break;default:Oi(t)}e=e.sibling}}function Nn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,u=e,c=t,d=c.flags;switch(c.tag){case 0:case 11:case 15:Nn(u,c,i),ys(4,c);break;case 1:if(Nn(u,c,i),a=c,u=a.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(M){Ae(a,a.return,M)}if(a=c,u=a.updateQueue,u!==null){var g=a.stateNode;try{var E=u.shared.hiddenCallbacks;if(E!==null)for(u.shared.hiddenCallbacks=null,u=0;u<E.length;u++)dd(E[u],g)}catch(M){Ae(a,a.return,M)}}i&&d&64&&Tm(c),vs(c,c.return);break;case 27:Mm(c);case 26:case 5:Nn(u,c,i),i&&a===null&&d&4&&Am(c),vs(c,c.return);break;case 12:Nn(u,c,i);break;case 31:Nn(u,c,i),i&&d&4&&zm(u,c);break;case 13:Nn(u,c,i),i&&d&4&&Um(u,c);break;case 22:c.memoizedState===null&&Nn(u,c,i),vs(c,c.return);break;case 30:break;default:Nn(u,c,i)}t=t.sibling}}function Ko(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&ss(i))}function Fo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ss(e))}function en(e,t,i,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Bm(e,t,i,a),t=t.sibling}function Bm(e,t,i,a){var u=t.flags;switch(t.tag){case 0:case 11:case 15:en(e,t,i,a),u&2048&&ys(9,t);break;case 1:en(e,t,i,a);break;case 3:en(e,t,i,a),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ss(e)));break;case 12:if(u&2048){en(e,t,i,a),e=t.stateNode;try{var c=t.memoizedProps,d=c.id,g=c.onPostCommit;typeof g=="function"&&g(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Ae(t,t.return,E)}}else en(e,t,i,a);break;case 31:en(e,t,i,a);break;case 13:en(e,t,i,a);break;case 23:break;case 22:c=t.stateNode,d=t.alternate,t.memoizedState!==null?c._visibility&2?en(e,t,i,a):Ss(e,t):c._visibility&2?en(e,t,i,a):(c._visibility|=2,ml(e,t,i,a,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Ko(d,t);break;case 24:en(e,t,i,a),u&2048&&Fo(t.alternate,t);break;default:en(e,t,i,a)}}function ml(e,t,i,a,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,d=t,g=i,E=a,M=d.flags;switch(d.tag){case 0:case 11:case 15:ml(c,d,g,E,u),ys(8,d);break;case 23:break;case 22:var z=d.stateNode;d.memoizedState!==null?z._visibility&2?ml(c,d,g,E,u):Ss(c,d):(z._visibility|=2,ml(c,d,g,E,u)),u&&M&2048&&Ko(d.alternate,d);break;case 24:ml(c,d,g,E,u),u&&M&2048&&Fo(d.alternate,d);break;default:ml(c,d,g,E,u)}t=t.sibling}}function Ss(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,a=t,u=a.flags;switch(a.tag){case 22:Ss(i,a),u&2048&&Ko(a.alternate,a);break;case 24:Ss(i,a),u&2048&&Fo(a.alternate,a);break;default:Ss(i,a)}t=t.sibling}}var Es=8192;function _l(e,t,i){if(e.subtreeFlags&Es)for(e=e.child;e!==null;)Hm(e,t,i),e=e.sibling}function Hm(e,t,i){switch(e.tag){case 26:_l(e,t,i),e.flags&Es&&e.memoizedState!==null&&a1(i,$t,e.memoizedState,e.memoizedProps);break;case 5:_l(e,t,i);break;case 3:case 4:var a=$t;$t=yr(e.stateNode.containerInfo),_l(e,t,i),$t=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Es,Es=16777216,_l(e,t,i),Es=a):_l(e,t,i));break;default:_l(e,t,i)}}function jm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function bs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];lt=a,Gm(a,e)}jm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)qm(e),e=e.sibling}function qm(e){switch(e.tag){case 0:case 11:case 15:bs(e),e.flags&2048&&Zn(9,e,e.return);break;case 3:bs(e);break;case 12:bs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,sr(e)):bs(e);break;default:bs(e)}}function sr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];lt=a,Gm(a,e)}jm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Zn(8,t,t.return),sr(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,sr(t));break;default:sr(t)}e=e.sibling}}function Gm(e,t){for(;lt!==null;){var i=lt;switch(i.tag){case 0:case 11:case 15:Zn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ss(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,lt=a;else e:for(i=e;lt!==null;){a=lt;var u=a.sibling,c=a.return;if(wm(a),a===i){lt=null;break e}if(u!==null){u.return=c,lt=u;break e}lt=c}}}var E0={getCacheForType:function(e){var t=ct(Ke),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return ct(Ke).controller.signal}},b0=typeof WeakMap=="function"?WeakMap:Map,be=0,Oe=null,oe=null,me=0,Ne=0,It=null,Kn=!1,pl=!1,Jo=!1,An=0,Ye=0,Fn=0,wi=0,Po=0,Bt=0,gl=0,Cs=null,Tt=null,Wo=!1,ar=0,Ym=0,rr=1/0,ur=null,Jn=null,We=0,Pn=null,yl=null,Rn=0,$o=0,ec=null,km=null,Ts=0,tc=null;function Ht(){return(be&2)!==0&&me!==0?me&-me:x.T!==null?rc():sh()}function Vm(){if(Bt===0)if((me&536870912)===0||ge){var e=pa;pa<<=1,(pa&3932160)===0&&(pa=262144),Bt=e}else Bt=536870912;return e=Ut.current,e!==null&&(e.flags|=32),Bt}function Nt(e,t,i){(e===Oe&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(vl(e,0),Wn(e,me,Bt,!1)),Ql(e,i),((be&2)===0||e!==Oe)&&(e===Oe&&((be&2)===0&&(wi|=i),Ye===4&&Wn(e,me,Bt,!1)),on(e))}function Qm(e,t,i){if((be&6)!==0)throw Error(r(327));var a=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Vl(e,t),u=a?N0(e,t):ic(e,t,!0),c=a;do{if(u===0){pl&&!a&&Wn(e,t,0,!1);break}else{if(i=e.current.alternate,c&&!C0(i)){u=ic(e,t,!1),c=!1;continue}if(u===2){if(c=t,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var g=e;u=Cs;var E=g.current.memoizedState.isDehydrated;if(E&&(vl(g,d).flags|=256),d=ic(g,d,!1),d!==2){if(Jo&&!E){g.errorRecoveryDisabledLanes|=c,wi|=c,u=4;break e}c=Tt,Tt=u,c!==null&&(Tt===null?Tt=c:Tt.push.apply(Tt,c))}u=d}if(c=!1,u!==2)continue}}if(u===1){vl(e,0),Wn(e,t,0,!0);break}e:{switch(a=e,c=u,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Wn(a,t,Bt,!Kn);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=ar+300-Dt(),10<u)){if(Wn(a,t,Bt,!Kn),ya(a,0,!0)!==0)break e;Rn=t,a.timeoutHandle=b_(Xm.bind(null,a,i,Tt,ur,Wo,t,Bt,wi,gl,Kn,c,"Throttled",-0,0),u);break e}Xm(a,i,Tt,ur,Wo,t,Bt,wi,gl,Kn,c,null,-0,0)}}break}while(!0);on(e)}function Xm(e,t,i,a,u,c,d,g,E,M,z,I,D,w){if(e.timeoutHandle=-1,I=t.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hn},Hm(t,c,I);var Q=(c&62914560)===c?ar-Dt():(c&4194048)===c?Ym-Dt():0;if(Q=r1(I,Q),Q!==null){Rn=c,e.cancelPendingCommit=Q(e_.bind(null,e,t,c,i,a,u,d,g,E,z,I,null,D,w)),Wn(e,c,d,!M);return}}e_(e,t,c,i,a,u,d,g,E)}function C0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var u=i[a],c=u.getSnapshot;u=u.value;try{if(!xt(c(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wn(e,t,i,a){t&=~Po,t&=~wi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var u=t;0<u;){var c=31-wt(u),d=1<<c;a[c]=-1,u&=~d}i!==0&&nh(e,i,t)}function or(){return(be&6)===0?(Ns(0),!1):!0}function nc(){if(oe!==null){if(Ne===0)var e=oe.return;else e=oe,pn=bi=null,yo(e),ol=null,rs=0,e=oe;for(;e!==null;)Cm(e.alternate,e),e=e.return;oe=null}}function vl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,k0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Rn=0,nc(),Oe=e,oe=i=mn(e.current,null),me=t,Ne=0,It=null,Kn=!1,pl=Vl(e,t),Jo=!1,gl=Bt=Po=wi=Fn=Ye=0,Tt=Cs=null,Wo=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var u=31-wt(a),c=1<<u;t|=e[u],a&=~c}return An=t,Oa(),i}function Zm(e,t){le=null,x.H=_s,t===ul||t===Ha?(t=od(),Ne=3):t===so?(t=od(),Ne=4):Ne=t===Uo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,It=t,oe===null&&(Ye=1,Wa(e,Qt(t,e.current)))}function Km(){var e=Ut.current;return e===null?!0:(me&4194048)===me?Ft===null:(me&62914560)===me||(me&536870912)!==0?e===Ft:!1}function Fm(){var e=x.H;return x.H=_s,e===null?_s:e}function Jm(){var e=x.A;return x.A=E0,e}function cr(){Ye=4,Kn||(me&4194048)!==me&&Ut.current!==null||(pl=!0),(Fn&134217727)===0&&(wi&134217727)===0||Oe===null||Wn(Oe,me,Bt,!1)}function ic(e,t,i){var a=be;be|=2;var u=Fm(),c=Jm();(Oe!==e||me!==t)&&(ur=null,vl(e,t)),t=!1;var d=Ye;e:do try{if(Ne!==0&&oe!==null){var g=oe,E=It;switch(Ne){case 8:nc(),d=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(t=!0);var M=Ne;if(Ne=0,It=null,Sl(e,g,E,M),i&&pl){d=0;break e}break;default:M=Ne,Ne=0,It=null,Sl(e,g,E,M)}}T0(),d=Ye;break}catch(z){Zm(e,z)}while(!0);return t&&e.shellSuspendCounter++,pn=bi=null,be=a,x.H=u,x.A=c,oe===null&&(Oe=null,me=0,Oa()),d}function T0(){for(;oe!==null;)Pm(oe)}function N0(e,t){var i=be;be|=2;var a=Fm(),u=Jm();Oe!==e||me!==t?(ur=null,rr=Dt()+500,vl(e,t)):pl=Vl(e,t);e:do try{if(Ne!==0&&oe!==null){t=oe;var c=It;t:switch(Ne){case 1:Ne=0,It=null,Sl(e,t,c,1);break;case 2:case 9:if(rd(c)){Ne=0,It=null,Wm(t);break}t=function(){Ne!==2&&Ne!==9||Oe!==e||(Ne=7),on(e)},c.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:rd(c)?(Ne=0,It=null,Wm(t)):(Ne=0,It=null,Sl(e,t,c,7));break;case 5:var d=null;switch(oe.tag){case 26:d=oe.memoizedState;case 5:case 27:var g=oe;if(d?B_(d):g.stateNode.complete){Ne=0,It=null;var E=g.sibling;if(E!==null)oe=E;else{var M=g.return;M!==null?(oe=M,fr(M)):oe=null}break t}}Ne=0,It=null,Sl(e,t,c,5);break;case 6:Ne=0,It=null,Sl(e,t,c,6);break;case 8:nc(),Ye=6;break e;default:throw Error(r(462))}}A0();break}catch(z){Zm(e,z)}while(!0);return pn=bi=null,x.H=a,x.A=u,be=i,oe!==null?0:(Oe=null,me=0,Oa(),Ye)}function A0(){for(;oe!==null&&!Fy();)Pm(oe)}function Pm(e){var t=Em(e.alternate,e,An);e.memoizedProps=e.pendingProps,t===null?fr(e):oe=t}function Wm(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=_m(i,t,t.pendingProps,t.type,void 0,me);break;case 11:t=_m(i,t,t.pendingProps,t.type.render,t.ref,me);break;case 5:yo(t);default:Cm(i,t),t=oe=Jh(t,An),t=Em(i,t,An)}e.memoizedProps=e.pendingProps,t===null?fr(e):oe=t}function Sl(e,t,i,a){pn=bi=null,yo(t),ol=null,rs=0;var u=t.return;try{if(m0(e,u,t,i,me)){Ye=1,Wa(e,Qt(i,e.current)),oe=null;return}}catch(c){if(u!==null)throw oe=u,c;Ye=1,Wa(e,Qt(i,e.current)),oe=null;return}t.flags&32768?(ge||a===1?e=!0:pl||(me&536870912)!==0?e=!1:(Kn=e=!0,(a===2||a===9||a===3||a===6)&&(a=Ut.current,a!==null&&a.tag===13&&(a.flags|=16384))),$m(t,e)):fr(t)}function fr(e){var t=e;do{if((t.flags&32768)!==0){$m(t,Kn);return}e=t.return;var i=g0(t.alternate,t,An);if(i!==null){oe=i;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);Ye===0&&(Ye=5)}function $m(e,t){do{var i=y0(e.alternate,e);if(i!==null){i.flags&=32767,oe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){oe=e;return}oe=e=i}while(e!==null);Ye=6,oe=null}function e_(e,t,i,a,u,c,d,g,E){e.cancelPendingCommit=null;do hr();while(We!==0);if((be&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=Vu,sv(e,i,c,d,g,E),e===Oe&&(oe=Oe=null,me=0),yl=t,Pn=e,Rn=i,$o=c,ec=u,km=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,O0(ma,function(){return s_(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=x.T,x.T=null,u=j.p,j.p=2,d=be,be|=4;try{v0(e,t,i)}finally{be=d,j.p=u,x.T=a}}We=1,t_(),n_(),i_()}}function t_(){if(We===1){We=0;var e=Pn,t=yl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=x.T,x.T=null;var a=j.p;j.p=2;var u=be;be|=4;try{Lm(t,e);var c=_c,d=Gh(e.containerInfo),g=c.focusedElem,E=c.selectionRange;if(d!==g&&g&&g.ownerDocument&&qh(g.ownerDocument.documentElement,g)){if(E!==null&&ju(g)){var M=E.start,z=E.end;if(z===void 0&&(z=M),"selectionStart"in g)g.selectionStart=M,g.selectionEnd=Math.min(z,g.value.length);else{var I=g.ownerDocument||document,D=I&&I.defaultView||window;if(D.getSelection){var w=D.getSelection(),Q=g.textContent.length,W=Math.min(E.start,Q),De=E.end===void 0?W:Math.min(E.end,Q);!w.extend&&W>De&&(d=De,De=W,W=d);var T=jh(g,W),C=jh(g,De);if(T&&C&&(w.rangeCount!==1||w.anchorNode!==T.node||w.anchorOffset!==T.offset||w.focusNode!==C.node||w.focusOffset!==C.offset)){var R=I.createRange();R.setStart(T.node,T.offset),w.removeAllRanges(),W>De?(w.addRange(R),w.extend(C.node,C.offset)):(R.setEnd(C.node,C.offset),w.addRange(R))}}}}for(I=[],w=g;w=w.parentNode;)w.nodeType===1&&I.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<I.length;g++){var L=I[g];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Tr=!!mc,_c=mc=null}finally{be=u,j.p=a,x.T=i}}e.current=t,We=2}}function n_(){if(We===2){We=0;var e=Pn,t=yl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=x.T,x.T=null;var a=j.p;j.p=2;var u=be;be|=4;try{Om(e,t.alternate,t)}finally{be=u,j.p=a,x.T=i}}We=3}}function i_(){if(We===4||We===3){We=0,Jy();var e=Pn,t=yl,i=Rn,a=km;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?We=5:(We=0,yl=Pn=null,l_(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Jn=null),Su(i),t=t.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(kl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=x.T,u=j.p,j.p=2,x.T=null;try{for(var c=e.onRecoverableError,d=0;d<a.length;d++){var g=a[d];c(g.value,{componentStack:g.stack})}}finally{x.T=t,j.p=u}}(Rn&3)!==0&&hr(),on(e),u=e.pendingLanes,(i&261930)!==0&&(u&42)!==0?e===tc?Ts++:(Ts=0,tc=e):Ts=0,Ns(0)}}function l_(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ss(t)))}function hr(){return t_(),n_(),i_(),s_()}function s_(){if(We!==5)return!1;var e=Pn,t=$o;$o=0;var i=Su(Rn),a=x.T,u=j.p;try{j.p=32>i?32:i,x.T=null,i=ec,ec=null;var c=Pn,d=Rn;if(We=0,yl=Pn=null,Rn=0,(be&6)!==0)throw Error(r(331));var g=be;if(be|=4,qm(c.current),Bm(c,c.current,d,i),be=g,Ns(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(kl,c)}catch{}return!0}finally{j.p=u,x.T=a,l_(e,t)}}function a_(e,t,i){t=Qt(i,t),t=zo(e.stateNode,t,2),e=Vn(e,t,2),e!==null&&(Ql(e,2),on(e))}function Ae(e,t,i){if(e.tag===3)a_(e,e,i);else for(;t!==null;){if(t.tag===3){a_(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Jn===null||!Jn.has(a))){e=Qt(i,e),i=rm(2),a=Vn(t,i,2),a!==null&&(um(i,a,t,e),Ql(a,2),on(a));break}}t=t.return}}function lc(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new b0;var u=new Set;a.set(t,u)}else u=a.get(t),u===void 0&&(u=new Set,a.set(t,u));u.has(i)||(Jo=!0,u.add(i),e=R0.bind(null,e,t,i),t.then(e,e))}function R0(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Oe===e&&(me&i)===i&&(Ye===4||Ye===3&&(me&62914560)===me&&300>Dt()-ar?(be&2)===0&&vl(e,0):Po|=i,gl===me&&(gl=0)),on(e)}function r_(e,t){t===0&&(t=th()),e=vi(e,t),e!==null&&(Ql(e,t),on(e))}function M0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),r_(e,i)}function D0(e,t){var i=0;switch(e.tag){case 31:case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),r_(e,i)}function O0(e,t){return pu(e,t)}var dr=null,El=null,sc=!1,mr=!1,ac=!1,$n=0;function on(e){e!==El&&e.next===null&&(El===null?dr=El=e:El=El.next=e),mr=!0,sc||(sc=!0,x0())}function Ns(e,t){if(!ac&&mr){ac=!0;do for(var i=!1,a=dr;a!==null;){if(e!==0){var u=a.pendingLanes;if(u===0)var c=0;else{var d=a.suspendedLanes,g=a.pingedLanes;c=(1<<31-wt(42|e)+1)-1,c&=u&~(d&~g),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(i=!0,f_(a,c))}else c=me,c=ya(a,a===Oe?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(c&3)===0||Vl(a,c)||(i=!0,f_(a,c));a=a.next}while(i);ac=!1}}function w0(){u_()}function u_(){mr=sc=!1;var e=0;$n!==0&&Y0()&&(e=$n);for(var t=Dt(),i=null,a=dr;a!==null;){var u=a.next,c=o_(a,t);c===0?(a.next=null,i===null?dr=u:i.next=u,u===null&&(El=i)):(i=a,(e!==0||(c&3)!==0)&&(mr=!0)),a=u}We!==0&&We!==5||Ns(e),$n!==0&&($n=0)}function o_(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-wt(c),g=1<<d,E=u[d];E===-1?((g&i)===0||(g&a)!==0)&&(u[d]=lv(g,t)):E<=t&&(e.expiredLanes|=g),c&=~g}if(t=Oe,i=me,i=ya(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,i===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&gu(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Vl(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(a!==null&&gu(a),Su(i)){case 2:case 8:i=$f;break;case 32:i=ma;break;case 268435456:i=eh;break;default:i=ma}return a=c_.bind(null,e),i=pu(i,a),e.callbackPriority=t,e.callbackNode=i,t}return a!==null&&a!==null&&gu(a),e.callbackPriority=2,e.callbackNode=null,2}function c_(e,t){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(hr()&&e.callbackNode!==i)return null;var a=me;return a=ya(e,e===Oe?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Qm(e,a,t),o_(e,Dt()),e.callbackNode!=null&&e.callbackNode===i?c_.bind(null,e):null)}function f_(e,t){if(hr())return null;Qm(e,t,!0)}function x0(){V0(function(){(be&6)!==0?pu(Wf,w0):u_()})}function rc(){if($n===0){var e=al;e===0&&(e=_a,_a<<=1,(_a&261888)===0&&(_a=256)),$n=e}return $n}function h_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ba(""+e)}function d_(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function z0(e,t,i,a,u){if(t==="submit"&&i&&i.stateNode===u){var c=h_((u[vt]||null).action),d=a.submitter;d&&(t=(t=d[vt]||null)?h_(t.formAction):d.getAttribute("formAction"),t!==null&&(c=t,d=null));var g=new Aa("action","action",null,a,u);e.push({event:g,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if($n!==0){var E=d?d_(u,d):new FormData(u);Ro(i,{pending:!0,data:E,method:u.method,action:c},null,E)}}else typeof c=="function"&&(g.preventDefault(),E=d?d_(u,d):new FormData(u),Ro(i,{pending:!0,data:E,method:u.method,action:c},c,E))},currentTarget:u}]})}}for(var uc=0;uc<ku.length;uc++){var oc=ku[uc],U0=oc.toLowerCase(),L0=oc[0].toUpperCase()+oc.slice(1);Wt(U0,"on"+L0)}Wt(Vh,"onAnimationEnd"),Wt(Qh,"onAnimationIteration"),Wt(Xh,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(Pv,"onTransitionRun"),Wt(Wv,"onTransitionStart"),Wt($v,"onTransitionCancel"),Wt(Zh,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(As));function m_(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],u=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var d=a.length-1;0<=d;d--){var g=a[d],E=g.instance,M=g.currentTarget;if(g=g.listener,E!==c&&u.isPropagationStopped())break e;c=g,u.currentTarget=M;try{c(u)}catch(z){Da(z)}u.currentTarget=null,c=E}else for(d=0;d<a.length;d++){if(g=a[d],E=g.instance,M=g.currentTarget,g=g.listener,E!==c&&u.isPropagationStopped())break e;c=g,u.currentTarget=M;try{c(u)}catch(z){Da(z)}u.currentTarget=null,c=E}}}}function ce(e,t){var i=t[Eu];i===void 0&&(i=t[Eu]=new Set);var a=e+"__bubble";i.has(a)||(__(t,e,2,!1),i.add(a))}function cc(e,t,i){var a=0;t&&(a|=4),__(i,e,a,t)}var _r="_reactListening"+Math.random().toString(36).slice(2);function fc(e){if(!e[_r]){e[_r]=!0,uh.forEach(function(i){i!=="selectionchange"&&(I0.has(i)||cc(i,!1,e),cc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_r]||(t[_r]=!0,cc("selectionchange",!1,t))}}function __(e,t,i,a){switch(V_(t)){case 2:var u=c1;break;case 8:u=f1;break;default:u=Ac}i=u.bind(null,t,i,e),u=void 0,!Ou||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function hc(e,t,i,a,u){var c=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var g=a.stateNode.containerInfo;if(g===u)break;if(d===4)for(d=a.return;d!==null;){var E=d.tag;if((E===3||E===4)&&d.stateNode.containerInfo===u)return;d=d.return}for(;g!==null;){if(d=ki(g),d===null)return;if(E=d.tag,E===5||E===6||E===26||E===27){a=c=d;continue e}g=g.parentNode}}a=a.return}Sh(function(){var M=c,z=Mu(i),I=[];e:{var D=Kh.get(e);if(D!==void 0){var w=Aa,Q=e;switch(e){case"keypress":if(Ta(i)===0)break e;case"keydown":case"keyup":w=Dv;break;case"focusin":Q="focus",w=Uu;break;case"focusout":Q="blur",w=Uu;break;case"beforeblur":case"afterblur":w=Uu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Ch;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=gv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=xv;break;case Vh:case Qh:case Xh:w=Sv;break;case Zh:w=Uv;break;case"scroll":case"scrollend":w=_v;break;case"wheel":w=Iv;break;case"copy":case"cut":case"paste":w=bv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Nh;break;case"toggle":case"beforetoggle":w=Hv}var W=(t&4)!==0,De=!W&&(e==="scroll"||e==="scrollend"),T=W?D!==null?D+"Capture":null:D;W=[];for(var C=M,R;C!==null;){var L=C;if(R=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||R===null||T===null||(L=Kl(C,T),L!=null&&W.push(Rs(C,L,R))),De)break;C=C.return}0<W.length&&(D=new w(D,Q,null,i,z),I.push({event:D,listeners:W}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",D&&i!==Ru&&(Q=i.relatedTarget||i.fromElement)&&(ki(Q)||Q[Yi]))break e;if((w||D)&&(D=z.window===z?z:(D=z.ownerDocument)?D.defaultView||D.parentWindow:window,w?(Q=i.relatedTarget||i.toElement,w=M,Q=Q?ki(Q):null,Q!==null&&(De=f(Q),W=Q.tag,Q!==De||W!==5&&W!==27&&W!==6)&&(Q=null)):(w=null,Q=M),w!==Q)){if(W=Ch,L="onMouseLeave",T="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(W=Nh,L="onPointerLeave",T="onPointerEnter",C="pointer"),De=w==null?D:Zl(w),R=Q==null?D:Zl(Q),D=new W(L,C+"leave",w,i,z),D.target=De,D.relatedTarget=R,L=null,ki(z)===M&&(W=new W(T,C+"enter",Q,i,z),W.target=R,W.relatedTarget=De,L=W),De=L,w&&Q)t:{for(W=B0,T=w,C=Q,R=0,L=T;L;L=W(L))R++;L=0;for(var F=C;F;F=W(F))L++;for(;0<R-L;)T=W(T),R--;for(;0<L-R;)C=W(C),L--;for(;R--;){if(T===C||C!==null&&T===C.alternate){W=T;break t}T=W(T),C=W(C)}W=null}else W=null;w!==null&&p_(I,D,w,W,!1),Q!==null&&De!==null&&p_(I,De,Q,W,!0)}}e:{if(D=M?Zl(M):window,w=D.nodeName&&D.nodeName.toLowerCase(),w==="select"||w==="input"&&D.type==="file")var ve=zh;else if(wh(D))if(Uh)ve=Kv;else{ve=Xv;var X=Qv}else w=D.nodeName,!w||w.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?M&&Au(M.elementType)&&(ve=zh):ve=Zv;if(ve&&(ve=ve(e,M))){xh(I,ve,i,z);break e}X&&X(e,D,M),e==="focusout"&&M&&D.type==="number"&&M.memoizedProps.value!=null&&Nu(D,"number",D.value)}switch(X=M?Zl(M):window,e){case"focusin":(wh(X)||X.contentEditable==="true")&&(Wi=X,qu=M,ns=null);break;case"focusout":ns=qu=Wi=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,Yh(I,i,z);break;case"selectionchange":if(Jv)break;case"keydown":case"keyup":Yh(I,i,z)}var se;if(Iu)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Pi?Dh(e,i)&&(_e="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(_e="onCompositionStart");_e&&(Ah&&i.locale!=="ko"&&(Pi||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Pi&&(se=Eh()):(Bn=z,wu="value"in Bn?Bn.value:Bn.textContent,Pi=!0)),X=pr(M,_e),0<X.length&&(_e=new Th(_e,e,null,i,z),I.push({event:_e,listeners:X}),se?_e.data=se:(se=Oh(i),se!==null&&(_e.data=se)))),(se=qv?Gv(e,i):Yv(e,i))&&(_e=pr(M,"onBeforeInput"),0<_e.length&&(X=new Th("onBeforeInput","beforeinput",null,i,z),I.push({event:X,listeners:_e}),X.data=se)),z0(I,e,M,i,z)}m_(I,t)})}function Rs(e,t,i){return{instance:e,listener:t,currentTarget:i}}function pr(e,t){for(var i=t+"Capture",a=[];e!==null;){var u=e,c=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||c===null||(u=Kl(e,i),u!=null&&a.unshift(Rs(e,u,c)),u=Kl(e,t),u!=null&&a.push(Rs(e,u,c))),e.tag===3)return a;e=e.return}return[]}function B0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function p_(e,t,i,a,u){for(var c=t._reactName,d=[];i!==null&&i!==a;){var g=i,E=g.alternate,M=g.stateNode;if(g=g.tag,E!==null&&E===a)break;g!==5&&g!==26&&g!==27||M===null||(E=M,u?(M=Kl(i,c),M!=null&&d.unshift(Rs(i,M,E))):u||(M=Kl(i,c),M!=null&&d.push(Rs(i,M,E)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var H0=/\r\n?/g,j0=/\u0000|\uFFFD/g;function g_(e){return(typeof e=="string"?e:""+e).replace(H0,`
`).replace(j0,"")}function y_(e,t){return t=g_(t),g_(e)===t}function Me(e,t,i,a,u,c){switch(i){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ki(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ki(e,""+a);break;case"className":Sa(e,"class",a);break;case"tabIndex":Sa(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Sa(e,i,a);break;case"style":yh(e,a,c);break;case"data":if(t!=="object"){Sa(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=ba(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&Me(e,t,"name",u.name,u,null),Me(e,t,"formEncType",u.formEncType,u,null),Me(e,t,"formMethod",u.formMethod,u,null),Me(e,t,"formTarget",u.formTarget,u,null)):(Me(e,t,"encType",u.encType,u,null),Me(e,t,"method",u.method,u,null),Me(e,t,"target",u.target,u,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=ba(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=hn);break;case"onScroll":a!=null&&ce("scroll",e);break;case"onScrollEnd":a!=null&&ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=ba(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":ce("beforetoggle",e),ce("toggle",e),va(e,"popover",a);break;case"xlinkActuate":fn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":fn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":fn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":fn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":fn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":fn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":fn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":fn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":fn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":va(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=dv.get(i)||i,va(e,i,a))}}function dc(e,t,i,a,u,c){switch(i){case"style":yh(e,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof a=="string"?Ki(e,a):(typeof a=="number"||typeof a=="bigint")&&Ki(e,""+a);break;case"onScroll":a!=null&&ce("scroll",e);break;case"onScrollEnd":a!=null&&ce("scrollend",e);break;case"onClick":a!=null&&(e.onclick=hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oh.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),c=e[vt]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,u),typeof a=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,a,u);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):va(e,i,a)}}}function ht(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",e),ce("load",e);var a=!1,u=!1,c;for(c in i)if(i.hasOwnProperty(c)){var d=i[c];if(d!=null)switch(c){case"src":a=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Me(e,t,c,d,i,null)}}u&&Me(e,t,"srcSet",i.srcSet,i,null),a&&Me(e,t,"src",i.src,i,null);return;case"input":ce("invalid",e);var g=c=d=u=null,E=null,M=null;for(a in i)if(i.hasOwnProperty(a)){var z=i[a];if(z!=null)switch(a){case"name":u=z;break;case"type":d=z;break;case"checked":E=z;break;case"defaultChecked":M=z;break;case"value":c=z;break;case"defaultValue":g=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,t));break;default:Me(e,t,a,z,i,null)}}mh(e,c,g,E,M,d,u,!1);return;case"select":ce("invalid",e),a=d=c=null;for(u in i)if(i.hasOwnProperty(u)&&(g=i[u],g!=null))switch(u){case"value":c=g;break;case"defaultValue":d=g;break;case"multiple":a=g;default:Me(e,t,u,g,i,null)}t=c,i=d,e.multiple=!!a,t!=null?Zi(e,!!a,t,!1):i!=null&&Zi(e,!!a,i,!0);return;case"textarea":ce("invalid",e),c=u=a=null;for(d in i)if(i.hasOwnProperty(d)&&(g=i[d],g!=null))switch(d){case"value":a=g;break;case"defaultValue":u=g;break;case"children":c=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:Me(e,t,d,g,i,null)}ph(e,a,u,c);return;case"option":for(E in i)if(i.hasOwnProperty(E)&&(a=i[E],a!=null))switch(E){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Me(e,t,E,a,i,null)}return;case"dialog":ce("beforetoggle",e),ce("toggle",e),ce("cancel",e),ce("close",e);break;case"iframe":case"object":ce("load",e);break;case"video":case"audio":for(a=0;a<As.length;a++)ce(As[a],e);break;case"image":ce("error",e),ce("load",e);break;case"details":ce("toggle",e);break;case"embed":case"source":case"link":ce("error",e),ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in i)if(i.hasOwnProperty(M)&&(a=i[M],a!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Me(e,t,M,a,i,null)}return;default:if(Au(t)){for(z in i)i.hasOwnProperty(z)&&(a=i[z],a!==void 0&&dc(e,t,z,a,i,void 0));return}}for(g in i)i.hasOwnProperty(g)&&(a=i[g],a!=null&&Me(e,t,g,a,i,null))}function q0(e,t,i,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,c=null,d=null,g=null,E=null,M=null,z=null;for(w in i){var I=i[w];if(i.hasOwnProperty(w)&&I!=null)switch(w){case"checked":break;case"value":break;case"defaultValue":E=I;default:a.hasOwnProperty(w)||Me(e,t,w,null,a,I)}}for(var D in a){var w=a[D];if(I=i[D],a.hasOwnProperty(D)&&(w!=null||I!=null))switch(D){case"type":c=w;break;case"name":u=w;break;case"checked":M=w;break;case"defaultChecked":z=w;break;case"value":d=w;break;case"defaultValue":g=w;break;case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(137,t));break;default:w!==I&&Me(e,t,D,w,a,I)}}Tu(e,d,g,E,M,z,c,u);return;case"select":w=d=g=D=null;for(c in i)if(E=i[c],i.hasOwnProperty(c)&&E!=null)switch(c){case"value":break;case"multiple":w=E;default:a.hasOwnProperty(c)||Me(e,t,c,null,a,E)}for(u in a)if(c=a[u],E=i[u],a.hasOwnProperty(u)&&(c!=null||E!=null))switch(u){case"value":D=c;break;case"defaultValue":g=c;break;case"multiple":d=c;default:c!==E&&Me(e,t,u,c,a,E)}t=g,i=d,a=w,D!=null?Zi(e,!!i,D,!1):!!a!=!!i&&(t!=null?Zi(e,!!i,t,!0):Zi(e,!!i,i?[]:"",!1));return;case"textarea":w=D=null;for(g in i)if(u=i[g],i.hasOwnProperty(g)&&u!=null&&!a.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:Me(e,t,g,null,a,u)}for(d in a)if(u=a[d],c=i[d],a.hasOwnProperty(d)&&(u!=null||c!=null))switch(d){case"value":D=u;break;case"defaultValue":w=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==c&&Me(e,t,d,u,a,c)}_h(e,D,w);return;case"option":for(var Q in i)if(D=i[Q],i.hasOwnProperty(Q)&&D!=null&&!a.hasOwnProperty(Q))switch(Q){case"selected":e.selected=!1;break;default:Me(e,t,Q,null,a,D)}for(E in a)if(D=a[E],w=i[E],a.hasOwnProperty(E)&&D!==w&&(D!=null||w!=null))switch(E){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Me(e,t,E,D,a,w)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var W in i)D=i[W],i.hasOwnProperty(W)&&D!=null&&!a.hasOwnProperty(W)&&Me(e,t,W,null,a,D);for(M in a)if(D=a[M],w=i[M],a.hasOwnProperty(M)&&D!==w&&(D!=null||w!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:Me(e,t,M,D,a,w)}return;default:if(Au(t)){for(var De in i)D=i[De],i.hasOwnProperty(De)&&D!==void 0&&!a.hasOwnProperty(De)&&dc(e,t,De,void 0,a,D);for(z in a)D=a[z],w=i[z],!a.hasOwnProperty(z)||D===w||D===void 0&&w===void 0||dc(e,t,z,D,a,w);return}}for(var T in i)D=i[T],i.hasOwnProperty(T)&&D!=null&&!a.hasOwnProperty(T)&&Me(e,t,T,null,a,D);for(I in a)D=a[I],w=i[I],!a.hasOwnProperty(I)||D===w||D==null&&w==null||Me(e,t,I,D,a,w)}function v_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),a=0;a<i.length;a++){var u=i[a],c=u.transferSize,d=u.initiatorType,g=u.duration;if(c&&g&&v_(d)){for(d=0,g=u.responseEnd,a+=1;a<i.length;a++){var E=i[a],M=E.startTime;if(M>g)break;var z=E.transferSize,I=E.initiatorType;z&&v_(I)&&(E=E.responseEnd,d+=z*(E<g?1:(g-M)/(E-M)))}if(--a,t+=8*(c+d)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var mc=null,_c=null;function gr(e){return e.nodeType===9?e:e.ownerDocument}function S_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E_(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function pc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gc=null;function Y0(){var e=window.event;return e&&e.type==="popstate"?e===gc?!1:(gc=e,!0):(gc=null,!1)}var b_=typeof setTimeout=="function"?setTimeout:void 0,k0=typeof clearTimeout=="function"?clearTimeout:void 0,C_=typeof Promise=="function"?Promise:void 0,V0=typeof queueMicrotask=="function"?queueMicrotask:typeof C_<"u"?function(e){return C_.resolve(null).then(e).catch(Q0)}:b_;function Q0(e){setTimeout(function(){throw e})}function ei(e){return e==="head"}function T_(e,t){var i=t,a=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"||i==="/&"){if(a===0){e.removeChild(u),Nl(t);return}a--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")a++;else if(i==="html")Ms(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Ms(i);for(var c=i.firstChild;c;){var d=c.nextSibling,g=c.nodeName;c[Xl]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&c.rel.toLowerCase()==="stylesheet"||i.removeChild(c),c=d}}else i==="body"&&Ms(e.ownerDocument.body);i=u}while(i);Nl(t)}function N_(e,t){var i=e;e=0;do{var a=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=a}while(i)}function yc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":yc(i),bu(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function X0(e,t,i,a){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Xl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function Z0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Jt(e.nextSibling),e===null))return null;return e}function A_(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Jt(e.nextSibling),e===null))return null;return e}function vc(e){return e.data==="$?"||e.data==="$~"}function Sc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function K0(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var a=function(){t(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ec=null;function R_(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Jt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function M_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function D_(e,t,i){switch(t=gr(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ms(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);bu(e)}var Pt=new Map,O_=new Set;function yr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mn=j.d;j.d={f:F0,r:J0,D:P0,C:W0,L:$0,m:e1,X:n1,S:t1,M:i1};function F0(){var e=Mn.f(),t=or();return e||t}function J0(e){var t=Vi(e);t!==null&&t.tag===5&&t.type==="form"?Zd(t):Mn.r(e)}var bl=typeof document>"u"?null:document;function w_(e,t,i){var a=bl;if(a&&typeof t=="string"&&t){var u=kt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),O_.has(u)||(O_.add(u),e={rel:e,crossOrigin:i,href:t},a.querySelector(u)===null&&(t=a.createElement("link"),ht(t,"link",e),it(t),a.head.appendChild(t)))}}function P0(e){Mn.D(e),w_("dns-prefetch",e,null)}function W0(e,t){Mn.C(e,t),w_("preconnect",e,t)}function $0(e,t,i){Mn.L(e,t,i);var a=bl;if(a&&e&&t){var u='link[rel="preload"][as="'+kt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+kt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+kt(i.imageSizes)+'"]')):u+='[href="'+kt(e)+'"]';var c=u;switch(t){case"style":c=Cl(e);break;case"script":c=Tl(e)}Pt.has(c)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Pt.set(c,e),a.querySelector(u)!==null||t==="style"&&a.querySelector(Ds(c))||t==="script"&&a.querySelector(Os(c))||(t=a.createElement("link"),ht(t,"link",e),it(t),a.head.appendChild(t)))}}function e1(e,t){Mn.m(e,t);var i=bl;if(i&&e){var a=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+kt(a)+'"][href="'+kt(e)+'"]',c=u;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Tl(e)}if(!Pt.has(c)&&(e=v({rel:"modulepreload",href:e},t),Pt.set(c,e),i.querySelector(u)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Os(c)))return}a=i.createElement("link"),ht(a,"link",e),it(a),i.head.appendChild(a)}}}function t1(e,t,i){Mn.S(e,t,i);var a=bl;if(a&&e){var u=Qi(a).hoistableStyles,c=Cl(e);t=t||"default";var d=u.get(c);if(!d){var g={loading:0,preload:null};if(d=a.querySelector(Ds(c)))g.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Pt.get(c))&&bc(e,i);var E=d=a.createElement("link");it(E),ht(E,"link",e),E._p=new Promise(function(M,z){E.onload=M,E.onerror=z}),E.addEventListener("load",function(){g.loading|=1}),E.addEventListener("error",function(){g.loading|=2}),g.loading|=4,vr(d,t,a)}d={type:"stylesheet",instance:d,count:1,state:g},u.set(c,d)}}}function n1(e,t){Mn.X(e,t);var i=bl;if(i&&e){var a=Qi(i).hoistableScripts,u=Tl(e),c=a.get(u);c||(c=i.querySelector(Os(u)),c||(e=v({src:e,async:!0},t),(t=Pt.get(u))&&Cc(e,t),c=i.createElement("script"),it(c),ht(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(u,c))}}function i1(e,t){Mn.M(e,t);var i=bl;if(i&&e){var a=Qi(i).hoistableScripts,u=Tl(e),c=a.get(u);c||(c=i.querySelector(Os(u)),c||(e=v({src:e,async:!0,type:"module"},t),(t=Pt.get(u))&&Cc(e,t),c=i.createElement("script"),it(c),ht(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(u,c))}}function x_(e,t,i,a){var u=(u=ue.current)?yr(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Cl(i.href),i=Qi(u).hoistableStyles,a=i.get(t),a||(a={type:"style",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Cl(i.href);var c=Qi(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Ds(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Pt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Pt.set(e,i),c||l1(u,e,i,d.state))),t&&a===null)throw Error(r(528,""));return d}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Tl(i),i=Qi(u).hoistableScripts,a=i.get(t),a||(a={type:"script",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Cl(e){return'href="'+kt(e)+'"'}function Ds(e){return'link[rel="stylesheet"]['+e+"]"}function z_(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function l1(e,t,i,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),ht(t,"link",i),it(t),e.head.appendChild(t))}function Tl(e){return'[src="'+kt(e)+'"]'}function Os(e){return"script[async]"+e}function U_(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+kt(i.href)+'"]');if(a)return t.instance=a,it(a),a;var u=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),it(a),ht(a,"style",u),vr(a,i.precedence,e),t.instance=a;case"stylesheet":u=Cl(i.href);var c=e.querySelector(Ds(u));if(c)return t.state.loading|=4,t.instance=c,it(c),c;a=z_(i),(u=Pt.get(u))&&bc(a,u),c=(e.ownerDocument||e).createElement("link"),it(c);var d=c;return d._p=new Promise(function(g,E){d.onload=g,d.onerror=E}),ht(c,"link",a),t.state.loading|=4,vr(c,i.precedence,e),t.instance=c;case"script":return c=Tl(i.src),(u=e.querySelector(Os(c)))?(t.instance=u,it(u),u):(a=i,(u=Pt.get(c))&&(a=v({},i),Cc(a,u)),e=e.ownerDocument||e,u=e.createElement("script"),it(u),ht(u,"link",a),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,vr(a,i.precedence,e));return t.instance}function vr(e,t,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=a.length?a[a.length-1]:null,c=u,d=0;d<a.length;d++){var g=a[d];if(g.dataset.precedence===t)c=g;else if(c!==u)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function bc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Cc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Sr=null;function L_(e,t,i){if(Sr===null){var a=new Map,u=Sr=new Map;u.set(i,a)}else u=Sr,a=u.get(i),a||(a=new Map,u.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var c=i[u];if(!(c[Xl]||c[ut]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(t)||"";d=e+d;var g=a.get(d);g?g.push(c):a.set(d,[c])}}return a}function I_(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function s1(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function B_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function a1(e,t,i,a){if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=Cl(a.href),c=t.querySelector(Ds(u));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Er.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=c,it(c);return}c=t.ownerDocument||t,a=z_(a),(u=Pt.get(u))&&bc(a,u),c=c.createElement("link"),it(c);var d=c;d._p=new Promise(function(g,E){d.onload=g,d.onerror=E}),ht(c,"link",a),i.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Er.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Tc=0;function r1(e,t){return e.stylesheets&&e.count===0&&Cr(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var a=setTimeout(function(){if(e.stylesheets&&Cr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Tc===0&&(Tc=62500*G0());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Cr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Tc?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(u)}}:null}function Er(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var br=null;function Cr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,br=new Map,t.forEach(u1,e),br=null,Er.call(e))}function u1(e,t){if(!(t.state.loading&4)){var i=br.get(e);if(i)var a=i.get(null);else{i=new Map,br.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<u.length;c++){var d=u[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),a=d)}a&&i.set(null,a)}u=t.instance,d=u.getAttribute("data-precedence"),c=i.get(d)||a,c===a&&i.set(null,u),i.set(d,u),this.count++,a=Er.bind(this),u.addEventListener("load",a),u.addEventListener("error",a),c?c.parentNode.insertBefore(u,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var ws={$$typeof:q,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function o1(e,t,i,a,u,c,d,g,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yu(0),this.hiddenUpdates=yu(null),this.identifierPrefix=a,this.onUncaughtError=u,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function H_(e,t,i,a,u,c,d,g,E,M,z,I){return e=new o1(e,t,i,d,E,M,z,I,g),t=1,c===!0&&(t|=24),c=zt(3,null,null,t),e.current=c,c.stateNode=e,t=no(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:a,isDehydrated:i,cache:t},ao(c),e}function j_(e){return e?(e=tl,e):tl}function q_(e,t,i,a,u,c){u=j_(u),a.context===null?a.context=u:a.pendingContext=u,a=kn(t),a.payload={element:i},c=c===void 0?null:c,c!==null&&(a.callback=c),i=Vn(e,a,t),i!==null&&(Nt(i,e,t),os(i,e,t))}function G_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Nc(e,t){G_(e,t),(e=e.alternate)&&G_(e,t)}function Y_(e){if(e.tag===13||e.tag===31){var t=vi(e,67108864);t!==null&&Nt(t,e,67108864),Nc(e,67108864)}}function k_(e){if(e.tag===13||e.tag===31){var t=Ht();t=vu(t);var i=vi(e,t);i!==null&&Nt(i,e,t),Nc(e,t)}}var Tr=!0;function c1(e,t,i,a){var u=x.T;x.T=null;var c=j.p;try{j.p=2,Ac(e,t,i,a)}finally{j.p=c,x.T=u}}function f1(e,t,i,a){var u=x.T;x.T=null;var c=j.p;try{j.p=8,Ac(e,t,i,a)}finally{j.p=c,x.T=u}}function Ac(e,t,i,a){if(Tr){var u=Rc(a);if(u===null)hc(e,t,a,Nr,i),Q_(e,a);else if(d1(u,e,t,i,a))a.stopPropagation();else if(Q_(e,a),t&4&&-1<h1.indexOf(e)){for(;u!==null;){var c=Vi(u);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=mi(c.pendingLanes);if(d!==0){var g=c;for(g.pendingLanes|=2,g.entangledLanes|=2;d;){var E=1<<31-wt(d);g.entanglements[1]|=E,d&=~E}on(c),(be&6)===0&&(rr=Dt()+500,Ns(0))}}break;case 31:case 13:g=vi(c,2),g!==null&&Nt(g,c,2),or(),Nc(c,2)}if(c=Rc(a),c===null&&hc(e,t,a,Nr,i),c===u)break;u=c}u!==null&&a.stopPropagation()}else hc(e,t,a,null,i)}}function Rc(e){return e=Mu(e),Mc(e)}var Nr=null;function Mc(e){if(Nr=null,e=ki(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===31){if(e=p(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Nr=e,null}function V_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Py()){case Wf:return 2;case $f:return 8;case ma:case Wy:return 32;case eh:return 268435456;default:return 32}default:return 32}}var Dc=!1,ti=null,ni=null,ii=null,xs=new Map,zs=new Map,li=[],h1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Q_(e,t){switch(e){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":xs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(t.pointerId)}}function Us(e,t,i,a,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:c,targetContainers:[u]},t!==null&&(t=Vi(t),t!==null&&Y_(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function d1(e,t,i,a,u){switch(t){case"focusin":return ti=Us(ti,e,t,i,a,u),!0;case"dragenter":return ni=Us(ni,e,t,i,a,u),!0;case"mouseover":return ii=Us(ii,e,t,i,a,u),!0;case"pointerover":var c=u.pointerId;return xs.set(c,Us(xs.get(c)||null,e,t,i,a,u)),!0;case"gotpointercapture":return c=u.pointerId,zs.set(c,Us(zs.get(c)||null,e,t,i,a,u)),!0}return!1}function X_(e){var t=ki(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,ah(e.priority,function(){k_(i)});return}}else if(t===31){if(t=p(i),t!==null){e.blockedOn=t,ah(e.priority,function(){k_(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ar(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Rc(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);Ru=a,i.target.dispatchEvent(a),Ru=null}else return t=Vi(i),t!==null&&Y_(t),e.blockedOn=i,!1;t.shift()}return!0}function Z_(e,t,i){Ar(e)&&i.delete(t)}function m1(){Dc=!1,ti!==null&&Ar(ti)&&(ti=null),ni!==null&&Ar(ni)&&(ni=null),ii!==null&&Ar(ii)&&(ii=null),xs.forEach(Z_),zs.forEach(Z_)}function Rr(e,t){e.blockedOn===t&&(e.blockedOn=null,Dc||(Dc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,m1)))}var Mr=null;function K_(e){Mr!==e&&(Mr=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Mr===e&&(Mr=null);for(var t=0;t<e.length;t+=3){var i=e[t],a=e[t+1],u=e[t+2];if(typeof a!="function"){if(Mc(a||i)===null)continue;break}var c=Vi(i);c!==null&&(e.splice(t,3),t-=3,Ro(c,{pending:!0,data:u,method:i.method,action:a},a,u))}}))}function Nl(e){function t(E){return Rr(E,e)}ti!==null&&Rr(ti,e),ni!==null&&Rr(ni,e),ii!==null&&Rr(ii,e),xs.forEach(t),zs.forEach(t);for(var i=0;i<li.length;i++){var a=li[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<li.length&&(i=li[0],i.blockedOn===null);)X_(i),i.blockedOn===null&&li.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var u=i[a],c=i[a+1],d=u[vt]||null;if(typeof c=="function")d||K_(i);else if(d){var g=null;if(c&&c.hasAttribute("formAction")){if(u=c,d=c[vt]||null)g=d.formAction;else if(Mc(u)!==null)continue}else g=d.action;typeof g=="function"?i[a+1]=g:(i.splice(a,3),a-=3),K_(i)}}}function F_(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(d){return u=d})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),a||setTimeout(i,20)}function i(){if(!a&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Oc(e){this._internalRoot=e}Dr.prototype.render=Oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,a=Ht();q_(i,a,e,t,null,null)},Dr.prototype.unmount=Oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;q_(e.current,2,null,e,null,null),or(),t[Yi]=null}};function Dr(e){this._internalRoot=e}Dr.prototype.unstable_scheduleHydration=function(e){if(e){var t=sh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<li.length&&t!==0&&t<li[i].priority;i++);li.splice(i,0,e),i===0&&X_(e)}};var J_=n.version;if(J_!=="19.2.0")throw Error(r(527,J_,"19.2.0"));j.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var _1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Or=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Or.isDisabled&&Or.supportsFiber)try{kl=Or.inject(_1),Ot=Or}catch{}}return Is.createRoot=function(e,t){if(!o(e))throw Error(r(299));var i=!1,a="",u=im,c=lm,d=sm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=H_(e,1,!1,null,null,i,a,null,u,c,d,F_),e[Yi]=t.current,fc(e),new Oc(t)},Is.hydrateRoot=function(e,t,i){if(!o(e))throw Error(r(299));var a=!1,u="",c=im,d=lm,g=sm,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError),i.formState!==void 0&&(E=i.formState)),t=H_(e,1,!0,t,i??null,a,u,E,c,d,g,F_),t.context=j_(null),i=t.current,a=Ht(),a=vu(a),u=kn(a),u.callback=null,Vn(i,u,a),i=a,t.current.lanes=i,Ql(t,i),on(t),e[Yi]=t.current,fc(e),new Dr(t)},Is.version="19.2.0",Is}var ap;function A1(){if(ap)return zc.exports;ap=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),zc.exports=N1(),zc.exports}var R1=A1();const M1=()=>{};var rp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(s,n){if(!s)throw Bl(n)},Bl=function(s){return new Error("Firebase Database ("+ng.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=function(s){const n=[];let l=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},D1=function(s){const n=[];let l=0,r=0;for(;l<s.length;){const o=s[l++];if(o<128)n[r++]=String.fromCharCode(o);else if(o>191&&o<224){const f=s[l++];n[r++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=s[l++],h=s[l++],p=s[l++],m=((o&7)<<18|(f&63)<<12|(h&63)<<6|p&63)-65536;n[r++]=String.fromCharCode(55296+(m>>10)),n[r++]=String.fromCharCode(56320+(m&1023))}else{const f=s[l++],h=s[l++];n[r++]=String.fromCharCode((o&15)<<12|(f&63)<<6|h&63)}}return n.join("")},_f={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,n){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const f=s[o],h=o+1<s.length,p=h?s[o+1]:0,m=o+2<s.length,_=m?s[o+2]:0,y=f>>2,v=(f&3)<<4|p>>4;let S=(p&15)<<2|_>>6,O=_&63;m||(O=64,h||(S=64)),r.push(l[y],l[v],l[S],l[O])}return r.join("")},encodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(s):this.encodeByteArray(ig(s),n)},decodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(s):D1(this.decodeStringToByteArray(s,n))},decodeStringToByteArray(s,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const f=l[s.charAt(o++)],p=o<s.length?l[s.charAt(o)]:0;++o;const _=o<s.length?l[s.charAt(o)]:64;++o;const v=o<s.length?l[s.charAt(o)]:64;if(++o,f==null||p==null||_==null||v==null)throw new O1;const S=f<<2|p>>4;if(r.push(S),_!==64){const O=p<<4&240|_>>2;if(r.push(O),v!==64){const A=_<<6&192|v;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class O1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lg=function(s){const n=ig(s);return _f.encodeByteArray(n,!0)},Ur=function(s){return lg(s).replace(/\./g,"")},Kc=function(s){try{return _f.decodeString(s,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(s){return sg(void 0,s)}function sg(s,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!x1(l)||(s[l]=sg(s[l],n[l]));return s}function x1(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=()=>z1().__FIREBASE_DEFAULTS__,L1=()=>{if(typeof process>"u"||typeof rp>"u")return;const s=rp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},I1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=s&&Kc(s[1]);return n&&JSON.parse(n)},ag=()=>{try{return M1()||U1()||L1()||I1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},B1=s=>ag()?.emulatorHosts?.[s],H1=s=>{const n=B1(s);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),r]:[n.substring(0,l),r]},rg=()=>ag()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,r)=>{l?this.reject(l):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function j1(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(s,n){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},r=n||"demo-project",o=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Ur(JSON.stringify(l)),Ur(JSON.stringify(h)),""].join(".")}const Gs={};function G1(){const s={prod:[],emulator:[]};for(const n of Object.keys(Gs))Gs[n]?s.emulator.push(n):s.prod.push(n);return s}function Y1(s){let n=document.getElementById(s),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",s),l=!0),{created:l,element:n}}let up=!1;function k1(s,n){if(typeof window>"u"||typeof document>"u"||!pf(window.location.host)||Gs[s]===n||Gs[s]||up)return;Gs[s]=n;function l(S){return`__firebase__banner__${S}`}const r="__firebase__banner",f=G1().prod.length>0;function h(){const S=document.getElementById(r);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function m(S,O){S.setAttribute("width","24"),S.setAttribute("id",O),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function _(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{up=!0,h()},S}function y(S,O){S.setAttribute("id",O),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function v(){const S=Y1(r),O=l("text"),A=document.getElementById(O)||document.createElement("span"),B=l("learnmore"),H=document.getElementById(B)||document.createElement("a"),Z=l("preprendIcon"),$=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const q=S.element;p(q),y(H,B);const J=_();m($,Z),q.append($,A,H,J),document.body.appendChild(q)}f?(A.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ug(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(V1())}function Q1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X1(){return ng.NODE_ADMIN===!0}function Z1(){try{return typeof indexedDB=="object"}catch{return!1}}function K1(){return new Promise((s,n)=>{try{let l=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),l||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{l=!1},o.onerror=()=>{n(o.error?.message||"")}}catch(l){n(l)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="FirebaseError";class aa extends Error{constructor(n,l,r){super(l),this.code=n,this.customData=r,this.name=F1,Object.setPrototypeOf(this,aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,og.prototype.create)}}class og{constructor(n,l,r){this.service=n,this.serviceName=l,this.errors=r}create(n,...l){const r=l[0]||{},o=`${this.service}/${n}`,f=this.errors[n],h=f?J1(f,r):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new aa(o,p,r)}}function J1(s,n){return s.replace(P1,(l,r)=>{const o=n[r];return o!=null?String(o):`<${r}?>`})}const P1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(s){return JSON.parse(s)}function et(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=function(s){let n={},l={},r={},o="";try{const f=s.split(".");n=Zs(Kc(f[0])||""),l=Zs(Kc(f[1])||""),o=f[2],r=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:r,signature:o}},W1=function(s){const n=cg(s),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},$1=function(s){const n=cg(s).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(s,n){return Object.prototype.hasOwnProperty.call(s,n)}function zl(s,n){if(Object.prototype.hasOwnProperty.call(s,n))return s[n]}function op(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}function Lr(s,n,l){const r={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=n.call(l,s[o],o,s));return r}function Ir(s,n){if(s===n)return!0;const l=Object.keys(s),r=Object.keys(n);for(const o of l){if(!r.includes(o))return!1;const f=s[o],h=n[o];if(cp(f)&&cp(h)){if(!Ir(f,h))return!1}else if(f!==h)return!1}for(const o of r)if(!l.includes(o))return!1;return!0}function cp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(s){const n=[];for(const[l,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const r=this.W_;if(typeof n=="string")for(let v=0;v<16;v++)r[v]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let v=0;v<16;v++)r[v]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let v=16;v<80;v++){const S=r[v-3]^r[v-8]^r[v-14]^r[v-16];r[v]=(S<<1|S>>>31)&4294967295}let o=this.chain_[0],f=this.chain_[1],h=this.chain_[2],p=this.chain_[3],m=this.chain_[4],_,y;for(let v=0;v<80;v++){v<40?v<20?(_=p^f&(h^p),y=1518500249):(_=f^h^p,y=1859775393):v<60?(_=f&h|p&(f|h),y=2400959708):(_=f^h^p,y=3395469782);const S=(o<<5|o>>>27)+_+m+y+r[v]&4294967295;m=p,p=h,h=(f<<30|f>>>2)&4294967295,f=o,o=S}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const r=l-this.blockSize;let o=0;const f=this.buf_;let h=this.inbuf_;for(;o<l;){if(h===0)for(;o<=r;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<l;)if(f[h]=n.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}else for(;o<l;)if(f[h]=n[o],++h,++o,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=l&255,l/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[o]>>f&255,++r;return n}}function gf(s,n){return`${s} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=function(s){const n=[];let l=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);if(o>=55296&&o<=56319){const f=o-55296;r++,G(r<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(r)-56320;o=65536+(f<<10)+h}o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):o<65536?(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},eu=function(s){let n=0;for(let l=0;l<s.length;l++){const r=s.charCodeAt(l);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,l++):n+=3}return n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(s){return s&&s._delegate?s._delegate:s}class Ks{constructor(n,l,r){this.name=n,this.instanceFactory=l,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const r=new $r;if(this.instancesDeferred.set(l,r),this.isInitialized(l)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:l});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n?.identifier),r=n?.optional??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(sS(n))try{this.getOrInitializeService({instanceIdentifier:xi})}catch{}for(const[l,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(l);try{const f=this.getOrInitializeService({instanceIdentifier:o});r.resolve(f)}catch{}}}}clearInstance(n=xi){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=xi){return this.instances.has(n)}getOptions(n=xi){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:l});for(const[f,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(f);r===p&&h.resolve(o)}return o}onInit(n,l){const r=this.normalizeInstanceIdentifier(l),o=this.onInitCallbacks.get(r)??new Set;o.add(n),this.onInitCallbacks.set(r,o);const f=this.instances.get(r);return f&&n(f,r),()=>{o.delete(n)}}invokeOnInitCallbacks(n,l){const r=this.onInitCallbacks.get(l);if(r)for(const o of r)try{o(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lS(n),options:l}),this.instances.set(n,r),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=xi){return this.component?this.component.multipleInstances?n:xi:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lS(s){return s===xi?void 0:s}function sS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new iS(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xe||(xe={}));const rS={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},uS=xe.INFO,oS={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},cS=(s,n,...l)=>{if(n<s.logLevel)return;const r=new Date().toISOString(),o=oS[n];if(o)console[o](`[${r}]  ${s.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class fg{constructor(n){this.name=n,this._logLevel=uS,this._logHandler=cS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in xe))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?rS[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...n),this._logHandler(this,xe.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...n),this._logHandler(this,xe.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...n),this._logHandler(this,xe.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...n),this._logHandler(this,xe.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...n),this._logHandler(this,xe.ERROR,...n)}}const fS=(s,n)=>n.some(l=>s instanceof l);let fp,hp;function hS(){return fp||(fp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dS(){return hp||(hp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hg=new WeakMap,Fc=new WeakMap,dg=new WeakMap,Bc=new WeakMap,yf=new WeakMap;function mS(s){const n=new Promise((l,r)=>{const o=()=>{s.removeEventListener("success",f),s.removeEventListener("error",h)},f=()=>{l(ai(s.result)),o()},h=()=>{r(s.error),o()};s.addEventListener("success",f),s.addEventListener("error",h)});return n.then(l=>{l instanceof IDBCursor&&hg.set(l,s)}).catch(()=>{}),yf.set(n,s),n}function _S(s){if(Fc.has(s))return;const n=new Promise((l,r)=>{const o=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",h),s.removeEventListener("abort",h)},f=()=>{l(),o()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",f),s.addEventListener("error",h),s.addEventListener("abort",h)});Fc.set(s,n)}let Jc={get(s,n,l){if(s instanceof IDBTransaction){if(n==="done")return Fc.get(s);if(n==="objectStoreNames")return s.objectStoreNames||dg.get(s);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return ai(s[n])},set(s,n,l){return s[n]=l,!0},has(s,n){return s instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in s}};function pS(s){Jc=s(Jc)}function gS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const r=s.call(Hc(this),n,...l);return dg.set(r,n.sort?n.sort():[n]),ai(r)}:dS().includes(s)?function(...n){return s.apply(Hc(this),n),ai(hg.get(this))}:function(...n){return ai(s.apply(Hc(this),n))}}function yS(s){return typeof s=="function"?gS(s):(s instanceof IDBTransaction&&_S(s),fS(s,hS())?new Proxy(s,Jc):s)}function ai(s){if(s instanceof IDBRequest)return mS(s);if(Bc.has(s))return Bc.get(s);const n=yS(s);return n!==s&&(Bc.set(s,n),yf.set(n,s)),n}const Hc=s=>yf.get(s);function vS(s,n,{blocked:l,upgrade:r,blocking:o,terminated:f}={}){const h=indexedDB.open(s,n),p=ai(h);return r&&h.addEventListener("upgradeneeded",m=>{r(ai(h.result),m.oldVersion,m.newVersion,ai(h.transaction),m)}),l&&h.addEventListener("blocked",m=>l(m.oldVersion,m.newVersion,m)),p.then(m=>{f&&m.addEventListener("close",()=>f()),o&&m.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const SS=["get","getKey","getAll","getAllKeys","count"],ES=["put","add","delete","clear"],jc=new Map;function dp(s,n){if(!(s instanceof IDBDatabase&&!(n in s)&&typeof n=="string"))return;if(jc.get(n))return jc.get(n);const l=n.replace(/FromIndex$/,""),r=n!==l,o=ES.includes(l);if(!(l in(r?IDBIndex:IDBObjectStore).prototype)||!(o||SS.includes(l)))return;const f=async function(h,...p){const m=this.transaction(h,o?"readwrite":"readonly");let _=m.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[l](...p),o&&m.done]))[0]};return jc.set(n,f),f}pS(s=>({...s,get:(n,l,r)=>dp(n,l)||s.get(n,l,r),has:(n,l)=>!!dp(n,l)||s.has(n,l)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(CS(l)){const r=l.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(l=>l).join(" ")}}function CS(s){return s.getComponent()?.type==="VERSION"}const Pc="@firebase/app",mp="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn=new fg("@firebase/app"),TS="@firebase/app-compat",NS="@firebase/analytics-compat",AS="@firebase/analytics",RS="@firebase/app-check-compat",MS="@firebase/app-check",DS="@firebase/auth",OS="@firebase/auth-compat",wS="@firebase/database",xS="@firebase/data-connect",zS="@firebase/database-compat",US="@firebase/functions",LS="@firebase/functions-compat",IS="@firebase/installations",BS="@firebase/installations-compat",HS="@firebase/messaging",jS="@firebase/messaging-compat",qS="@firebase/performance",GS="@firebase/performance-compat",YS="@firebase/remote-config",kS="@firebase/remote-config-compat",VS="@firebase/storage",QS="@firebase/storage-compat",XS="@firebase/firestore",ZS="@firebase/ai",KS="@firebase/firestore-compat",FS="firebase",JS="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc="[DEFAULT]",PS={[Pc]:"fire-core",[TS]:"fire-core-compat",[AS]:"fire-analytics",[NS]:"fire-analytics-compat",[MS]:"fire-app-check",[RS]:"fire-app-check-compat",[DS]:"fire-auth",[OS]:"fire-auth-compat",[wS]:"fire-rtdb",[xS]:"fire-data-connect",[zS]:"fire-rtdb-compat",[US]:"fire-fn",[LS]:"fire-fn-compat",[IS]:"fire-iid",[BS]:"fire-iid-compat",[HS]:"fire-fcm",[jS]:"fire-fcm-compat",[qS]:"fire-perf",[GS]:"fire-perf-compat",[YS]:"fire-rc",[kS]:"fire-rc-compat",[VS]:"fire-gcs",[QS]:"fire-gcs-compat",[XS]:"fire-fst",[KS]:"fire-fst-compat",[ZS]:"fire-vertex","fire-js":"fire-js",[FS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new Map,WS=new Map,$c=new Map;function _p(s,n){try{s.container.addComponent(n)}catch(l){wn.debug(`Component ${n.name} failed to register with FirebaseApp ${s.name}`,l)}}function Hr(s){const n=s.name;if($c.has(n))return wn.debug(`There were multiple attempts to register component ${n}.`),!1;$c.set(n,s);for(const l of Br.values())_p(l,s);for(const l of WS.values())_p(l,s);return!0}function $S(s,n){const l=s.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),s.container.getProvider(n)}function eE(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ri=new og("app","Firebase",tE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(n,l,r){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=JS;function mg(s,n={}){let l=s;typeof n!="object"&&(n={name:n});const r={name:Wc,automaticDataCollectionEnabled:!0,...n},o=r.name;if(typeof o!="string"||!o)throw ri.create("bad-app-name",{appName:String(o)});if(l||(l=rg()),!l)throw ri.create("no-options");const f=Br.get(o);if(f){if(Ir(l,f.options)&&Ir(r,f.config))return f;throw ri.create("duplicate-app",{appName:o})}const h=new aS(o);for(const m of $c.values())h.addComponent(m);const p=new nE(l,r,h);return Br.set(o,p),p}function lE(s=Wc){const n=Br.get(s);if(!n&&s===Wc&&rg())return mg();if(!n)throw ri.create("no-app",{appName:s});return n}function Ol(s,n,l){let r=PS[s]??s;l&&(r+=`-${l}`);const o=r.match(/\s|\//),f=n.match(/\s|\//);if(o||f){const h=[`Unable to register library "${r}" with version "${n}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&f&&h.push("and"),f&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),wn.warn(h.join(" "));return}Hr(new Ks(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="firebase-heartbeat-database",aE=1,Fs="firebase-heartbeat-store";let qc=null;function _g(){return qc||(qc=vS(sE,aE,{upgrade:(s,n)=>{switch(n){case 0:try{s.createObjectStore(Fs)}catch(l){console.warn(l)}}}}).catch(s=>{throw ri.create("idb-open",{originalErrorMessage:s.message})})),qc}async function rE(s){try{const l=(await _g()).transaction(Fs),r=await l.objectStore(Fs).get(pg(s));return await l.done,r}catch(n){if(n instanceof aa)wn.warn(n.message);else{const l=ri.create("idb-get",{originalErrorMessage:n?.message});wn.warn(l.message)}}}async function pp(s,n){try{const r=(await _g()).transaction(Fs,"readwrite");await r.objectStore(Fs).put(n,pg(s)),await r.done}catch(l){if(l instanceof aa)wn.warn(l.message);else{const r=ri.create("idb-set",{originalErrorMessage:l?.message});wn.warn(r.message)}}}function pg(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=1024,oE=30;class cE{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new hE(l),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=gp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:l}),this._heartbeatsCache.heartbeats.length>oE){const o=dE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){wn.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gp(),{heartbeatsToSend:l,unsentEntries:r}=fE(this._heartbeatsCache.heartbeats),o=Ur(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return wn.warn(n),""}}}function gp(){return new Date().toISOString().substring(0,10)}function fE(s,n=uE){const l=[];let r=s.slice();for(const o of s){const f=l.find(h=>h.agent===o.agent);if(f){if(f.dates.push(o.date),yp(l)>n){f.dates.pop();break}}else if(l.push({agent:o.agent,dates:[o.date]}),yp(l)>n){l.pop();break}r=r.slice(1)}return{heartbeatsToSend:l,unsentEntries:r}}class hE{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z1()?K1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await rE(this.app);return l?.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return pp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return pp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function yp(s){return Ur(JSON.stringify({version:2,heartbeats:s})).length}function dE(s){if(s.length===0)return-1;let n=0,l=s[0].date;for(let r=1;r<s.length;r++)s[r].date<l&&(l=s[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(s){Hr(new Ks("platform-logger",n=>new bS(n),"PRIVATE")),Hr(new Ks("heartbeat",n=>new cE(n),"PRIVATE")),Ol(Pc,mp,s),Ol(Pc,mp,"esm2020"),Ol("fire-js","")}mE("");var _E="firebase",pE="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ol(_E,pE,"app");var vp={};const Sp="@firebase/database",Ep="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gg="";function gE(s){gg=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),et(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:Zs(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return zn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const n=window[s];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new yE(n)}}catch{}return new vE},Ui=yg("localStorage"),SE=yg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=new fg("@firebase/database"),EE=(function(){let s=1;return function(){return s++}})(),vg=function(s){const n=nS(s),l=new tS;l.update(n);const r=l.digest();return _f.encodeByteArray(r)},ra=function(...s){let n="";for(let l=0;l<s.length;l++){const r=s[l];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=ra.apply(null,r):typeof r=="object"?n+=et(r):n+=r,n+=" "}return n};let Ys=null,bp=!0;const bE=function(s,n){G(!0,"Can't turn on custom loggers persistently."),wl.logLevel=xe.VERBOSE,Ys=wl.log.bind(wl)},_t=function(...s){if(bp===!0&&(bp=!1,Ys===null&&SE.get("logging_enabled")===!0&&bE()),Ys){const n=ra.apply(null,s);Ys(n)}},ua=function(s){return function(...n){_t(s,...n)}},ef=function(...s){const n="FIREBASE INTERNAL ERROR: "+ra(...s);wl.error(n)},xn=function(...s){const n=`FIREBASE FATAL ERROR: ${ra(...s)}`;throw wl.error(n),new Error(n)},Rt=function(...s){const n="FIREBASE WARNING: "+ra(...s);wl.warn(n)},CE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Sg=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},TE=function(s){if(document.readyState==="complete")s();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},Ul="[MIN_NAME]",Ii="[MAX_NAME]",Hl=function(s,n){if(s===n)return 0;if(s===Ul||n===Ii)return-1;if(n===Ul||s===Ii)return 1;{const l=Cp(s),r=Cp(n);return l!==null?r!==null?l-r===0?s.length-n.length:l-r:-1:r!==null?1:s<n?-1:1}},NE=function(s,n){return s===n?0:s<n?-1:1},Bs=function(s,n){if(n&&s in n)return n[s];throw new Error("Missing required key ("+s+") in object: "+et(n))},vf=function(s){if(typeof s!="object"||s===null)return et(s);const n=[];for(const r in s)n.push(r);n.sort();let l="{";for(let r=0;r<n.length;r++)r!==0&&(l+=","),l+=et(n[r]),l+=":",l+=vf(s[n[r]]);return l+="}",l},Eg=function(s,n){const l=s.length;if(l<=n)return[s];const r=[];for(let o=0;o<l;o+=n)o+n>l?r.push(s.substring(o,l)):r.push(s.substring(o,o+n));return r};function Mt(s,n){for(const l in s)s.hasOwnProperty(l)&&n(l,s[l])}const bg=function(s){G(!Sg(s),"Invalid JSON number");const n=11,l=52,r=(1<<n-1)-1;let o,f,h,p,m;s===0?(f=0,h=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(p=Math.min(Math.floor(Math.log(s)/Math.LN2),r),f=p+r,h=Math.round(s*Math.pow(2,l-p)-Math.pow(2,l))):(f=0,h=Math.round(s/Math.pow(2,1-r-l))));const _=[];for(m=l;m;m-=1)_.push(h%2?1:0),h=Math.floor(h/2);for(m=n;m;m-=1)_.push(f%2?1:0),f=Math.floor(f/2);_.push(o?1:0),_.reverse();const y=_.join("");let v="";for(m=0;m<64;m+=8){let S=parseInt(y.substr(m,8),2).toString(16);S.length===1&&(S="0"+S),v=v+S}return v.toLowerCase()},AE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},RE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function ME(s,n){let l="Unknown Error";s==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?l="Client doesn't have permission to access the desired data.":s==="unavailable"&&(l="The service is unavailable");const r=new Error(s+" at "+n._path.toString()+": "+l);return r.code=s.toUpperCase(),r}const DE=new RegExp("^-?(0*)\\d{1,10}$"),OE=-2147483648,wE=2147483647,Cp=function(s){if(DE.test(s)){const n=Number(s);if(n>=OE&&n<=wE)return n}return null},jl=function(s){try{s()}catch(n){setTimeout(()=>{const l=n.stack||"";throw Rt("Exception was thrown by user callback.",l),n},Math.floor(0))}},xE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ks=function(s,n){const l=setTimeout(s,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,eE(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l?.getImmediate({optional:!0}),this.appCheck||l?.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){Rt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(n,l,r){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(_t("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rt(n)}}class zr{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}zr.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="5",Cg="v",Tg="s",Ng="r",Ag="f",Rg=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Mg="ls",Dg="p",tf="ac",Og="websocket",wg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(n,l,r,o,f=!1,h="",p=!1,m=!1,_=null){this.secure=l,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this.emulatorOptions=_,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ui.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Ui.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function LE(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function zg(s,n,l){G(typeof n=="string","typeof type must == string"),G(typeof l=="object","typeof params must == object");let r;if(n===Og)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(n===wg)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);LE(s)&&(l.ns=s.namespace);const o=[];return Mt(l,(f,h)=>{o.push(f+"="+h)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(){this.counters_={}}incrementCounter(n,l=1){zn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return w1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc={},Yc={};function Ef(s){const n=s.toString();return Gc[n]||(Gc[n]=new IE),Gc[n]}function BE(s,n){const l=s.toString();return Yc[l]||(Yc[l]=n()),Yc[l]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&jl(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="start",jE="close",qE="pLPCommand",GE="pRTLPCB",Ug="id",Lg="pw",Ig="ser",YE="cb",kE="seg",VE="ts",QE="d",XE="dframe",Bg=1870,Hg=30,ZE=Bg-Hg,KE=25e3,FE=3e4;class Ml{constructor(n,l,r,o,f,h,p){this.connId=n,this.repoInfo=l,this.applicationId=r,this.appCheckToken=o,this.authToken=f,this.transportSessionId=h,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ua(n),this.stats_=Ef(l),this.urlFn=m=>(this.appCheckToken&&(m[tf]=this.appCheckToken),zg(l,wg,m))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new HE(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(FE)),TE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new bf((...f)=>{const[h,p,m,_,y]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===Tp)this.id=p,this.password=m;else if(h===jE)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,p]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,p)},()=>{this.onClosed_()},this.urlFn);const r={};r[Tp]="t",r[Ig]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[YE]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Cg]=Sf,this.transportSessionId&&(r[Tg]=this.transportSessionId),this.lastSessionId&&(r[Mg]=this.lastSessionId),this.applicationId&&(r[Dg]=this.applicationId),this.appCheckToken&&(r[tf]=this.appCheckToken),typeof location<"u"&&location.hostname&&Rg.test(location.hostname)&&(r[Ng]=Ag);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ml.forceAllow_=!0}static forceDisallow(){Ml.forceDisallow_=!0}static isAvailable(){return Ml.forceAllow_?!0:!Ml.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!AE()&&!RE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=et(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=lg(l),o=Eg(r,ZE);for(let f=0;f<o.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[f]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const r={};r[XE]="t",r[Ug]=n,r[Lg]=l,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=et(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class bf{constructor(n,l,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=EE(),window[qE+this.uniqueCallbackIdentifier]=n,window[GE+this.uniqueCallbackIdentifier]=l,this.myIFrame=bf.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(p){_t("frame writing exception"),p.stack&&_t(p.stack),_t(p)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||_t("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[Ug]=this.myID,n[Lg]=this.myPW,n[Ig]=this.currentSerial;let l=this.urlFn(n),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Hg+r.length<=Bg;){const h=this.pendingSegs.shift();r=r+"&"+kE+o+"="+h.seg+"&"+VE+o+"="+h.ts+"&"+QE+o+"="+h.d,o++}return l=l+r,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,r){this.pendingSegs.push({seg:n,ts:l,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const r=()=>{this.outstandingRequests.delete(l),this.newRequest_()},o=setTimeout(r,Math.floor(KE)),f=()=>{clearTimeout(o),r()};this.addTag(n,f)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),l())},r.onerror=()=>{_t("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=16384,PE=45e3;let jr=null;typeof MozWebSocket<"u"?jr=MozWebSocket:typeof WebSocket<"u"&&(jr=WebSocket);class tn{constructor(n,l,r,o,f,h,p){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ua(this.connId),this.stats_=Ef(l),this.connURL=tn.connectionURL_(l,h,p,o,r),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,r,o,f){const h={};return h[Cg]=Sf,typeof location<"u"&&location.hostname&&Rg.test(location.hostname)&&(h[Ng]=Ag),l&&(h[Tg]=l),r&&(h[Mg]=r),o&&(h[tf]=o),f&&(h[Dg]=f),zg(n,Og,h)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ui.set("previous_websocket_failure",!0);try{let r;X1(),this.mySock=new jr(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){tn.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(l);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&jr!==null&&!tn.forceDisallow_}static previouslyFailed(){return Ui.isInMemoryStorage||Ui.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ui.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const r=Zs(l);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(G(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const r=this.extractFrameCount_(l);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const l=et(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=Eg(l,JE);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(PE))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tn.responsesRequiredToBeHealthy=2;tn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{static get ALL_TRANSPORTS(){return[Ml,tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=tn&&tn.isAvailable();let r=l&&!tn.previouslyFailed();if(n.webSocketOnly&&(l||Rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[tn];else{const o=this.transports_=[];for(const f of Js.ALL_TRANSPORTS)f&&f.isAvailable()&&o.push(f);Js.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Js.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=6e4,$E=5e3,eb=10*1024,tb=100*1024,kc="t",Np="d",nb="s",Ap="r",ib="e",Rp="o",Mp="a",Dp="n",Op="p",lb="h";class sb{constructor(n,l,r,o,f,h,p,m,_,y){this.id=n,this.repoInfo_=l,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=f,this.onMessage_=h,this.onReady_=p,this.onDisconnect_=m,this.onKill_=_,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ua("c:"+this.id+":"),this.transportManager_=new Js(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,r)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=ks(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>tb?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>eb?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(kc in n){const l=n[kc];l===Mp?this.upgradeIfSecondaryHealthy_():l===Ap?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===Rp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=Bs("t",n),r=Bs("d",n);if(l==="c")this.onSecondaryControl_(r);else if(l==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Op,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Mp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Dp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=Bs("t",n),r=Bs("d",n);l==="c"?this.onControl_(r):l==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=Bs(kc,n);if(Np in n){const r=n[Np];if(l===lb){const o={...r};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(l===Dp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===nb?this.onConnectionShutdown_(r):l===Ap?this.onReset_(r):l===ib?ef("Server Error: "+r):l===Rp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ef("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,r=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),Sf!==r&&Rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,r),ks(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(WE))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ks(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor($E))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Op,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ui.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{put(n,l,r,o){}merge(n,l,r,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,r){}onDisconnectMerge(n,l,r){}onDisconnectCancel(n,l){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(n){this.allowedEvents_=n,this.listeners_={},G(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,l)}}on(n,l,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:r});const o=this.getInitialEvent(n);o&&l.apply(r,o)}off(n,l,r){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let f=0;f<o.length;f++)if(o[f].callback===l&&(!r||r===o[f].context)){o.splice(f,1);return}}validateEventType_(n){G(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends qg{static getInstance(){return new qr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ug()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return G(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=32,xp=768;class we{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function Ee(){return new we("")}function ae(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function ci(s){return s.pieces_.length-s.pieceNum_}function ze(s){let n=s.pieceNum_;return n<s.pieces_.length&&n++,new we(s.pieces_,n)}function Gg(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function ab(s){let n="";for(let l=s.pieceNum_;l<s.pieces_.length;l++)s.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(s.pieces_[l])));return n||"/"}function Yg(s,n=0){return s.pieces_.slice(s.pieceNum_+n)}function kg(s){if(s.pieceNum_>=s.pieces_.length)return null;const n=[];for(let l=s.pieceNum_;l<s.pieces_.length-1;l++)n.push(s.pieces_[l]);return new we(n,0)}function tt(s,n){const l=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)l.push(s.pieces_[r]);if(n instanceof we)for(let r=n.pieceNum_;r<n.pieces_.length;r++)l.push(n.pieces_[r]);else{const r=n.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&l.push(r[o])}return new we(l,0)}function he(s){return s.pieceNum_>=s.pieces_.length}function yt(s,n){const l=ae(s),r=ae(n);if(l===null)return n;if(l===r)return yt(ze(s),ze(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+s+")")}function Cf(s,n){if(ci(s)!==ci(n))return!1;for(let l=s.pieceNum_,r=n.pieceNum_;l<=s.pieces_.length;l++,r++)if(s.pieces_[l]!==n.pieces_[r])return!1;return!0}function nn(s,n){let l=s.pieceNum_,r=n.pieceNum_;if(ci(s)>ci(n))return!1;for(;l<s.pieces_.length;){if(s.pieces_[l]!==n.pieces_[r])return!1;++l,++r}return!0}class rb{constructor(n,l){this.errorPrefix_=l,this.parts_=Yg(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=eu(this.parts_[r]);Vg(this)}}function ub(s,n){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(n),s.byteLength_+=eu(n),Vg(s)}function ob(s){const n=s.parts_.pop();s.byteLength_-=eu(n),s.parts_.length>0&&(s.byteLength_-=1)}function Vg(s){if(s.byteLength_>xp)throw new Error(s.errorPrefix_+"has a key path longer than "+xp+" bytes ("+s.byteLength_+").");if(s.parts_.length>wp)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+wp+") or object contains a cycle "+zi(s))}function zi(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf extends qg{static getInstance(){return new Tf}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return G(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=1e3,cb=300*1e3,zp=30*1e3,fb=1.3,hb=3e4,db="server_kill",Up=3;class On extends jg{constructor(n,l,r,o,f,h,p,m){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=On.nextPersistentConnectionId_++,this.log_=ua("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hs,this.maxReconnectDelay_=cb,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Tf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&qr.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,r){const o=++this.requestNumber_,f={r:o,a:n,b:l};this.log_(et(f)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();const l=new $r,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const p=h.d;h.s==="ok"?l.resolve(p):l.reject(p)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),l.promise}listen(n,l,r,o){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),G(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const p={onComplete:o,hashFn:l,query:n,tag:r};this.listens.get(h).set(f,p),this.connected_&&this.sendListen_(p)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(r)})}sendListen_(n){const l=n.query,r=l._path.toString(),o=l._queryIdentifier;this.log_("Listen on "+r+" for "+o);const f={p:r},h="q";n.tag&&(f.q=l._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,p=>{const m=p.d,_=p.s;On.warnOnListenWarnings_(m,l),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",p),_!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(_,m))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&zn(n,"w")){const r=zl(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+l._queryParams.getIndex().toString()+'"',f=l._path.toString();Rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||$1(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zp)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=W1(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(l,r,o=>{const f=o.s,h=o.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,r=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,r)})}unlisten(n,l){const r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),G(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,l)}sendUnlisten_(n,l,r,o){this.log_("Unlisten on "+n+" for "+l);const f={p:n},h="n";o&&(f.q=r,f.t=o),this.sendRequest(h,f)}onDisconnectPut(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:r})}onDisconnectMerge(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:r})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,r,o){const f={p:l,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(n,l,r,o){this.putInternal("p",n,l,r,o)}merge(n,l,r,o){this.putInternal("m",n,l,r,o)}putInternal(n,l,r,o,f){this.initConnection_();const h={p:l,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:o}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,r,f=>{this.log_(l+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(f.s,f.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+et(n));const l=n.r,r=this.requestCBHash_[l];r&&(delete this.requestCBHash_[l],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):ef("Unrecognized action received from server: "+et(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>hb&&(this.reconnectDelay_=Hs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*fb)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+On.nextConnectionId_++,f=this.lastSessionId;let h=!1,p=null;const m=function(){p?p.close():(h=!0,r())},_=function(v){G(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(v)};this.realtime_={close:m,sendRequest:_};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,S]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);h?_t("getToken() completed but was canceled"):(_t("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=S&&S.token,p=new sb(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,r,O=>{Rt(O+" ("+this.repoInfo_.toString()+")"),this.interrupt(db)},f))}catch(v){this.log_("Failed to get token: "+v),h||(this.repoInfo_.nodeAdmin&&Rt(v),m())}}}interrupt(n){_t("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){_t("Resuming connection for reason: "+n),delete this.interruptReasons_[n],op(this.interruptReasons_)&&(this.reconnectDelay_=Hs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let r;l?r=l.map(f=>vf(f)).join("$"):r="default";const o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,l){const r=new we(n).toString();let o;if(this.listens.has(r)){const f=this.listens.get(r);o=f.get(l),f.delete(l),f.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,l){_t("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Up&&(this.reconnectDelay_=zp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){_t("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Up&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+gg.replace(/\./g,"-")]=1,ug()?n["framework.cordova"]=1:Q1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=qr.getInstance().currentlyOnline();return op(this.interruptReasons_)&&n}}On.nextPersistentConnectionId_=0;On.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new re(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const r=new re(Ul,n),o=new re(Ul,l);return this.compare(r,o)!==0}minPost(){return re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wr;class Qg extends tu{static get __EMPTY_NODE(){return wr}static set __EMPTY_NODE(n){wr=n}compare(n,l){return Hl(n.name,l.name)}isDefinedOn(n){throw Bl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return re.MIN}maxPost(){return new re(Ii,wr)}makePost(n,l){return G(typeof n=="string","KeyIndex indexValue must always be a string."),new re(n,wr)}toString(){return".key"}}const xl=new Qg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(n,l,r,o,f=null){this.isReverse_=o,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=l?r(n.key,l):1,o&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class at{constructor(n,l,r,o,f){this.key=n,this.value=l,this.color=r??at.RED,this.left=o??At.EMPTY_NODE,this.right=f??At.EMPTY_NODE}copy(n,l,r,o,f){return new at(n??this.key,l??this.value,r??this.color,o??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,r){let o=this;const f=r(n,o.key);return f<0?o=o.copy(null,null,null,o.left.insert(n,l,r),null):f===0?o=o.copy(null,l,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,l,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return At.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let r,o;if(r=this,l(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,l),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),l(n,r.key)===0){if(r.right.isEmpty())return At.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,l))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}at.RED=!0;at.BLACK=!1;class mb{copy(n,l,r,o,f){return this}insert(n,l,r){return new at(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class At{constructor(n,l=At.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new At(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,at.BLACK,null,null))}remove(n){return new At(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,at.BLACK,null,null))}get(n){let l,r=this.root_;for(;!r.isEmpty();){if(l=this.comparator_(n,r.key),l===0)return r.value;l<0?r=r.left:l>0&&(r=r.right)}return null}getPredecessorKey(n){let l,r=this.root_,o=null;for(;!r.isEmpty();)if(l=this.comparator_(n,r.key),l===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else l<0?r=r.left:l>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new xr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new xr(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new xr(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new xr(this.root_,null,this.comparator_,!0,n)}}At.EMPTY_NODE=new mb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(s,n){return Hl(s.name,n.name)}function Nf(s,n){return Hl(s,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf;function pb(s){nf=s}const Xg=function(s){return typeof s=="number"?"number:"+bg(s):"string:"+s},Zg=function(s){if(s.isLeafNode()){const n=s.val();G(typeof n=="string"||typeof n=="number"||typeof n=="object"&&zn(n,".sv"),"Priority must be a string or number.")}else G(s===nf||s.isEmpty(),"priority of unexpected type.");G(s===nf||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lp;class st{static set __childrenNodeConstructor(n){Lp=n}static get __childrenNodeConstructor(){return Lp}constructor(n,l=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Zg(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new st(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return he(n)?this:ae(n)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const r=ae(n);return r===null?l:l.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||ci(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(ze(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Xg(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=bg(this.value_):n+=this.value_,this.lazyHash_=vg(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===st.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof st.__childrenNodeConstructor?-1:(G(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,r=typeof this.value_,o=st.VALUE_TYPE_ORDER.indexOf(l),f=st.VALUE_TYPE_ORDER.indexOf(r);return G(o>=0,"Unknown leaf type: "+l),G(f>=0,"Unknown leaf type: "+r),o===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kg,Fg;function gb(s){Kg=s}function yb(s){Fg=s}class vb extends tu{compare(n,l){const r=n.node.getPriority(),o=l.node.getPriority(),f=r.compareTo(o);return f===0?Hl(n.name,l.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return re.MIN}maxPost(){return new re(Ii,new st("[PRIORITY-POST]",Fg))}makePost(n,l){const r=Kg(n);return new re(l,new st("[PRIORITY-POST]",r))}toString(){return".priority"}}const Ve=new vb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=Math.log(2);class Eb{constructor(n){const l=f=>parseInt(Math.log(f)/Sb,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const o=r(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Gr=function(s,n,l,r){s.sort(n);const o=function(m,_){const y=_-m;let v,S;if(y===0)return null;if(y===1)return v=s[m],S=l?l(v):v,new at(S,v.node,at.BLACK,null,null);{const O=parseInt(y/2,10)+m,A=o(m,O),B=o(O+1,_);return v=s[O],S=l?l(v):v,new at(S,v.node,at.BLACK,A,B)}},f=function(m){let _=null,y=null,v=s.length;const S=function(A,B){const H=v-A,Z=v;v-=A;const $=o(H+1,Z),q=s[H],J=l?l(q):q;O(new at(J,q.node,B,null,$))},O=function(A){_?(_.left=A,_=A):(y=A,_=A)};for(let A=0;A<m.count;++A){const B=m.nextBitIsOne(),H=Math.pow(2,m.count-(A+1));B?S(H,at.BLACK):(S(H,at.BLACK),S(H,at.RED))}return y},h=new Eb(s.length),p=f(h);return new At(r||n,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc;const Al={};class Dn{static get Default(){return G(Al&&Ve,"ChildrenNode.ts has not been loaded"),Vc=Vc||new Dn({".priority":Al},{".priority":Ve}),Vc}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=zl(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof At?l:null}hasIndex(n){return zn(this.indexSet_,n.toString())}addIndex(n,l){G(n!==xl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const f=l.getIterator(re.Wrap);let h=f.getNext();for(;h;)o=o||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let p;o?p=Gr(r,n.getCompare()):p=Al;const m=n.toString(),_={...this.indexSet_};_[m]=n;const y={...this.indexes_};return y[m]=p,new Dn(y,_)}addToIndexes(n,l){const r=Lr(this.indexes_,(o,f)=>{const h=zl(this.indexSet_,f);if(G(h,"Missing index implementation for "+f),o===Al)if(h.isDefinedOn(n.node)){const p=[],m=l.getIterator(re.Wrap);let _=m.getNext();for(;_;)_.name!==n.name&&p.push(_),_=m.getNext();return p.push(n),Gr(p,h.getCompare())}else return Al;else{const p=l.get(n.name);let m=o;return p&&(m=m.remove(new re(n.name,p))),m.insert(n,n.node)}});return new Dn(r,this.indexSet_)}removeFromIndexes(n,l){const r=Lr(this.indexes_,o=>{if(o===Al)return o;{const f=l.get(n.name);return f?o.remove(new re(n.name,f)):o}});return new Dn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let js;class ee{static get EMPTY_NODE(){return js||(js=new ee(new At(Nf),null,Dn.Default))}constructor(n,l,r){this.children_=n,this.priorityNode_=l,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Zg(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||js}updatePriority(n){return this.children_.isEmpty()?this:new ee(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?js:l}}getChild(n){const l=ae(n);return l===null?this:this.getImmediateChild(l).getChild(ze(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(G(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const r=new re(n,l);let o,f;l.isEmpty()?(o=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,l),f=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?js:this.priorityNode_;return new ee(o,h,f)}}updateChild(n,l){const r=ae(n);if(r===null)return l;{G(ae(n)!==".priority"||ci(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(ze(n),l);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let r=0,o=0,f=!0;if(this.forEachChild(Ve,(h,p)=>{l[h]=p.val(n),r++,f&&ee.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):f=!1}),!n&&f&&o<2*r){const h=[];for(const p in l)h[p]=l[p];return h}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Xg(this.getPriority().val())+":"),this.forEachChild(Ve,(l,r)=>{const o=r.hash();o!==""&&(n+=":"+l+":"+o)}),this.lazyHash_=n===""?"":vg(n)}return this.lazyHash_}getPredecessorChildName(n,l,r){const o=this.resolveIndex_(r);if(o){const f=o.getPredecessorKey(new re(n,l));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new re(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new re(l,this.children_.get(l)):null}forEachChild(n,l){const r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>l(o.name,o.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,re.Wrap);let f=o.peek();for(;f!=null&&l.compare(f,n)<0;)o.getNext(),f=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,re.Wrap);let f=o.peek();for(;f!=null&&l.compare(f,n)>0;)o.getNext(),f=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===oa?-1:0}withIndex(n){if(n===xl||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new ee(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===xl||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const r=this.getIterator(Ve),o=l.getIterator(Ve);let f=r.getNext(),h=o.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=o.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===xl?null:this.indexMap_.get(n.toString())}}ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class bb extends ee{constructor(){super(new At(Nf),ee.EMPTY_NODE,Dn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return ee.EMPTY_NODE}isEmpty(){return!1}}const oa=new bb;Object.defineProperties(re,{MIN:{value:new re(Ul,ee.EMPTY_NODE)},MAX:{value:new re(Ii,oa)}});Qg.__EMPTY_NODE=ee.EMPTY_NODE;st.__childrenNodeConstructor=ee;pb(oa);yb(oa);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=!0;function rt(s,n=null){if(s===null)return ee.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(n=s[".priority"]),G(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const l=s;return new st(l,rt(n))}if(!(s instanceof Array)&&Cb){const l=[];let r=!1;if(Mt(s,(h,p)=>{if(h.substring(0,1)!=="."){const m=rt(p);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),l.push(new re(h,m)))}}),l.length===0)return ee.EMPTY_NODE;const f=Gr(l,_b,h=>h.name,Nf);if(r){const h=Gr(l,Ve.getCompare());return new ee(f,rt(n),new Dn({".priority":h},{".priority":Ve}))}else return new ee(f,rt(n),Dn.Default)}else{let l=ee.EMPTY_NODE;return Mt(s,(r,o)=>{if(zn(s,r)&&r.substring(0,1)!=="."){const f=rt(o);(f.isLeafNode()||!f.isEmpty())&&(l=l.updateImmediateChild(r,f))}}),l.updatePriority(rt(n))}}gb(rt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb extends tu{constructor(n){super(),this.indexPath_=n,G(!he(n)&&ae(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const r=this.extractChild(n.node),o=this.extractChild(l.node),f=r.compareTo(o);return f===0?Hl(n.name,l.name):f}makePost(n,l){const r=rt(n),o=ee.EMPTY_NODE.updateChild(this.indexPath_,r);return new re(l,o)}maxPost(){const n=ee.EMPTY_NODE.updateChild(this.indexPath_,oa);return new re(Ii,n)}toString(){return Yg(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb extends tu{compare(n,l){const r=n.node.compareTo(l.node);return r===0?Hl(n.name,l.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return re.MIN}maxPost(){return re.MAX}makePost(n,l){const r=rt(n);return new re(l,r)}toString(){return".value"}}const Ab=new Nb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(s){return{type:"value",snapshotNode:s}}function Ll(s,n){return{type:"child_added",snapshotNode:n,childName:s}}function Ps(s,n){return{type:"child_removed",snapshotNode:n,childName:s}}function Ws(s,n,l){return{type:"child_changed",snapshotNode:n,childName:s,oldSnap:l}}function Rb(s,n){return{type:"child_moved",snapshotNode:n,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(n){this.index_=n}updateChild(n,l,r,o,f,h){G(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=n.getImmediateChild(l);return p.getChild(o).equals(r.getChild(o))&&p.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(l)?h.trackChildChange(Ps(l,p)):G(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?h.trackChildChange(Ll(l,r)):h.trackChildChange(Ws(l,r,p))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(l,r).withIndex(this.index_)}updateFullNode(n,l,r){return r!=null&&(n.isLeafNode()||n.forEachChild(Ve,(o,f)=>{l.hasChild(o)||r.trackChildChange(Ps(o,f))}),l.isLeafNode()||l.forEachChild(Ve,(o,f)=>{if(n.hasChild(o)){const h=n.getImmediateChild(o);h.equals(f)||r.trackChildChange(Ws(o,f,h))}else r.trackChildChange(Ll(o,f))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?ee.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(n){this.indexedFilter_=new Af(n.getIndex()),this.index_=n.getIndex(),this.startPost_=$s.getStartPost_(n),this.endPost_=$s.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&r}updateChild(n,l,r,o,f,h){return this.matches(new re(l,r))||(r=ee.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,r,o,f,h)}updateFullNode(n,l,r){l.isLeafNode()&&(l=ee.EMPTY_NODE);let o=l.withIndex(this.index_);o=o.updatePriority(ee.EMPTY_NODE);const f=this;return l.forEachChild(Ve,(h,p)=>{f.matches(new re(h,p))||(o=o.updateImmediateChild(h,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=l=>{const r=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new $s(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,r,o,f,h){return this.rangedFilter_.matches(new re(l,r))||(r=ee.EMPTY_NODE),n.getImmediateChild(l).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,r,o,f,h):this.fullLimitUpdateChild_(n,l,r,f,h)}updateFullNode(n,l,r){let o;if(l.isLeafNode()||l.isEmpty())o=ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){o=ee.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const p=f.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))o=o.updateImmediateChild(p.name,p.node),h++;else break;else continue}}else{o=l.withIndex(this.index_),o=o.updatePriority(ee.EMPTY_NODE);let f;this.reverse_?f=o.getReverseIterator(this.index_):f=o.getIterator(this.index_);let h=0;for(;f.hasNext();){const p=f.getNext();h<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?h++:o=o.updateImmediateChild(p.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,r,o,f){let h;if(this.reverse_){const v=this.index_.getCompare();h=(S,O)=>v(O,S)}else h=this.index_.getCompare();const p=n;G(p.numChildren()===this.limit_,"");const m=new re(l,r),_=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),y=this.rangedFilter_.matches(m);if(p.hasChild(l)){const v=p.getImmediateChild(l);let S=o.getChildAfterChild(this.index_,_,this.reverse_);for(;S!=null&&(S.name===l||p.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const O=S==null?1:h(S,m);if(y&&!r.isEmpty()&&O>=0)return f?.trackChildChange(Ws(l,r,v)),p.updateImmediateChild(l,r);{f?.trackChildChange(Ps(l,v));const B=p.updateImmediateChild(l,ee.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(f?.trackChildChange(Ll(S.name,S.node)),B.updateImmediateChild(S.name,S.node)):B}}else return r.isEmpty()?n:y&&h(_,m)>=0?(f!=null&&(f.trackChildChange(Ps(_.name,_.node)),f.trackChildChange(Ll(l,r))),p.updateImmediateChild(l,r).updateImmediateChild(_.name,ee.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ul}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ii}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const n=new Rf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function Db(s){return s.loadsAllData()?new Af(s.getIndex()):s.hasLimit()?new Mb(s):new $s(s)}function Ip(s){const n={};if(s.isDefault())return n;let l;if(s.index_===Ve?l="$priority":s.index_===Ab?l="$value":s.index_===xl?l="$key":(G(s.index_ instanceof Tb,"Unrecognized index type!"),l=s.index_.toString()),n.orderBy=et(l),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";n[r]=et(s.indexStartValue_),s.startNameSet_&&(n[r]+=","+et(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";n[r]=et(s.indexEndValue_),s.endNameSet_&&(n[r]+=","+et(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?n.limitToFirst=s.limit_:n.limitToLast=s.limit_),n}function Bp(s){const n={};if(s.startSet_&&(n.sp=s.indexStartValue_,s.startNameSet_&&(n.sn=s.indexStartName_),n.sin=!s.startAfterSet_),s.endSet_&&(n.ep=s.indexEndValue_,s.endNameSet_&&(n.en=s.indexEndName_),n.ein=!s.endBeforeSet_),s.limitSet_){n.l=s.limit_;let l=s.viewFrom_;l===""&&(s.isViewFromLeft()?l="l":l="r"),n.vf=l}return s.index_!==Ve&&(n.i=s.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends jg{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(G(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,r,o){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=ua("p:rest:"),this.listens_={}}listen(n,l,r,o){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=Yr.getListenId_(n,r),p={};this.listens_[h]=p;const m=Ip(n._queryParams);this.restRequest_(f+".json",m,(_,y)=>{let v=y;if(_===404&&(v=null,_=null),_===null&&this.onDataUpdate_(f,v,!1,r),zl(this.listens_,h)===p){let S;_?_===401?S="permission_denied":S="rest_error:"+_:S="ok",o(S,null)}})}unlisten(n,l){const r=Yr.getListenId_(n,l);delete this.listens_[r]}get(n){const l=Ip(n._queryParams),r=n._path.toString(),o=new $r;return this.restRequest_(r+".json",l,(f,h)=>{let p=h;f===404&&(p=null,f=null),f===null?(this.onDataUpdate_(r,p,!1,null),o.resolve(p)):o.reject(new Error(p))}),o.promise}refreshAuthToken(n){}restRequest_(n,l={},r){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,f])=>{o&&o.accessToken&&(l.auth=o.accessToken),f&&f.token&&(l.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+eS(l);this.log_("Sending REST request for "+h);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(r&&p.readyState===4){this.log_("REST Response for "+h+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=Zs(p.responseText)}catch{Rt("Failed to parse JSON response for "+h+": "+p.responseText)}r(null,m)}else p.status!==401&&p.status!==404&&Rt("Got unsuccessful REST response for "+h+" Status: "+p.status),r(p.status);r=null}},p.open("GET",h,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return{value:null,children:new Map}}function Pg(s,n,l){if(he(n))s.value=l,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(n,l);else{const r=ae(n);s.children.has(r)||s.children.set(r,kr());const o=s.children.get(r);n=ze(n),Pg(o,n,l)}}function lf(s,n,l){s.value!==null?l(n,s.value):wb(s,(r,o)=>{const f=new we(n.toString()+"/"+r);lf(o,f,l)})}function wb(s,n){s.children.forEach((l,r)=>{n(r,l)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&Mt(this.last_,(r,o)=>{l[r]=l[r]-o}),this.last_=n,l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=10*1e3,zb=30*1e3,Ub=300*1e3;class Lb{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new xb(n);const r=Hp+(zb-Hp)*Math.random();ks(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),l={};let r=!1;Mt(n,(o,f)=>{f>0&&zn(this.statsToReport_,o)&&(l[o]=f,r=!0)}),r&&this.server_.reportStats(l),ks(this.reportStats_.bind(this),Math.floor(Math.random()*2*Ub))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ln;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ln||(ln={}));function Wg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Mf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Df(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(n,l,r){this.path=n,this.affectedTree=l,this.revert=r,this.type=ln.ACK_USER_WRITE,this.source=Wg()}operationForChild(n){if(he(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new we(n));return new Vr(Ee(),l,this.revert)}}else return G(ae(this.path)===n,"operationForChild called for unrelated child."),new Vr(ze(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(n,l){this.source=n,this.path=l,this.type=ln.LISTEN_COMPLETE}operationForChild(n){return he(this.path)?new ea(this.source,Ee()):new ea(this.source,ze(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(n,l,r){this.source=n,this.path=l,this.snap=r,this.type=ln.OVERWRITE}operationForChild(n){return he(this.path)?new Bi(this.source,Ee(),this.snap.getImmediateChild(n)):new Bi(this.source,ze(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(n,l,r){this.source=n,this.path=l,this.children=r,this.type=ln.MERGE}operationForChild(n){if(he(this.path)){const l=this.children.subtree(new we(n));return l.isEmpty()?null:l.value?new Bi(this.source,Ee(),l.value):new ta(this.source,Ee(),l)}else return G(ae(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new ta(this.source,ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(n,l,r){this.node_=n,this.fullyInitialized_=l,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(he(n))return this.isFullyInitialized()&&!this.filtered_;const l=ae(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function Bb(s,n,l,r){const o=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(Rb(h.childName,h.snapshotNode))}),qs(s,o,"child_removed",n,r,l),qs(s,o,"child_added",n,r,l),qs(s,o,"child_moved",f,r,l),qs(s,o,"child_changed",n,r,l),qs(s,o,"value",n,r,l),o}function qs(s,n,l,r,o,f){const h=r.filter(p=>p.type===l);h.sort((p,m)=>jb(s,p,m)),h.forEach(p=>{const m=Hb(s,p,f);o.forEach(_=>{_.respondsTo(p.type)&&n.push(_.createEvent(m,s.query_))})})}function Hb(s,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,s.index_)),n}function jb(s,n,l){if(n.childName==null||l.childName==null)throw Bl("Should only compare child_ events.");const r=new re(n.childName,n.snapshotNode),o=new re(l.childName,l.snapshotNode);return s.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(s,n){return{eventCache:s,serverCache:n}}function Vs(s,n,l,r){return nu(new fi(n,l,r),s.serverCache)}function $g(s,n,l,r){return nu(s.eventCache,new fi(n,l,r))}function Qr(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Hi(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc;const qb=()=>(Qc||(Qc=new At(NE)),Qc);class Ie{static fromObject(n){let l=new Ie(null);return Mt(n,(r,o)=>{l=l.set(new we(r),o)}),l}constructor(n,l=qb()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:Ee(),value:this.value};if(he(n))return null;{const r=ae(n),o=this.children.get(r);if(o!==null){const f=o.findRootMostMatchingPathAndValue(ze(n),l);return f!=null?{path:tt(new we(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(he(n))return this;{const l=ae(n),r=this.children.get(l);return r!==null?r.subtree(ze(n)):new Ie(null)}}set(n,l){if(he(n))return new Ie(l,this.children);{const r=ae(n),f=(this.children.get(r)||new Ie(null)).set(ze(n),l),h=this.children.insert(r,f);return new Ie(this.value,h)}}remove(n){if(he(n))return this.children.isEmpty()?new Ie(null):new Ie(null,this.children);{const l=ae(n),r=this.children.get(l);if(r){const o=r.remove(ze(n));let f;return o.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,o),this.value===null&&f.isEmpty()?new Ie(null):new Ie(this.value,f)}else return this}}get(n){if(he(n))return this.value;{const l=ae(n),r=this.children.get(l);return r?r.get(ze(n)):null}}setTree(n,l){if(he(n))return l;{const r=ae(n),f=(this.children.get(r)||new Ie(null)).setTree(ze(n),l);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new Ie(this.value,h)}}fold(n){return this.fold_(Ee(),n)}fold_(n,l){const r={};return this.children.inorderTraversal((o,f)=>{r[o]=f.fold_(tt(n,o),l)}),l(n,this.value,r)}findOnPath(n,l){return this.findOnPath_(n,Ee(),l)}findOnPath_(n,l,r){const o=this.value?r(l,this.value):!1;if(o)return o;if(he(n))return null;{const f=ae(n),h=this.children.get(f);return h?h.findOnPath_(ze(n),tt(l,f),r):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,Ee(),l)}foreachOnPath_(n,l,r){if(he(n))return this;{this.value&&r(l,this.value);const o=ae(n),f=this.children.get(o);return f?f.foreachOnPath_(ze(n),tt(l,o),r):new Ie(null)}}foreach(n){this.foreach_(Ee(),n)}foreach_(n,l){this.children.inorderTraversal((r,o)=>{o.foreach_(tt(n,r),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,r)=>{r.value&&n(l,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(n){this.writeTree_=n}static empty(){return new sn(new Ie(null))}}function Qs(s,n,l){if(he(n))return new sn(new Ie(l));{const r=s.writeTree_.findRootMostValueAndPath(n);if(r!=null){const o=r.path;let f=r.value;const h=yt(o,n);return f=f.updateChild(h,l),new sn(s.writeTree_.set(o,f))}else{const o=new Ie(l),f=s.writeTree_.setTree(n,o);return new sn(f)}}}function jp(s,n,l){let r=s;return Mt(l,(o,f)=>{r=Qs(r,tt(n,o),f)}),r}function qp(s,n){if(he(n))return sn.empty();{const l=s.writeTree_.setTree(n,new Ie(null));return new sn(l)}}function sf(s,n){return Gi(s,n)!=null}function Gi(s,n){const l=s.writeTree_.findRootMostValueAndPath(n);return l!=null?s.writeTree_.get(l.path).getChild(yt(l.path,n)):null}function Gp(s){const n=[],l=s.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(Ve,(r,o)=>{n.push(new re(r,o))}):s.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&n.push(new re(r,o.value))}),n}function ui(s,n){if(he(n))return s;{const l=Gi(s,n);return l!=null?new sn(new Ie(l)):new sn(s.writeTree_.subtree(n))}}function af(s){return s.writeTree_.isEmpty()}function Il(s,n){return ey(Ee(),s.writeTree_,n)}function ey(s,n,l){if(n.value!=null)return l.updateChild(s,n.value);{let r=null;return n.children.inorderTraversal((o,f)=>{o===".priority"?(G(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):l=ey(tt(s,o),f,l)}),!l.getChild(s).isEmpty()&&r!==null&&(l=l.updateChild(tt(s,".priority"),r)),l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(s,n){return ly(n,s)}function Gb(s,n,l,r,o){G(r>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:n,snap:l,writeId:r,visible:o}),o&&(s.visibleWrites=Qs(s.visibleWrites,n,l)),s.lastWriteId=r}function Yb(s,n){for(let l=0;l<s.allWrites.length;l++){const r=s.allWrites[l];if(r.writeId===n)return r}return null}function kb(s,n){const l=s.allWrites.findIndex(p=>p.writeId===n);G(l>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[l];s.allWrites.splice(l,1);let o=r.visible,f=!1,h=s.allWrites.length-1;for(;o&&h>=0;){const p=s.allWrites[h];p.visible&&(h>=l&&Vb(p,r.path)?o=!1:nn(r.path,p.path)&&(f=!0)),h--}if(o){if(f)return Qb(s),!0;if(r.snap)s.visibleWrites=qp(s.visibleWrites,r.path);else{const p=r.children;Mt(p,m=>{s.visibleWrites=qp(s.visibleWrites,tt(r.path,m))})}return!0}else return!1}function Vb(s,n){if(s.snap)return nn(s.path,n);for(const l in s.children)if(s.children.hasOwnProperty(l)&&nn(tt(s.path,l),n))return!0;return!1}function Qb(s){s.visibleWrites=ty(s.allWrites,Xb,Ee()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function Xb(s){return s.visible}function ty(s,n,l){let r=sn.empty();for(let o=0;o<s.length;++o){const f=s[o];if(n(f)){const h=f.path;let p;if(f.snap)nn(l,h)?(p=yt(l,h),r=Qs(r,p,f.snap)):nn(h,l)&&(p=yt(h,l),r=Qs(r,Ee(),f.snap.getChild(p)));else if(f.children){if(nn(l,h))p=yt(l,h),r=jp(r,p,f.children);else if(nn(h,l))if(p=yt(h,l),he(p))r=jp(r,Ee(),f.children);else{const m=zl(f.children,ae(p));if(m){const _=m.getChild(ze(p));r=Qs(r,Ee(),_)}}}else throw Bl("WriteRecord should have .snap or .children")}}return r}function ny(s,n,l,r,o){if(!r&&!o){const f=Gi(s.visibleWrites,n);if(f!=null)return f;{const h=ui(s.visibleWrites,n);if(af(h))return l;if(l==null&&!sf(h,Ee()))return null;{const p=l||ee.EMPTY_NODE;return Il(h,p)}}}else{const f=ui(s.visibleWrites,n);if(!o&&af(f))return l;if(!o&&l==null&&!sf(f,Ee()))return null;{const h=function(_){return(_.visible||o)&&(!r||!~r.indexOf(_.writeId))&&(nn(_.path,n)||nn(n,_.path))},p=ty(s.allWrites,h,n),m=l||ee.EMPTY_NODE;return Il(p,m)}}}function Zb(s,n,l){let r=ee.EMPTY_NODE;const o=Gi(s.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(Ve,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(l){const f=ui(s.visibleWrites,n);return l.forEachChild(Ve,(h,p)=>{const m=Il(ui(f,new we(h)),p);r=r.updateImmediateChild(h,m)}),Gp(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=ui(s.visibleWrites,n);return Gp(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function Kb(s,n,l,r,o){G(r||o,"Either existingEventSnap or existingServerSnap must exist");const f=tt(n,l);if(sf(s.visibleWrites,f))return null;{const h=ui(s.visibleWrites,f);return af(h)?o.getChild(l):Il(h,o.getChild(l))}}function Fb(s,n,l,r){const o=tt(n,l),f=Gi(s.visibleWrites,o);if(f!=null)return f;if(r.isCompleteForChild(l)){const h=ui(s.visibleWrites,o);return Il(h,r.getNode().getImmediateChild(l))}else return null}function Jb(s,n){return Gi(s.visibleWrites,n)}function Pb(s,n,l,r,o,f,h){let p;const m=ui(s.visibleWrites,n),_=Gi(m,Ee());if(_!=null)p=_;else if(l!=null)p=Il(m,l);else return[];if(p=p.withIndex(h),!p.isEmpty()&&!p.isLeafNode()){const y=[],v=h.getCompare(),S=f?p.getReverseIteratorFrom(r,h):p.getIteratorFrom(r,h);let O=S.getNext();for(;O&&y.length<o;)v(O,r)!==0&&y.push(O),O=S.getNext();return y}else return[]}function Wb(){return{visibleWrites:sn.empty(),allWrites:[],lastWriteId:-1}}function Xr(s,n,l,r){return ny(s.writeTree,s.treePath,n,l,r)}function Of(s,n){return Zb(s.writeTree,s.treePath,n)}function Yp(s,n,l,r){return Kb(s.writeTree,s.treePath,n,l,r)}function Zr(s,n){return Jb(s.writeTree,tt(s.treePath,n))}function $b(s,n,l,r,o,f){return Pb(s.writeTree,s.treePath,n,l,r,o,f)}function wf(s,n,l){return Fb(s.writeTree,s.treePath,n,l)}function iy(s,n){return ly(tt(s.treePath,n),s.writeTree)}function ly(s,n){return{treePath:s,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,r=n.childName;G(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const f=o.type;if(l==="child_added"&&f==="child_removed")this.changeMap.set(r,Ws(r,n.snapshotNode,o.snapshotNode));else if(l==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(l==="child_removed"&&f==="child_changed")this.changeMap.set(r,Ps(r,o.oldSnap));else if(l==="child_changed"&&f==="child_added")this.changeMap.set(r,Ll(r,n.snapshotNode));else if(l==="child_changed"&&f==="child_changed")this.changeMap.set(r,Ws(r,n.snapshotNode,o.oldSnap));else throw Bl("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{getCompleteChild(n){return null}getChildAfterChild(n,l,r){return null}}const sy=new tC;class xf{constructor(n,l,r=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=r}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new fi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wf(this.writes_,n,r)}}getChildAfterChild(n,l,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Hi(this.viewCache_),f=$b(this.writes_,o,l,1,r,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(s){return{filter:s}}function iC(s,n){G(n.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),G(n.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function lC(s,n,l,r,o){const f=new eC;let h,p;if(l.type===ln.OVERWRITE){const _=l;_.source.fromUser?h=rf(s,n,_.path,_.snap,r,o,f):(G(_.source.fromServer,"Unknown source."),p=_.source.tagged||n.serverCache.isFiltered()&&!he(_.path),h=Kr(s,n,_.path,_.snap,r,o,p,f))}else if(l.type===ln.MERGE){const _=l;_.source.fromUser?h=aC(s,n,_.path,_.children,r,o,f):(G(_.source.fromServer,"Unknown source."),p=_.source.tagged||n.serverCache.isFiltered(),h=uf(s,n,_.path,_.children,r,o,p,f))}else if(l.type===ln.ACK_USER_WRITE){const _=l;_.revert?h=oC(s,n,_.path,r,o,f):h=rC(s,n,_.path,_.affectedTree,r,o,f)}else if(l.type===ln.LISTEN_COMPLETE)h=uC(s,n,l.path,r,f);else throw Bl("Unknown operation type: "+l.type);const m=f.getChanges();return sC(n,h,m),{viewCache:h,changes:m}}function sC(s,n,l){const r=n.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=Qr(s);(l.length>0||!s.eventCache.isFullyInitialized()||o&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&l.push(Jg(Qr(n)))}}function ay(s,n,l,r,o,f){const h=n.eventCache;if(Zr(r,l)!=null)return n;{let p,m;if(he(l))if(G(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const _=Hi(n),y=_ instanceof ee?_:ee.EMPTY_NODE,v=Of(r,y);p=s.filter.updateFullNode(n.eventCache.getNode(),v,f)}else{const _=Xr(r,Hi(n));p=s.filter.updateFullNode(n.eventCache.getNode(),_,f)}else{const _=ae(l);if(_===".priority"){G(ci(l)===1,"Can't have a priority with additional path components");const y=h.getNode();m=n.serverCache.getNode();const v=Yp(r,l,y,m);v!=null?p=s.filter.updatePriority(y,v):p=h.getNode()}else{const y=ze(l);let v;if(h.isCompleteForChild(_)){m=n.serverCache.getNode();const S=Yp(r,l,h.getNode(),m);S!=null?v=h.getNode().getImmediateChild(_).updateChild(y,S):v=h.getNode().getImmediateChild(_)}else v=wf(r,_,n.serverCache);v!=null?p=s.filter.updateChild(h.getNode(),_,v,y,o,f):p=h.getNode()}}return Vs(n,p,h.isFullyInitialized()||he(l),s.filter.filtersNodes())}}function Kr(s,n,l,r,o,f,h,p){const m=n.serverCache;let _;const y=h?s.filter:s.filter.getIndexedFilter();if(he(l))_=y.updateFullNode(m.getNode(),r,null);else if(y.filtersNodes()&&!m.isFiltered()){const O=m.getNode().updateChild(l,r);_=y.updateFullNode(m.getNode(),O,null)}else{const O=ae(l);if(!m.isCompleteForPath(l)&&ci(l)>1)return n;const A=ze(l),H=m.getNode().getImmediateChild(O).updateChild(A,r);O===".priority"?_=y.updatePriority(m.getNode(),H):_=y.updateChild(m.getNode(),O,H,A,sy,null)}const v=$g(n,_,m.isFullyInitialized()||he(l),y.filtersNodes()),S=new xf(o,v,f);return ay(s,v,l,o,S,p)}function rf(s,n,l,r,o,f,h){const p=n.eventCache;let m,_;const y=new xf(o,n,f);if(he(l))_=s.filter.updateFullNode(n.eventCache.getNode(),r,h),m=Vs(n,_,!0,s.filter.filtersNodes());else{const v=ae(l);if(v===".priority")_=s.filter.updatePriority(n.eventCache.getNode(),r),m=Vs(n,_,p.isFullyInitialized(),p.isFiltered());else{const S=ze(l),O=p.getNode().getImmediateChild(v);let A;if(he(S))A=r;else{const B=y.getCompleteChild(v);B!=null?Gg(S)===".priority"&&B.getChild(kg(S)).isEmpty()?A=B:A=B.updateChild(S,r):A=ee.EMPTY_NODE}if(O.equals(A))m=n;else{const B=s.filter.updateChild(p.getNode(),v,A,S,y,h);m=Vs(n,B,p.isFullyInitialized(),s.filter.filtersNodes())}}}return m}function kp(s,n){return s.eventCache.isCompleteForChild(n)}function aC(s,n,l,r,o,f,h){let p=n;return r.foreach((m,_)=>{const y=tt(l,m);kp(n,ae(y))&&(p=rf(s,p,y,_,o,f,h))}),r.foreach((m,_)=>{const y=tt(l,m);kp(n,ae(y))||(p=rf(s,p,y,_,o,f,h))}),p}function Vp(s,n,l){return l.foreach((r,o)=>{n=n.updateChild(r,o)}),n}function uf(s,n,l,r,o,f,h,p){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let m=n,_;he(l)?_=r:_=new Ie(null).setTree(l,r);const y=n.serverCache.getNode();return _.children.inorderTraversal((v,S)=>{if(y.hasChild(v)){const O=n.serverCache.getNode().getImmediateChild(v),A=Vp(s,O,S);m=Kr(s,m,new we(v),A,o,f,h,p)}}),_.children.inorderTraversal((v,S)=>{const O=!n.serverCache.isCompleteForChild(v)&&S.value===null;if(!y.hasChild(v)&&!O){const A=n.serverCache.getNode().getImmediateChild(v),B=Vp(s,A,S);m=Kr(s,m,new we(v),B,o,f,h,p)}}),m}function rC(s,n,l,r,o,f,h){if(Zr(o,l)!=null)return n;const p=n.serverCache.isFiltered(),m=n.serverCache;if(r.value!=null){if(he(l)&&m.isFullyInitialized()||m.isCompleteForPath(l))return Kr(s,n,l,m.getNode().getChild(l),o,f,p,h);if(he(l)){let _=new Ie(null);return m.getNode().forEachChild(xl,(y,v)=>{_=_.set(new we(y),v)}),uf(s,n,l,_,o,f,p,h)}else return n}else{let _=new Ie(null);return r.foreach((y,v)=>{const S=tt(l,y);m.isCompleteForPath(S)&&(_=_.set(y,m.getNode().getChild(S)))}),uf(s,n,l,_,o,f,p,h)}}function uC(s,n,l,r,o){const f=n.serverCache,h=$g(n,f.getNode(),f.isFullyInitialized()||he(l),f.isFiltered());return ay(s,h,l,r,sy,o)}function oC(s,n,l,r,o,f){let h;if(Zr(r,l)!=null)return n;{const p=new xf(r,n,o),m=n.eventCache.getNode();let _;if(he(l)||ae(l)===".priority"){let y;if(n.serverCache.isFullyInitialized())y=Xr(r,Hi(n));else{const v=n.serverCache.getNode();G(v instanceof ee,"serverChildren would be complete if leaf node"),y=Of(r,v)}y=y,_=s.filter.updateFullNode(m,y,f)}else{const y=ae(l);let v=wf(r,y,n.serverCache);v==null&&n.serverCache.isCompleteForChild(y)&&(v=m.getImmediateChild(y)),v!=null?_=s.filter.updateChild(m,y,v,ze(l),p,f):n.eventCache.getNode().hasChild(y)?_=s.filter.updateChild(m,y,ee.EMPTY_NODE,ze(l),p,f):_=m,_.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Xr(r,Hi(n)),h.isLeafNode()&&(_=s.filter.updateFullNode(_,h,f)))}return h=n.serverCache.isFullyInitialized()||Zr(r,Ee())!=null,Vs(n,_,h,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Af(r.getIndex()),f=Db(r);this.processor_=nC(f);const h=l.serverCache,p=l.eventCache,m=o.updateFullNode(ee.EMPTY_NODE,h.getNode(),null),_=f.updateFullNode(ee.EMPTY_NODE,p.getNode(),null),y=new fi(m,h.isFullyInitialized(),o.filtersNodes()),v=new fi(_,p.isFullyInitialized(),f.filtersNodes());this.viewCache_=nu(v,y),this.eventGenerator_=new Ib(this.query_)}get query(){return this.query_}}function fC(s){return s.viewCache_.serverCache.getNode()}function hC(s){return Qr(s.viewCache_)}function dC(s,n){const l=Hi(s.viewCache_);return l&&(s.query._queryParams.loadsAllData()||!he(n)&&!l.getImmediateChild(ae(n)).isEmpty())?l.getChild(n):null}function Qp(s){return s.eventRegistrations_.length===0}function mC(s,n){s.eventRegistrations_.push(n)}function Xp(s,n,l){const r=[];if(l){G(n==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(l,o);h&&r.push(h)})}if(n){let o=[];for(let f=0;f<s.eventRegistrations_.length;++f){const h=s.eventRegistrations_[f];if(!h.matches(n))o.push(h);else if(n.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(f+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return r}function Zp(s,n,l,r){n.type===ln.MERGE&&n.source.queryId!==null&&(G(Hi(s.viewCache_),"We should always have a full cache before handling merges"),G(Qr(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,f=lC(s.processor_,o,n,l,r);return iC(s.processor_,f.viewCache),G(f.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=f.viewCache,ry(s,f.changes,f.viewCache.eventCache.getNode(),null)}function _C(s,n){const l=s.viewCache_.eventCache,r=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Ve,(f,h)=>{r.push(Ll(f,h))}),l.isFullyInitialized()&&r.push(Jg(l.getNode())),ry(s,r,l.getNode(),n)}function ry(s,n,l,r){const o=r?[r]:s.eventRegistrations_;return Bb(s.eventGenerator_,n,l,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fr;class uy{constructor(){this.views=new Map}}function pC(s){G(!Fr,"__referenceConstructor has already been defined"),Fr=s}function gC(){return G(Fr,"Reference.ts has not been loaded"),Fr}function yC(s){return s.views.size===0}function zf(s,n,l,r){const o=n.source.queryId;if(o!==null){const f=s.views.get(o);return G(f!=null,"SyncTree gave us an op for an invalid query."),Zp(f,n,l,r)}else{let f=[];for(const h of s.views.values())f=f.concat(Zp(h,n,l,r));return f}}function oy(s,n,l,r,o){const f=n._queryIdentifier,h=s.views.get(f);if(!h){let p=Xr(l,o?r:null),m=!1;p?m=!0:r instanceof ee?(p=Of(l,r),m=!1):(p=ee.EMPTY_NODE,m=!1);const _=nu(new fi(p,m,!1),new fi(r,o,!1));return new cC(n,_)}return h}function vC(s,n,l,r,o,f){const h=oy(s,n,r,o,f);return s.views.has(n._queryIdentifier)||s.views.set(n._queryIdentifier,h),mC(h,l),_C(h,l)}function SC(s,n,l,r){const o=n._queryIdentifier,f=[];let h=[];const p=hi(s);if(o==="default")for(const[m,_]of s.views.entries())h=h.concat(Xp(_,l,r)),Qp(_)&&(s.views.delete(m),_.query._queryParams.loadsAllData()||f.push(_.query));else{const m=s.views.get(o);m&&(h=h.concat(Xp(m,l,r)),Qp(m)&&(s.views.delete(o),m.query._queryParams.loadsAllData()||f.push(m.query)))}return p&&!hi(s)&&f.push(new(gC())(n._repo,n._path)),{removed:f,events:h}}function cy(s){const n=[];for(const l of s.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function oi(s,n){let l=null;for(const r of s.views.values())l=l||dC(r,n);return l}function fy(s,n){if(n._queryParams.loadsAllData())return lu(s);{const r=n._queryIdentifier;return s.views.get(r)}}function hy(s,n){return fy(s,n)!=null}function hi(s){return lu(s)!=null}function lu(s){for(const n of s.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jr;function EC(s){G(!Jr,"__referenceConstructor has already been defined"),Jr=s}function bC(){return G(Jr,"Reference.ts has not been loaded"),Jr}let CC=1;class Kp{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Ie(null),this.pendingWriteTree_=Wb(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dy(s,n,l,r,o){return Gb(s.pendingWriteTree_,n,l,r,o),o?fa(s,new Bi(Wg(),n,l)):[]}function Li(s,n,l=!1){const r=Yb(s.pendingWriteTree_,n);if(kb(s.pendingWriteTree_,n)){let f=new Ie(null);return r.snap!=null?f=f.set(Ee(),!0):Mt(r.children,h=>{f=f.set(new we(h),!0)}),fa(s,new Vr(r.path,f,l))}else return[]}function ca(s,n,l){return fa(s,new Bi(Mf(),n,l))}function TC(s,n,l){const r=Ie.fromObject(l);return fa(s,new ta(Mf(),n,r))}function NC(s,n){return fa(s,new ea(Mf(),n))}function AC(s,n,l){const r=Lf(s,l);if(r){const o=If(r),f=o.path,h=o.queryId,p=yt(f,n),m=new ea(Df(h),p);return Bf(s,f,m)}else return[]}function Pr(s,n,l,r,o=!1){const f=n._path,h=s.syncPointTree_.get(f);let p=[];if(h&&(n._queryIdentifier==="default"||hy(h,n))){const m=SC(h,n,l,r);yC(h)&&(s.syncPointTree_=s.syncPointTree_.remove(f));const _=m.removed;if(p=m.events,!o){const y=_.findIndex(S=>S._queryParams.loadsAllData())!==-1,v=s.syncPointTree_.findOnPath(f,(S,O)=>hi(O));if(y&&!v){const S=s.syncPointTree_.subtree(f);if(!S.isEmpty()){const O=DC(S);for(let A=0;A<O.length;++A){const B=O[A],H=B.query,Z=gy(s,B);s.listenProvider_.startListening(Xs(H),na(s,H),Z.hashFn,Z.onComplete)}}}!v&&_.length>0&&!r&&(y?s.listenProvider_.stopListening(Xs(n),null):_.forEach(S=>{const O=s.queryToTagMap.get(su(S));s.listenProvider_.stopListening(Xs(S),O)}))}OC(s,_)}return p}function my(s,n,l,r){const o=Lf(s,r);if(o!=null){const f=If(o),h=f.path,p=f.queryId,m=yt(h,n),_=new Bi(Df(p),m,l);return Bf(s,h,_)}else return[]}function RC(s,n,l,r){const o=Lf(s,r);if(o){const f=If(o),h=f.path,p=f.queryId,m=yt(h,n),_=Ie.fromObject(l),y=new ta(Df(p),m,_);return Bf(s,h,y)}else return[]}function of(s,n,l,r=!1){const o=n._path;let f=null,h=!1;s.syncPointTree_.foreachOnPath(o,(S,O)=>{const A=yt(S,o);f=f||oi(O,A),h=h||hi(O)});let p=s.syncPointTree_.get(o);p?(h=h||hi(p),f=f||oi(p,Ee())):(p=new uy,s.syncPointTree_=s.syncPointTree_.set(o,p));let m;f!=null?m=!0:(m=!1,f=ee.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((O,A)=>{const B=oi(A,Ee());B&&(f=f.updateImmediateChild(O,B))}));const _=hy(p,n);if(!_&&!n._queryParams.loadsAllData()){const S=su(n);G(!s.queryToTagMap.has(S),"View does not exist, but we have a tag");const O=wC();s.queryToTagMap.set(S,O),s.tagToQueryMap.set(O,S)}const y=iu(s.pendingWriteTree_,o);let v=vC(p,n,l,y,f,m);if(!_&&!h&&!r){const S=fy(p,n);v=v.concat(xC(s,n,S))}return v}function Uf(s,n,l){const o=s.pendingWriteTree_,f=s.syncPointTree_.findOnPath(n,(h,p)=>{const m=yt(h,n),_=oi(p,m);if(_)return _});return ny(o,n,f,l,!0)}function MC(s,n){const l=n._path;let r=null;s.syncPointTree_.foreachOnPath(l,(_,y)=>{const v=yt(_,l);r=r||oi(y,v)});let o=s.syncPointTree_.get(l);o?r=r||oi(o,Ee()):(o=new uy,s.syncPointTree_=s.syncPointTree_.set(l,o));const f=r!=null,h=f?new fi(r,!0,!1):null,p=iu(s.pendingWriteTree_,n._path),m=oy(o,n,p,f?h.getNode():ee.EMPTY_NODE,f);return hC(m)}function fa(s,n){return _y(n,s.syncPointTree_,null,iu(s.pendingWriteTree_,Ee()))}function _y(s,n,l,r){if(he(s.path))return py(s,n,l,r);{const o=n.get(Ee());l==null&&o!=null&&(l=oi(o,Ee()));let f=[];const h=ae(s.path),p=s.operationForChild(h),m=n.children.get(h);if(m&&p){const _=l?l.getImmediateChild(h):null,y=iy(r,h);f=f.concat(_y(p,m,_,y))}return o&&(f=f.concat(zf(o,s,r,l))),f}}function py(s,n,l,r){const o=n.get(Ee());l==null&&o!=null&&(l=oi(o,Ee()));let f=[];return n.children.inorderTraversal((h,p)=>{const m=l?l.getImmediateChild(h):null,_=iy(r,h),y=s.operationForChild(h);y&&(f=f.concat(py(y,p,m,_)))}),o&&(f=f.concat(zf(o,s,r,l))),f}function gy(s,n){const l=n.query,r=na(s,l);return{hashFn:()=>(fC(n)||ee.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?AC(s,l._path,r):NC(s,l._path);{const f=ME(o,l);return Pr(s,l,null,f)}}}}function na(s,n){const l=su(n);return s.queryToTagMap.get(l)}function su(s){return s._path.toString()+"$"+s._queryIdentifier}function Lf(s,n){return s.tagToQueryMap.get(n)}function If(s){const n=s.indexOf("$");return G(n!==-1&&n<s.length-1,"Bad queryKey."),{queryId:s.substr(n+1),path:new we(s.substr(0,n))}}function Bf(s,n,l){const r=s.syncPointTree_.get(n);G(r,"Missing sync point for query tag that we're tracking");const o=iu(s.pendingWriteTree_,n);return zf(r,l,o,null)}function DC(s){return s.fold((n,l,r)=>{if(l&&hi(l))return[lu(l)];{let o=[];return l&&(o=cy(l)),Mt(r,(f,h)=>{o=o.concat(h)}),o}})}function Xs(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(bC())(s._repo,s._path):s}function OC(s,n){for(let l=0;l<n.length;++l){const r=n[l];if(!r._queryParams.loadsAllData()){const o=su(r),f=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(f)}}}function wC(){return CC++}function xC(s,n,l){const r=n._path,o=na(s,n),f=gy(s,l),h=s.listenProvider_.startListening(Xs(n),o,f.hashFn,f.onComplete),p=s.syncPointTree_.subtree(r);if(o)G(!hi(p.value),"If we're adding a query, it shouldn't be shadowed");else{const m=p.fold((_,y,v)=>{if(!he(_)&&y&&hi(y))return[lu(y).query];{let S=[];return y&&(S=S.concat(cy(y).map(O=>O.query))),Mt(v,(O,A)=>{S=S.concat(A)}),S}});for(let _=0;_<m.length;++_){const y=m[_];s.listenProvider_.stopListening(Xs(y),na(s,y))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new Hf(l)}node(){return this.node_}}class jf{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=tt(this.path_,n);return new jf(this.syncTree_,l)}node(){return Uf(this.syncTree_,this.path_)}}const zC=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Fp=function(s,n,l){if(!s||typeof s!="object")return s;if(G(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return UC(s[".sv"],n,l);if(typeof s[".sv"]=="object")return LC(s[".sv"],n);G(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},UC=function(s,n,l){switch(s){case"timestamp":return l.timestamp;default:G(!1,"Unexpected server value: "+s)}},LC=function(s,n,l){s.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);const o=n.node();if(G(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const h=o.getValue();return typeof h!="number"?r:h+r},IC=function(s,n,l,r){return qf(n,new jf(l,s),r)},yy=function(s,n,l){return qf(s,new Hf(n),l)};function qf(s,n,l){const r=s.getPriority().val(),o=Fp(r,n.getImmediateChild(".priority"),l);let f;if(s.isLeafNode()){const h=s,p=Fp(h.getValue(),n,l);return p!==h.getValue()||o!==h.getPriority().val()?new st(p,rt(o)):s}else{const h=s;return f=h,o!==h.getPriority().val()&&(f=f.updatePriority(new st(o))),h.forEachChild(Ve,(p,m)=>{const _=qf(m,n.getImmediateChild(p),l);_!==m&&(f=f.updateImmediateChild(p,_))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(n="",l=null,r={children:{},childCount:0}){this.name=n,this.parent=l,this.node=r}}function Yf(s,n){let l=n instanceof we?n:new we(n),r=s,o=ae(l);for(;o!==null;){const f=zl(r.node.children,o)||{children:{},childCount:0};r=new Gf(o,r,f),l=ze(l),o=ae(l)}return r}function ql(s){return s.node.value}function vy(s,n){s.node.value=n,cf(s)}function Sy(s){return s.node.childCount>0}function BC(s){return ql(s)===void 0&&!Sy(s)}function au(s,n){Mt(s.node.children,(l,r)=>{n(new Gf(l,s,r))})}function Ey(s,n,l,r){l&&n(s),au(s,o=>{Ey(o,n,!0)})}function HC(s,n,l){let r=s.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function ha(s){return new we(s.parent===null?s.name:ha(s.parent)+"/"+s.name)}function cf(s){s.parent!==null&&jC(s.parent,s.name,s)}function jC(s,n,l){const r=BC(l),o=zn(s.node.children,n);r&&o?(delete s.node.children[n],s.node.childCount--,cf(s)):!r&&!o&&(s.node.children[n]=l.node,s.node.childCount++,cf(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=/[\[\].#$\/\u0000-\u001F\u007F]/,GC=/[\[\].#$\u0000-\u001F\u007F]/,Xc=10*1024*1024,by=function(s){return typeof s=="string"&&s.length!==0&&!qC.test(s)},Cy=function(s){return typeof s=="string"&&s.length!==0&&!GC.test(s)},YC=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Cy(s)},Ty=function(s,n,l,r){r&&n===void 0||kf(gf(s,"value"),n,l)},kf=function(s,n,l){const r=l instanceof we?new rb(l,s):l;if(n===void 0)throw new Error(s+"contains undefined "+zi(r));if(typeof n=="function")throw new Error(s+"contains a function "+zi(r)+" with contents = "+n.toString());if(Sg(n))throw new Error(s+"contains "+n.toString()+" "+zi(r));if(typeof n=="string"&&n.length>Xc/3&&eu(n)>Xc)throw new Error(s+"contains a string greater than "+Xc+" utf8 bytes "+zi(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,f=!1;if(Mt(n,(h,p)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!by(h)))throw new Error(s+" contains an invalid key ("+h+") "+zi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ub(r,h),kf(s,p,r),ob(r)}),o&&f)throw new Error(s+' contains ".value" child '+zi(r)+" in addition to actual children.")}},Ny=function(s,n,l,r){if(!Cy(l))throw new Error(gf(s,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},kC=function(s,n,l,r){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Ny(s,n,l)},Vf=function(s,n){if(ae(n)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},VC=function(s,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!by(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!YC(l))throw new Error(gf(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qf(s,n){let l=null;for(let r=0;r<n.length;r++){const o=n[r],f=o.getPath();l!==null&&!Cf(f,l.path)&&(s.eventLists_.push(l),l=null),l===null&&(l={events:[],path:f}),l.events.push(o)}l&&s.eventLists_.push(l)}function Ay(s,n,l){Qf(s,l),Ry(s,r=>Cf(r,n))}function cn(s,n,l){Qf(s,l),Ry(s,r=>nn(r,n)||nn(n,r))}function Ry(s,n){s.recursionDepth_++;let l=!0;for(let r=0;r<s.eventLists_.length;r++){const o=s.eventLists_[r];if(o){const f=o.path;n(f)?(XC(s.eventLists_[r]),s.eventLists_[r]=null):l=!1}}l&&(s.eventLists_=[]),s.recursionDepth_--}function XC(s){for(let n=0;n<s.events.length;n++){const l=s.events[n];if(l!==null){s.events[n]=null;const r=l.getEventRunner();Ys&&_t("event: "+l.toString()),jl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="repo_interrupt",KC=25;class FC{constructor(n,l,r,o){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new QC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kr(),this.transactionQueueTree_=new Gf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function JC(s,n,l){if(s.stats_=Ef(s.repoInfo_),s.forceRestClient_||xE())s.server_=new Yr(s.repoInfo_,(r,o,f,h)=>{Jp(s,r,o,f,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Pp(s,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{et(l)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new On(s.repoInfo_,n,(r,o,f,h)=>{Jp(s,r,o,f,h)},r=>{Pp(s,r)},r=>{PC(s,r)},s.authTokenProvider_,s.appCheckProvider_,l),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=BE(s.repoInfo_,()=>new Lb(s.stats_,s.server_)),s.infoData_=new Ob,s.infoSyncTree_=new Kp({startListening:(r,o,f,h)=>{let p=[];const m=s.infoData_.getNode(r._path);return m.isEmpty()||(p=ca(s.infoSyncTree_,r._path,m),setTimeout(()=>{h("ok")},0)),p},stopListening:()=>{}}),Zf(s,"connected",!1),s.serverSyncTree_=new Kp({startListening:(r,o,f,h)=>(s.server_.listen(r,f,o,(p,m)=>{const _=h(p,m);cn(s.eventQueue_,r._path,_)}),[]),stopListening:(r,o)=>{s.server_.unlisten(r,o)}})}function My(s){const l=s.infoData_.getNode(new we(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function Xf(s){return zC({timestamp:My(s)})}function Jp(s,n,l,r,o){s.dataUpdateCount++;const f=new we(n);l=s.interceptServerDataCallback_?s.interceptServerDataCallback_(n,l):l;let h=[];if(o)if(r){const m=Lr(l,_=>rt(_));h=RC(s.serverSyncTree_,f,m,o)}else{const m=rt(l);h=my(s.serverSyncTree_,f,m,o)}else if(r){const m=Lr(l,_=>rt(_));h=TC(s.serverSyncTree_,f,m)}else{const m=rt(l);h=ca(s.serverSyncTree_,f,m)}let p=f;h.length>0&&(p=uu(s,f)),cn(s.eventQueue_,p,h)}function Pp(s,n){Zf(s,"connected",n),n===!1&&eT(s)}function PC(s,n){Mt(n,(l,r)=>{Zf(s,l,r)})}function Zf(s,n,l){const r=new we("/.info/"+n),o=rt(l);s.infoData_.updateSnapshot(r,o);const f=ca(s.infoSyncTree_,r,o);cn(s.eventQueue_,r,f)}function Dy(s){return s.nextWriteId_++}function WC(s,n,l){const r=MC(s.serverSyncTree_,n);return r!=null?Promise.resolve(r):s.server_.get(n).then(o=>{const f=rt(o).withIndex(n._queryParams.getIndex());of(s.serverSyncTree_,n,l,!0);let h;if(n._queryParams.loadsAllData())h=ca(s.serverSyncTree_,n._path,f);else{const p=na(s.serverSyncTree_,n);h=my(s.serverSyncTree_,n._path,f,p)}return cn(s.eventQueue_,n._path,h),Pr(s.serverSyncTree_,n,l,null,!0),f},o=>(ru(s,"get for query "+et(n)+" failed: "+o),Promise.reject(new Error(o))))}function $C(s,n,l,r,o){ru(s,"set",{path:n.toString(),value:l,priority:r});const f=Xf(s),h=rt(l,r),p=Uf(s.serverSyncTree_,n),m=yy(h,p,f),_=Dy(s),y=dy(s.serverSyncTree_,n,m,_,!0);Qf(s.eventQueue_,y),s.server_.put(n.toString(),h.val(!0),(S,O)=>{const A=S==="ok";A||Rt("set at "+n+" failed: "+S);const B=Li(s.serverSyncTree_,_,!A);cn(s.eventQueue_,n,B),lT(s,o,S,O)});const v=Uy(s,n);uu(s,v),cn(s.eventQueue_,v,[])}function eT(s){ru(s,"onDisconnectEvents");const n=Xf(s),l=kr();lf(s.onDisconnect_,Ee(),(o,f)=>{const h=IC(o,f,s.serverSyncTree_,n);Pg(l,o,h)});let r=[];lf(l,Ee(),(o,f)=>{r=r.concat(ca(s.serverSyncTree_,o,f));const h=Uy(s,o);uu(s,h)}),s.onDisconnect_=kr(),cn(s.eventQueue_,Ee(),r)}function tT(s,n,l){let r;ae(n._path)===".info"?r=of(s.infoSyncTree_,n,l):r=of(s.serverSyncTree_,n,l),Ay(s.eventQueue_,n._path,r)}function nT(s,n,l){let r;ae(n._path)===".info"?r=Pr(s.infoSyncTree_,n,l):r=Pr(s.serverSyncTree_,n,l),Ay(s.eventQueue_,n._path,r)}function iT(s){s.persistentConnection_&&s.persistentConnection_.interrupt(ZC)}function ru(s,...n){let l="";s.persistentConnection_&&(l=s.persistentConnection_.id+":"),_t(l,...n)}function lT(s,n,l,r){n&&jl(()=>{if(l==="ok")n(null);else{const o=(l||"error").toUpperCase();let f=o;r&&(f+=": "+r);const h=new Error(f);h.code=o,n(h)}})}function Oy(s,n,l){return Uf(s.serverSyncTree_,n,l)||ee.EMPTY_NODE}function Kf(s,n=s.transactionQueueTree_){if(n||ou(s,n),ql(n)){const l=xy(s,n);G(l.length>0,"Sending zero length transaction queue"),l.every(o=>o.status===0)&&sT(s,ha(n),l)}else Sy(n)&&au(n,l=>{Kf(s,l)})}function sT(s,n,l){const r=l.map(_=>_.currentWriteId),o=Oy(s,n,r);let f=o;const h=o.hash();for(let _=0;_<l.length;_++){const y=l[_];G(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const v=yt(n,y.path);f=f.updateChild(v,y.currentOutputSnapshotRaw)}const p=f.val(!0),m=n;s.server_.put(m.toString(),p,_=>{ru(s,"transaction put response",{path:m.toString(),status:_});let y=[];if(_==="ok"){const v=[];for(let S=0;S<l.length;S++)l[S].status=2,y=y.concat(Li(s.serverSyncTree_,l[S].currentWriteId)),l[S].onComplete&&v.push(()=>l[S].onComplete(null,!0,l[S].currentOutputSnapshotResolved)),l[S].unwatcher();ou(s,Yf(s.transactionQueueTree_,n)),Kf(s,s.transactionQueueTree_),cn(s.eventQueue_,n,y);for(let S=0;S<v.length;S++)jl(v[S])}else{if(_==="datastale")for(let v=0;v<l.length;v++)l[v].status===3?l[v].status=4:l[v].status=0;else{Rt("transaction at "+m.toString()+" failed: "+_);for(let v=0;v<l.length;v++)l[v].status=4,l[v].abortReason=_}uu(s,n)}},h)}function uu(s,n){const l=wy(s,n),r=ha(l),o=xy(s,l);return aT(s,o,r),r}function aT(s,n,l){if(n.length===0)return;const r=[];let o=[];const h=n.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<n.length;p++){const m=n[p],_=yt(l,m.path);let y=!1,v;if(G(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)y=!0,v=m.abortReason,o=o.concat(Li(s.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=KC)y=!0,v="maxretry",o=o.concat(Li(s.serverSyncTree_,m.currentWriteId,!0));else{const S=Oy(s,m.path,h);m.currentInputSnapshot=S;const O=n[p].update(S.val());if(O!==void 0){kf("transaction failed: Data returned ",O,m.path);let A=rt(O);typeof O=="object"&&O!=null&&zn(O,".priority")||(A=A.updatePriority(S.getPriority()));const H=m.currentWriteId,Z=Xf(s),$=yy(A,S,Z);m.currentOutputSnapshotRaw=A,m.currentOutputSnapshotResolved=$,m.currentWriteId=Dy(s),h.splice(h.indexOf(H),1),o=o.concat(dy(s.serverSyncTree_,m.path,$,m.currentWriteId,m.applyLocally)),o=o.concat(Li(s.serverSyncTree_,H,!0))}else y=!0,v="nodata",o=o.concat(Li(s.serverSyncTree_,m.currentWriteId,!0))}cn(s.eventQueue_,l,o),o=[],y&&(n[p].status=2,(function(S){setTimeout(S,Math.floor(0))})(n[p].unwatcher),n[p].onComplete&&(v==="nodata"?r.push(()=>n[p].onComplete(null,!1,n[p].currentInputSnapshot)):r.push(()=>n[p].onComplete(new Error(v),!1,null))))}ou(s,s.transactionQueueTree_);for(let p=0;p<r.length;p++)jl(r[p]);Kf(s,s.transactionQueueTree_)}function wy(s,n){let l,r=s.transactionQueueTree_;for(l=ae(n);l!==null&&ql(r)===void 0;)r=Yf(r,l),n=ze(n),l=ae(n);return r}function xy(s,n){const l=[];return zy(s,n,l),l.sort((r,o)=>r.order-o.order),l}function zy(s,n,l){const r=ql(n);if(r)for(let o=0;o<r.length;o++)l.push(r[o]);au(n,o=>{zy(s,o,l)})}function ou(s,n){const l=ql(n);if(l){let r=0;for(let o=0;o<l.length;o++)l[o].status!==2&&(l[r]=l[o],r++);l.length=r,vy(n,l.length>0?l:void 0)}au(n,r=>{ou(s,r)})}function Uy(s,n){const l=ha(wy(s,n)),r=Yf(s.transactionQueueTree_,n);return HC(r,o=>{Zc(s,o)}),Zc(s,r),Ey(r,o=>{Zc(s,o)}),l}function Zc(s,n){const l=ql(n);if(l){const r=[];let o=[],f=-1;for(let h=0;h<l.length;h++)l[h].status===3||(l[h].status===1?(G(f===h-1,"All SENT items should be at beginning of queue."),f=h,l[h].status=3,l[h].abortReason="set"):(G(l[h].status===0,"Unexpected transaction status in abort"),l[h].unwatcher(),o=o.concat(Li(s.serverSyncTree_,l[h].currentWriteId,!0)),l[h].onComplete&&r.push(l[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?vy(n,void 0):l.length=f+1,cn(s.eventQueue_,ha(n),o);for(let h=0;h<r.length;h++)jl(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(s){let n="";const l=s.split("/");for(let r=0;r<l.length;r++)if(l[r].length>0){let o=l[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function uT(s){const n={};s.charAt(0)==="?"&&(s=s.substring(1));for(const l of s.split("&")){if(l.length===0)continue;const r=l.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Rt(`Invalid query segment '${l}' in query '${s}'`)}return n}const Wp=function(s,n){const l=oT(s),r=l.namespace;l.domain==="firebase.com"&&xn(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&l.domain!=="localhost"&&xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||CE();const o=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new xg(l.host,l.secure,r,o,n,"",r!==l.subdomain),path:new we(l.pathString)}},oT=function(s){let n="",l="",r="",o="",f="",h=!0,p="https",m=443;if(typeof s=="string"){let _=s.indexOf("//");_>=0&&(p=s.substring(0,_-1),s=s.substring(_+2));let y=s.indexOf("/");y===-1&&(y=s.length);let v=s.indexOf("?");v===-1&&(v=s.length),n=s.substring(0,Math.min(y,v)),y<v&&(o=rT(s.substring(y,v)));const S=uT(s.substring(Math.min(s.length,v)));_=n.indexOf(":"),_>=0?(h=p==="https"||p==="wss",m=parseInt(n.substring(_+1),10)):_=n.length;const O=n.slice(0,_);if(O.toLowerCase()==="localhost")l="localhost";else if(O.split(".").length<=2)l=O;else{const A=n.indexOf(".");r=n.substring(0,A).toLowerCase(),l=n.substring(A+1),f=r}"ns"in S&&(f=S.ns)}return{host:n,port:m,domain:l,subdomain:r,secure:h,scheme:p,pathString:o,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cT=(function(){let s=0;const n=[];return function(l){const r=l===s;s=l;let o;const f=new Array(8);for(o=7;o>=0;o--)f[o]=$p.charAt(l%64),l=Math.floor(l/64);G(l===0,"Cannot push at time == 0");let h=f.join("");if(r){for(o=11;o>=0&&n[o]===63;o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)h+=$p.charAt(n[o]);return G(h.length===20,"nextPushId: Length should be 20."),h}})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(n,l,r,o){this.eventType=n,this.eventRegistration=l,this.snapshot=r,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+et(this.snapshot.exportVal())}}class hT{constructor(n,l,r){this.eventRegistration=n,this.error=l,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(n,l,r,o){this._repo=n,this._path=l,this._queryParams=r,this._orderByCalled=o}get key(){return he(this._path)?null:Gg(this._path)}get ref(){return new Un(this._repo,this._path)}get _queryIdentifier(){const n=Bp(this._queryParams),l=vf(n);return l==="{}"?"default":l}get _queryObject(){return Bp(this._queryParams)}isEqual(n){if(n=qi(n),!(n instanceof Ff))return!1;const l=this._repo===n._repo,r=Cf(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return l&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+ab(this._path)}}class Un extends Ff{constructor(n,l){super(n,l,new Rf,!1)}get parent(){const n=kg(this._path);return n===null?null:new Un(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class ia{constructor(n,l,r){this._node=n,this.ref=l,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new we(n),r=la(this.ref,n);return new ia(this._node.getChild(l),r,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>n(new ia(o,la(this.ref,r),Ve)))}hasChild(n){const l=new we(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function jt(s,n){return s=qi(s),s._checkNotDeleted("ref"),n!==void 0?la(s._root,n):s._root}function la(s,n){return s=qi(s),ae(s._path)===null?kC("child","path",n):Ny("child","path",n),new Un(s._repo,tt(s._path,n))}function eg(s,n){s=qi(s),Vf("push",s._path),Ty("push",n,s._path,!0);const l=My(s._repo),r=cT(l),o=la(s,r),f=la(s,r);let h;return n!=null?h=Gl(f,n).then(()=>f):h=Promise.resolve(f),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}function dT(s){return Vf("remove",s._path),Gl(s,null)}function Gl(s,n){s=qi(s),Vf("set",s._path),Ty("set",n,s._path,!1);const l=new $r;return $C(s._repo,s._path,n,null,l.wrapCallback(()=>{})),l.promise}function sa(s){s=qi(s);const n=new Ly(()=>{}),l=new cu(n);return WC(s._repo,s,l).then(r=>new ia(r,new Un(s._repo,s._path),s._queryParams.getIndex()))}class cu{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const r=l._queryParams.getIndex();return new fT("value",this,new ia(n.snapshotNode,new Un(l._repo,l._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new hT(this,n,l):null}matches(n){return n instanceof cu?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function mT(s,n,l,r,o){const f=new Ly(l,void 0),h=new cu(f);return tT(s._repo,s,h),()=>nT(s._repo,s,h)}function _T(s,n,l,r){return mT(s,"value",n)}pC(Un);EC(Un);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="FIREBASE_DATABASE_EMULATOR_HOST",ff={};let gT=!1;function yT(s,n,l,r){const o=n.lastIndexOf(":"),f=n.substring(0,o),h=pf(f);s.repoInfo_=new xg(n,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,l),r&&(s.authTokenProvider_=r)}function vT(s,n,l,r,o){let f=r||s.options.databaseURL;f===void 0&&(s.options.projectId||xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_t("Using default host for project ",s.options.projectId),f=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=Wp(f,o),p=h.repoInfo,m;typeof process<"u"&&vp&&(m=vp[pT]),m?(f=`http://${m}?ns=${p.namespace}`,h=Wp(f,o),p=h.repoInfo):h.repoInfo.secure;const _=new UE(s.name,s.options,n);VC("Invalid Firebase Database URL",h),he(h.path)||xn("Database URL must point to the root of a Firebase Database (not including a child path).");const y=ET(p,s,_,new zE(s,l));return new bT(y,s)}function ST(s,n){const l=ff[n];(!l||l[s.key]!==s)&&xn(`Database ${n}(${s.repoInfo_}) has already been deleted.`),iT(s),delete l[s.key]}function ET(s,n,l,r){let o=ff[n.name];o||(o={},ff[n.name]=o);let f=o[s.toURLString()];return f&&xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new FC(s,gT,l,r),o[s.toURLString()]=f,f}class bT{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(JC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Un(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(ST(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&xn("Cannot call "+n+" on a deleted database.")}}function fu(s=lE(),n){const l=$S(s,"database").getImmediate({identifier:n});if(!l._instanceStarted){const r=H1("database");r&&CT(l,...r)}return l}function CT(s,n,l,r={}){s=qi(s),s._checkNotDeleted("useEmulator");const o=`${n}:${l}`,f=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&Ir(r,f.repoInfo_.emulatorOptions))return;xn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new zr(zr.OWNER);else if(r.mockUserToken){const p=typeof r.mockUserToken=="string"?r.mockUserToken:q1(r.mockUserToken,s.app.options.projectId);h=new zr(p)}pf(n)&&(j1(n),k1("Database",!0)),yT(f,o,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(s){gE(iE),Hr(new Ks("database",(n,{instanceIdentifier:l})=>{const r=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return vT(r,o,f,l)},"PUBLIC").setMultipleInstances(!0)),Ol(Sp,Ep,s),Ol(Sp,Ep,"esm2020")}On.prototype.simpleListen=function(s,n){this.sendRequest("q",{p:s},n)};On.prototype.echo=function(s,n){this.sendRequest("echo",{d:s},n)};TT();var NT=Object.defineProperty,Wr=Object.getOwnPropertySymbols,Iy=Object.prototype.hasOwnProperty,By=Object.prototype.propertyIsEnumerable,tg=(s,n,l)=>n in s?NT(s,n,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[n]=l,hf=(s,n)=>{for(var l in n||(n={}))Iy.call(n,l)&&tg(s,l,n[l]);if(Wr)for(var l of Wr(n))By.call(n,l)&&tg(s,l,n[l]);return s},df=(s,n)=>{var l={};for(var r in s)Iy.call(s,r)&&n.indexOf(r)<0&&(l[r]=s[r]);if(s!=null&&Wr)for(var r of Wr(s))n.indexOf(r)<0&&By.call(s,r)&&(l[r]=s[r]);return l};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var ji;(s=>{const n=class fe{constructor(m,_,y,v){if(this.version=m,this.errorCorrectionLevel=_,this.modules=[],this.isFunction=[],m<fe.MIN_VERSION||m>fe.MAX_VERSION)throw new RangeError("Version value out of range");if(v<-1||v>7)throw new RangeError("Mask value out of range");this.size=m*4+17;let S=[];for(let A=0;A<this.size;A++)S.push(!1);for(let A=0;A<this.size;A++)this.modules.push(S.slice()),this.isFunction.push(S.slice());this.drawFunctionPatterns();const O=this.addEccAndInterleave(y);if(this.drawCodewords(O),v==-1){let A=1e9;for(let B=0;B<8;B++){this.applyMask(B),this.drawFormatBits(B);const H=this.getPenaltyScore();H<A&&(v=B,A=H),this.applyMask(B)}}o(0<=v&&v<=7),this.mask=v,this.applyMask(v),this.drawFormatBits(v),this.isFunction=[]}static encodeText(m,_){const y=s.QrSegment.makeSegments(m);return fe.encodeSegments(y,_)}static encodeBinary(m,_){const y=s.QrSegment.makeBytes(m);return fe.encodeSegments([y],_)}static encodeSegments(m,_,y=1,v=40,S=-1,O=!0){if(!(fe.MIN_VERSION<=y&&y<=v&&v<=fe.MAX_VERSION)||S<-1||S>7)throw new RangeError("Invalid value");let A,B;for(A=y;;A++){const q=fe.getNumDataCodewords(A,_)*8,J=h.getTotalBits(m,A);if(J<=q){B=J;break}if(A>=v)throw new RangeError("Data too long")}for(const q of[fe.Ecc.MEDIUM,fe.Ecc.QUARTILE,fe.Ecc.HIGH])O&&B<=fe.getNumDataCodewords(A,q)*8&&(_=q);let H=[];for(const q of m){l(q.mode.modeBits,4,H),l(q.numChars,q.mode.numCharCountBits(A),H);for(const J of q.getData())H.push(J)}o(H.length==B);const Z=fe.getNumDataCodewords(A,_)*8;o(H.length<=Z),l(0,Math.min(4,Z-H.length),H),l(0,(8-H.length%8)%8,H),o(H.length%8==0);for(let q=236;H.length<Z;q^=253)l(q,8,H);let $=[];for(;$.length*8<H.length;)$.push(0);return H.forEach((q,J)=>$[J>>>3]|=q<<7-(J&7)),new fe(A,_,$,S)}getModule(m,_){return 0<=m&&m<this.size&&0<=_&&_<this.size&&this.modules[_][m]}getModules(){return this.modules}drawFunctionPatterns(){for(let y=0;y<this.size;y++)this.setFunctionModule(6,y,y%2==0),this.setFunctionModule(y,6,y%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const m=this.getAlignmentPatternPositions(),_=m.length;for(let y=0;y<_;y++)for(let v=0;v<_;v++)y==0&&v==0||y==0&&v==_-1||y==_-1&&v==0||this.drawAlignmentPattern(m[y],m[v]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(m){const _=this.errorCorrectionLevel.formatBits<<3|m;let y=_;for(let S=0;S<10;S++)y=y<<1^(y>>>9)*1335;const v=(_<<10|y)^21522;o(v>>>15==0);for(let S=0;S<=5;S++)this.setFunctionModule(8,S,r(v,S));this.setFunctionModule(8,7,r(v,6)),this.setFunctionModule(8,8,r(v,7)),this.setFunctionModule(7,8,r(v,8));for(let S=9;S<15;S++)this.setFunctionModule(14-S,8,r(v,S));for(let S=0;S<8;S++)this.setFunctionModule(this.size-1-S,8,r(v,S));for(let S=8;S<15;S++)this.setFunctionModule(8,this.size-15+S,r(v,S));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let m=this.version;for(let y=0;y<12;y++)m=m<<1^(m>>>11)*7973;const _=this.version<<12|m;o(_>>>18==0);for(let y=0;y<18;y++){const v=r(_,y),S=this.size-11+y%3,O=Math.floor(y/3);this.setFunctionModule(S,O,v),this.setFunctionModule(O,S,v)}}drawFinderPattern(m,_){for(let y=-4;y<=4;y++)for(let v=-4;v<=4;v++){const S=Math.max(Math.abs(v),Math.abs(y)),O=m+v,A=_+y;0<=O&&O<this.size&&0<=A&&A<this.size&&this.setFunctionModule(O,A,S!=2&&S!=4)}}drawAlignmentPattern(m,_){for(let y=-2;y<=2;y++)for(let v=-2;v<=2;v++)this.setFunctionModule(m+v,_+y,Math.max(Math.abs(v),Math.abs(y))!=1)}setFunctionModule(m,_,y){this.modules[_][m]=y,this.isFunction[_][m]=!0}addEccAndInterleave(m){const _=this.version,y=this.errorCorrectionLevel;if(m.length!=fe.getNumDataCodewords(_,y))throw new RangeError("Invalid argument");const v=fe.NUM_ERROR_CORRECTION_BLOCKS[y.ordinal][_],S=fe.ECC_CODEWORDS_PER_BLOCK[y.ordinal][_],O=Math.floor(fe.getNumRawDataModules(_)/8),A=v-O%v,B=Math.floor(O/v);let H=[];const Z=fe.reedSolomonComputeDivisor(S);for(let q=0,J=0;q<v;q++){let ye=m.slice(J,J+B-S+(q<A?0:1));J+=ye.length;const qe=fe.reedSolomonComputeRemainder(ye,Z);q<A&&ye.push(0),H.push(ye.concat(qe))}let $=[];for(let q=0;q<H[0].length;q++)H.forEach((J,ye)=>{(q!=B-S||ye>=A)&&$.push(J[q])});return o($.length==O),$}drawCodewords(m){if(m.length!=Math.floor(fe.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let _=0;for(let y=this.size-1;y>=1;y-=2){y==6&&(y=5);for(let v=0;v<this.size;v++)for(let S=0;S<2;S++){const O=y-S,B=(y+1&2)==0?this.size-1-v:v;!this.isFunction[B][O]&&_<m.length*8&&(this.modules[B][O]=r(m[_>>>3],7-(_&7)),_++)}}o(_==m.length*8)}applyMask(m){if(m<0||m>7)throw new RangeError("Mask value out of range");for(let _=0;_<this.size;_++)for(let y=0;y<this.size;y++){let v;switch(m){case 0:v=(y+_)%2==0;break;case 1:v=_%2==0;break;case 2:v=y%3==0;break;case 3:v=(y+_)%3==0;break;case 4:v=(Math.floor(y/3)+Math.floor(_/2))%2==0;break;case 5:v=y*_%2+y*_%3==0;break;case 6:v=(y*_%2+y*_%3)%2==0;break;case 7:v=((y+_)%2+y*_%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[_][y]&&v&&(this.modules[_][y]=!this.modules[_][y])}}getPenaltyScore(){let m=0;for(let S=0;S<this.size;S++){let O=!1,A=0,B=[0,0,0,0,0,0,0];for(let H=0;H<this.size;H++)this.modules[S][H]==O?(A++,A==5?m+=fe.PENALTY_N1:A>5&&m++):(this.finderPenaltyAddHistory(A,B),O||(m+=this.finderPenaltyCountPatterns(B)*fe.PENALTY_N3),O=this.modules[S][H],A=1);m+=this.finderPenaltyTerminateAndCount(O,A,B)*fe.PENALTY_N3}for(let S=0;S<this.size;S++){let O=!1,A=0,B=[0,0,0,0,0,0,0];for(let H=0;H<this.size;H++)this.modules[H][S]==O?(A++,A==5?m+=fe.PENALTY_N1:A>5&&m++):(this.finderPenaltyAddHistory(A,B),O||(m+=this.finderPenaltyCountPatterns(B)*fe.PENALTY_N3),O=this.modules[H][S],A=1);m+=this.finderPenaltyTerminateAndCount(O,A,B)*fe.PENALTY_N3}for(let S=0;S<this.size-1;S++)for(let O=0;O<this.size-1;O++){const A=this.modules[S][O];A==this.modules[S][O+1]&&A==this.modules[S+1][O]&&A==this.modules[S+1][O+1]&&(m+=fe.PENALTY_N2)}let _=0;for(const S of this.modules)_=S.reduce((O,A)=>O+(A?1:0),_);const y=this.size*this.size,v=Math.ceil(Math.abs(_*20-y*10)/y)-1;return o(0<=v&&v<=9),m+=v*fe.PENALTY_N4,o(0<=m&&m<=2568888),m}getAlignmentPatternPositions(){if(this.version==1)return[];{const m=Math.floor(this.version/7)+2,_=this.version==32?26:Math.ceil((this.version*4+4)/(m*2-2))*2;let y=[6];for(let v=this.size-7;y.length<m;v-=_)y.splice(1,0,v);return y}}static getNumRawDataModules(m){if(m<fe.MIN_VERSION||m>fe.MAX_VERSION)throw new RangeError("Version number out of range");let _=(16*m+128)*m+64;if(m>=2){const y=Math.floor(m/7)+2;_-=(25*y-10)*y-55,m>=7&&(_-=36)}return o(208<=_&&_<=29648),_}static getNumDataCodewords(m,_){return Math.floor(fe.getNumRawDataModules(m)/8)-fe.ECC_CODEWORDS_PER_BLOCK[_.ordinal][m]*fe.NUM_ERROR_CORRECTION_BLOCKS[_.ordinal][m]}static reedSolomonComputeDivisor(m){if(m<1||m>255)throw new RangeError("Degree out of range");let _=[];for(let v=0;v<m-1;v++)_.push(0);_.push(1);let y=1;for(let v=0;v<m;v++){for(let S=0;S<_.length;S++)_[S]=fe.reedSolomonMultiply(_[S],y),S+1<_.length&&(_[S]^=_[S+1]);y=fe.reedSolomonMultiply(y,2)}return _}static reedSolomonComputeRemainder(m,_){let y=_.map(v=>0);for(const v of m){const S=v^y.shift();y.push(0),_.forEach((O,A)=>y[A]^=fe.reedSolomonMultiply(O,S))}return y}static reedSolomonMultiply(m,_){if(m>>>8||_>>>8)throw new RangeError("Byte out of range");let y=0;for(let v=7;v>=0;v--)y=y<<1^(y>>>7)*285,y^=(_>>>v&1)*m;return o(y>>>8==0),y}finderPenaltyCountPatterns(m){const _=m[1];o(_<=this.size*3);const y=_>0&&m[2]==_&&m[3]==_*3&&m[4]==_&&m[5]==_;return(y&&m[0]>=_*4&&m[6]>=_?1:0)+(y&&m[6]>=_*4&&m[0]>=_?1:0)}finderPenaltyTerminateAndCount(m,_,y){return m&&(this.finderPenaltyAddHistory(_,y),_=0),_+=this.size,this.finderPenaltyAddHistory(_,y),this.finderPenaltyCountPatterns(y)}finderPenaltyAddHistory(m,_){_[0]==0&&(m+=this.size),_.pop(),_.unshift(m)}};n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],s.QrCode=n;function l(p,m,_){if(m<0||m>31||p>>>m)throw new RangeError("Value out of range");for(let y=m-1;y>=0;y--)_.push(p>>>y&1)}function r(p,m){return(p>>>m&1)!=0}function o(p){if(!p)throw new Error("Assertion error")}const f=class ke{constructor(m,_,y){if(this.mode=m,this.numChars=_,this.bitData=y,_<0)throw new RangeError("Invalid argument");this.bitData=y.slice()}static makeBytes(m){let _=[];for(const y of m)l(y,8,_);return new ke(ke.Mode.BYTE,m.length,_)}static makeNumeric(m){if(!ke.isNumeric(m))throw new RangeError("String contains non-numeric characters");let _=[];for(let y=0;y<m.length;){const v=Math.min(m.length-y,3);l(parseInt(m.substring(y,y+v),10),v*3+1,_),y+=v}return new ke(ke.Mode.NUMERIC,m.length,_)}static makeAlphanumeric(m){if(!ke.isAlphanumeric(m))throw new RangeError("String contains unencodable characters in alphanumeric mode");let _=[],y;for(y=0;y+2<=m.length;y+=2){let v=ke.ALPHANUMERIC_CHARSET.indexOf(m.charAt(y))*45;v+=ke.ALPHANUMERIC_CHARSET.indexOf(m.charAt(y+1)),l(v,11,_)}return y<m.length&&l(ke.ALPHANUMERIC_CHARSET.indexOf(m.charAt(y)),6,_),new ke(ke.Mode.ALPHANUMERIC,m.length,_)}static makeSegments(m){return m==""?[]:ke.isNumeric(m)?[ke.makeNumeric(m)]:ke.isAlphanumeric(m)?[ke.makeAlphanumeric(m)]:[ke.makeBytes(ke.toUtf8ByteArray(m))]}static makeEci(m){let _=[];if(m<0)throw new RangeError("ECI assignment value out of range");if(m<128)l(m,8,_);else if(m<16384)l(2,2,_),l(m,14,_);else if(m<1e6)l(6,3,_),l(m,21,_);else throw new RangeError("ECI assignment value out of range");return new ke(ke.Mode.ECI,0,_)}static isNumeric(m){return ke.NUMERIC_REGEX.test(m)}static isAlphanumeric(m){return ke.ALPHANUMERIC_REGEX.test(m)}getData(){return this.bitData.slice()}static getTotalBits(m,_){let y=0;for(const v of m){const S=v.mode.numCharCountBits(_);if(v.numChars>=1<<S)return 1/0;y+=4+S+v.bitData.length}return y}static toUtf8ByteArray(m){m=encodeURI(m);let _=[];for(let y=0;y<m.length;y++)m.charAt(y)!="%"?_.push(m.charCodeAt(y)):(_.push(parseInt(m.substring(y+1,y+3),16)),y+=2);return _}};f.NUMERIC_REGEX=/^[0-9]*$/,f.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,f.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let h=f;s.QrSegment=f})(ji||(ji={}));(s=>{(n=>{const l=class{constructor(o,f){this.ordinal=o,this.formatBits=f}};l.LOW=new l(0,1),l.MEDIUM=new l(1,0),l.QUARTILE=new l(2,3),l.HIGH=new l(3,2),n.Ecc=l})(s.QrCode||(s.QrCode={}))})(ji||(ji={}));(s=>{(n=>{const l=class{constructor(o,f){this.modeBits=o,this.numBitsCharCount=f}numCharCountBits(o){return this.numBitsCharCount[Math.floor((o+7)/17)]}};l.NUMERIC=new l(1,[10,12,14]),l.ALPHANUMERIC=new l(2,[9,11,13]),l.BYTE=new l(4,[8,16,16]),l.KANJI=new l(8,[8,10,12]),l.ECI=new l(7,[0,0,0]),n.Mode=l})(s.QrSegment||(s.QrSegment={}))})(ji||(ji={}));var Dl=ji;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var AT={L:Dl.QrCode.Ecc.LOW,M:Dl.QrCode.Ecc.MEDIUM,Q:Dl.QrCode.Ecc.QUARTILE,H:Dl.QrCode.Ecc.HIGH},Hy=128,jy="L",qy="#FFFFFF",Gy="#000000",Yy=!1,ky=1,RT=4,MT=0,DT=.1;function Vy(s,n=0){const l=[];return s.forEach(function(r,o){let f=null;r.forEach(function(h,p){if(!h&&f!==null){l.push(`M${f+n} ${o+n}h${p-f}v1H${f+n}z`),f=null;return}if(p===r.length-1){if(!h)return;f===null?l.push(`M${p+n},${o+n} h1v1H${p+n}z`):l.push(`M${f+n},${o+n} h${p+1-f}v1H${f+n}z`);return}h&&f===null&&(f=p)})}),l.join("")}function Qy(s,n){return s.slice().map((l,r)=>r<n.y||r>=n.y+n.h?l:l.map((o,f)=>f<n.x||f>=n.x+n.w?o:!1))}function OT(s,n,l,r){if(r==null)return null;const o=s.length+l*2,f=Math.floor(n*DT),h=o/n,p=(r.width||f)*h,m=(r.height||f)*h,_=r.x==null?s.length/2-p/2:r.x*h,y=r.y==null?s.length/2-m/2:r.y*h,v=r.opacity==null?1:r.opacity;let S=null;if(r.excavate){let A=Math.floor(_),B=Math.floor(y),H=Math.ceil(p+_-A),Z=Math.ceil(m+y-B);S={x:A,y:B,w:H,h:Z}}const O=r.crossOrigin;return{x:_,y,h:m,w:p,excavation:S,opacity:v,crossOrigin:O}}function wT(s,n){return n!=null?Math.max(Math.floor(n),0):s?RT:MT}function Xy({value:s,level:n,minVersion:l,includeMargin:r,marginSize:o,imageSettings:f,size:h,boostLevel:p}){let m=$e.useMemo(()=>{const A=(Array.isArray(s)?s:[s]).reduce((B,H)=>(B.push(...Dl.QrSegment.makeSegments(H)),B),[]);return Dl.QrCode.encodeSegments(A,AT[n],l,void 0,void 0,p)},[s,n,l,p]);const{cells:_,margin:y,numCells:v,calculatedImageSettings:S}=$e.useMemo(()=>{let O=m.getModules();const A=wT(r,o),B=O.length+A*2,H=OT(O,h,A,f);return{cells:O,margin:A,numCells:B,calculatedImageSettings:H}},[m,h,f,r,o]);return{qrcode:m,margin:y,cells:_,numCells:v,calculatedImageSettings:S}}var xT=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),zT=$e.forwardRef(function(n,l){const r=n,{value:o,size:f=Hy,level:h=jy,bgColor:p=qy,fgColor:m=Gy,includeMargin:_=Yy,minVersion:y=ky,boostLevel:v,marginSize:S,imageSettings:O}=r,B=df(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:H}=B,Z=df(B,["style"]),$=O?.src,q=$e.useRef(null),J=$e.useRef(null),ye=$e.useCallback(K=>{q.current=K,typeof l=="function"?l(K):l&&(l.current=K)},[l]),[qe,ne]=$e.useState(!1),{margin:Be,cells:dt,numCells:qt,calculatedImageSettings:He}=Xy({value:o,level:h,minVersion:y,boostLevel:v,includeMargin:_,marginSize:S,imageSettings:O,size:f});$e.useEffect(()=>{if(q.current!=null){const K=q.current,P=K.getContext("2d");if(!P)return;let x=dt;const j=J.current,V=He!=null&&j!==null&&j.complete&&j.naturalHeight!==0&&j.naturalWidth!==0;V&&He.excavation!=null&&(x=Qy(dt,He.excavation));const de=window.devicePixelRatio||1;K.height=K.width=f*de;const pe=f/qt*de;P.scale(pe,pe),P.fillStyle=p,P.fillRect(0,0,qt,qt),P.fillStyle=m,xT?P.fill(new Path2D(Vy(x,Be))):dt.forEach(function(b,U){b.forEach(function(Y,k){Y&&P.fillRect(k+Be,U+Be,1,1)})}),He&&(P.globalAlpha=He.opacity),V&&P.drawImage(j,He.x+Be,He.y+Be,He.w,He.h)}}),$e.useEffect(()=>{ne(!1)},[$]);const nt=hf({height:f,width:f},H);let Gt=null;return $!=null&&(Gt=$e.createElement("img",{src:$,key:$,style:{display:"none"},onLoad:()=>{ne(!0)},ref:J,crossOrigin:He?.crossOrigin})),$e.createElement($e.Fragment,null,$e.createElement("canvas",hf({style:nt,height:f,width:f,ref:ye,role:"img"},Z)),Gt)});zT.displayName="QRCodeCanvas";var Zy=$e.forwardRef(function(n,l){const r=n,{value:o,size:f=Hy,level:h=jy,bgColor:p=qy,fgColor:m=Gy,includeMargin:_=Yy,minVersion:y=ky,boostLevel:v,title:S,marginSize:O,imageSettings:A}=r,B=df(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:H,cells:Z,numCells:$,calculatedImageSettings:q}=Xy({value:o,level:h,minVersion:y,boostLevel:v,includeMargin:_,marginSize:O,imageSettings:A,size:f});let J=Z,ye=null;A!=null&&q!=null&&(q.excavation!=null&&(J=Qy(Z,q.excavation)),ye=$e.createElement("image",{href:A.src,height:q.h,width:q.w,x:q.x+H,y:q.y+H,preserveAspectRatio:"none",opacity:q.opacity,crossOrigin:q.crossOrigin}));const qe=Vy(J,H);return $e.createElement("svg",hf({height:f,width:f,viewBox:`0 0 ${$} ${$}`,ref:l,role:"img"},B),!!S&&$e.createElement("title",null,S),$e.createElement("path",{fill:p,d:`M0,0 h${$}v${$}H0z`,shapeRendering:"crispEdges"}),$e.createElement("path",{fill:m,d:qe,shapeRendering:"crispEdges"}),ye)});Zy.displayName="QRCodeSVG";function UT({sessionId:s,onBack:n}){const[l,r]=Te.useState([]),[o,f]=Te.useState(""),[h,p]=Te.useState(0),[m,_]=Te.useState(""),[y,v]=Te.useState(0),[S,O]=Te.useState(!1),A=fu();Te.useEffect(()=>{B()},[s]);const B=async()=>{const q=jt(A,`sessions/${s}`),J=await sa(q);if(J.exists()){const ye=J.val();if(_(ye.name),v(ye.totalSeats),ye.predefinedSeats){const qe=Object.entries(ye.predefinedSeats).map(([ne,Be])=>({name:ne,seat:Be}));r(qe)}}},H=()=>{if(!o.trim()){alert("名前を入力してください");return}if(h===0||h<1||h>y){alert(`席番号は1〜${y}の範囲で入力してください`);return}if(l.some(q=>q.name===o)){alert("この名前はすでに登録されています");return}r([...l,{name:o,seat:h}]),f(""),p(0)},Z=q=>{r(l.filter(J=>J.name!==q))},$=async()=>{O(!0);try{const q={};l.forEach(ye=>{q[ye.name]=ye.seat});const J=jt(A,`sessions/${s}/predefinedSeats`);await Gl(J,q),alert("✅ 設定を保存しました！")}catch(q){console.error("保存エラー:",q),alert("❌ 保存に失敗しました")}finally{O(!1)}};return N.jsx("div",{className:"app",children:N.jsxs("div",{className:"container",children:[N.jsx("h1",{className:"title",children:"🔒 管理者設定"}),N.jsx("p",{className:"subtitle",children:"隠し機能：事前座席設定"}),N.jsxs("div",{className:"session-info",children:[N.jsx("h3",{children:m}),N.jsxs("p",{children:["セッションID: ",N.jsx("strong",{children:s})]}),N.jsxs("p",{children:["総席数: ",y]})]}),N.jsxs("div",{className:"admin-section",children:[N.jsx("h3",{children:"🎯 事前設定された席"}),N.jsxs("p",{className:"info-text",children:["特定の名前を入力した人に、指定した席番号を自動的に割り当てます。",N.jsx("br",{}),"他の参加者にはバレないように、通常通りのアニメーションが表示されます。"]}),N.jsx("div",{className:"predefined-list",children:l.length===0?N.jsx("div",{className:"empty-state",children:"まだ設定がありません"}):l.map((q,J)=>N.jsxs("div",{className:"predefined-item",children:[N.jsxs("div",{className:"predefined-info",children:[N.jsx("span",{className:"predefined-name",children:q.name}),N.jsx("span",{className:"arrow",children:"→"}),N.jsxs("span",{className:"predefined-seat",children:[q.seat,"番席"]})]}),N.jsx("button",{className:"remove-btn",onClick:()=>Z(q.name),children:"削除"})]},J))}),N.jsxs("div",{className:"add-section",children:[N.jsx("h4",{children:"➕ 新しい設定を追加"}),N.jsxs("div",{className:"add-form",children:[N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"名前"}),N.jsx("input",{type:"text",value:o,onChange:q=>f(q.target.value),placeholder:"例: YT"})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"席番号"}),N.jsx("input",{type:"number",value:h===0?"":h,onChange:q=>{const J=q.target.value;p(J===""?0:parseInt(J)||0)},min:"1",max:y,placeholder:"例: 1",inputMode:"numeric"})]}),N.jsx("button",{className:"btn btn-secondary",onClick:H,children:"追加"})]})]}),N.jsx("button",{className:"btn btn-primary",onClick:$,disabled:S,children:S?"保存中...":"💾 設定を保存"}),N.jsx("button",{className:"btn btn-secondary",onClick:n,children:"← セッションに戻る"})]})]})})}function LT({sessionId:s,totalSeats:n,onComplete:l}){const[r,o]=Te.useState([]),[f,h]=Te.useState(""),[p,m]=Te.useState(0),[_,y]=Te.useState(!1),v=fu();Te.useEffect(()=>{S()},[s]);const S=async()=>{const H=jt(v,`sessions/${s}/predefinedSeats`),Z=await sa(H);if(Z.exists()){const $=Z.val(),q=Object.entries($).map(([J,ye])=>({name:J,seat:ye}));o(q)}},O=()=>{if(!f.trim()){alert("名前を入力してください");return}if(p===0||p<1||p>n){alert(`席番号は1〜${n}の範囲で入力してください`);return}if(r.some(H=>H.name===f)){alert("この名前はすでに登録されています");return}o([...r,{name:f,seat:p}]),h(""),m(0)},A=H=>{o(r.filter(Z=>Z.name!==H))},B=async()=>{y(!0);try{const H={};r.forEach($=>{H[$.name]=$.seat});const Z=jt(v,`sessions/${s}/predefinedSeats`);await Gl(Z,H),alert("✅ 設定を保存しました！"),l()}catch(H){console.error("保存エラー:",H),alert("❌ 保存に失敗しました")}finally{y(!1)}};return N.jsx("div",{className:"app",children:N.jsxs("div",{className:"container",children:[N.jsx("h1",{className:"title",children:"🔒 事前座席設定"}),N.jsx("p",{className:"subtitle",children:"管理者専用ページ"}),N.jsxs("div",{className:"session-info",children:[N.jsxs("p",{children:["セッションID: ",N.jsx("strong",{children:s})]}),N.jsxs("p",{children:["総席数: ",n]})]}),N.jsxs("div",{className:"admin-section",children:[N.jsx("h3",{children:"🎯 事前設定された席"}),N.jsxs("p",{className:"info-text",children:["特定の名前を入力した人に、指定した席番号を自動的に割り当てます。",N.jsx("br",{}),"他の参加者にはバレないように、通常通りのアニメーションが表示されます。"]}),N.jsx("div",{className:"predefined-list",children:r.length===0?N.jsx("div",{className:"empty-state",children:"まだ設定がありません"}):r.map((H,Z)=>N.jsxs("div",{className:"predefined-item",children:[N.jsxs("div",{className:"predefined-info",children:[N.jsx("span",{className:"predefined-name",children:H.name}),N.jsx("span",{className:"arrow",children:"→"}),N.jsxs("span",{className:"predefined-seat",children:[H.seat,"番席"]})]}),N.jsx("button",{className:"remove-btn",onClick:()=>A(H.name),children:"削除"})]},Z))}),N.jsxs("div",{className:"add-section",children:[N.jsx("h4",{children:"➕ 新しい設定を追加"}),N.jsxs("div",{className:"add-form",children:[N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"名前"}),N.jsx("input",{type:"text",value:f,onChange:H=>h(H.target.value),placeholder:"例: YT"})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"席番号"}),N.jsx("input",{type:"number",value:p===0?"":p,onChange:H=>{const Z=H.target.value;m(Z===""?0:parseInt(Z)||0)},min:"1",max:n,placeholder:"例: 1",inputMode:"numeric"})]}),N.jsx("button",{className:"btn btn-secondary",onClick:O,children:"追加"})]})]}),N.jsx("button",{className:"btn btn-primary",onClick:B,disabled:_,children:_?"保存中...":"💾 設定を保存"}),N.jsx("button",{className:"btn btn-secondary",onClick:l,children:"← 完了"})]})]})})}function IT(){const[s,n]=Te.useState([]),[l,r]=Te.useState(""),[o,f]=Te.useState(0),[h,p]=Te.useState(!1),m=fu();Te.useEffect(()=>{_()},[]);const _=async()=>{const A=jt(m,"globalSettings/predefinedSeats"),B=await sa(A);if(B.exists()){const H=B.val(),Z=Object.entries(H).map(([$,q])=>({name:$,seat:q}));n(Z)}},y=()=>{if(!l.trim()){alert("名前を入力してください");return}if(o===0||o<1||o>100){alert("席番号は1〜100の範囲で入力してください");return}if(s.some(A=>A.name===l)){alert("この名前はすでに登録されています");return}n([...s,{name:l,seat:o}]),r(""),f(0)},v=A=>{n(s.filter(B=>B.name!==A))},S=async()=>{p(!0);try{const A={};s.forEach(H=>{A[H.name]=H.seat});const B=jt(m,"globalSettings/predefinedSeats");await Gl(B,A),alert(`✅ グローバル設定を保存しました！
すべての新規セッションに適用されます。`)}catch(A){console.error("保存エラー:",A),alert("❌ 保存に失敗しました")}finally{p(!1)}},O=async()=>{if(confirm(`本当にすべての設定をリセットしますか？
この操作は取り消せません。`))try{const A=jt(m,"globalSettings/predefinedSeats");await dT(A),n([]),alert("✅ すべての設定をリセットしました")}catch(A){console.error("リセットエラー:",A),alert("❌ リセットに失敗しました")}};return N.jsx("div",{className:"app",children:N.jsxs("div",{className:"container",children:[N.jsx("h1",{className:"title",children:"🔧 グローバル設定"}),N.jsx("p",{className:"subtitle",children:"全セッション共通の事前座席設定"}),N.jsxs("div",{className:"session-info",style:{background:"#fff3cd",borderLeft:"4px solid #ffc107"},children:[N.jsx("h3",{style:{color:"#856404"},children:"⚠️ 重要"}),N.jsxs("p",{style:{color:"#856404"},children:["ここで設定した内容は、",N.jsx("strong",{children:"すべてのセッション"}),"に適用されます。",N.jsx("br",{}),"既存のセッションにも即座に反映されます。"]})]}),N.jsxs("div",{className:"admin-section",children:[N.jsx("h3",{children:"🎯 グローバル事前設定"}),N.jsxs("p",{className:"info-text",children:["特定の名前を入力した人に、指定した席番号を自動的に割り当てます。",N.jsx("br",{}),"他の参加者にはバレないように、通常通りのアニメーションが表示されます。",N.jsx("br",{}),N.jsx("strong",{children:"すべてのセッションで共通して使用されます。"})]}),N.jsx("div",{className:"predefined-list",children:s.length===0?N.jsx("div",{className:"empty-state",children:"まだ設定がありません"}):s.map((A,B)=>N.jsxs("div",{className:"predefined-item",children:[N.jsxs("div",{className:"predefined-info",children:[N.jsx("span",{className:"predefined-name",children:A.name}),N.jsx("span",{className:"arrow",children:"→"}),N.jsxs("span",{className:"predefined-seat",children:[A.seat,"番席"]})]}),N.jsx("button",{className:"remove-btn",onClick:()=>v(A.name),children:"削除"})]},B))}),N.jsxs("div",{className:"add-section",children:[N.jsx("h4",{children:"➕ 新しい設定を追加"}),N.jsxs("div",{className:"add-form",children:[N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"名前"}),N.jsx("input",{type:"text",value:l,onChange:A=>r(A.target.value),placeholder:"例: YT"})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"席番号"}),N.jsx("input",{type:"number",value:o===0?"":o,onChange:A=>{const B=A.target.value;f(B===""?0:parseInt(B)||0)},min:"1",max:"100",placeholder:"例: 1",inputMode:"numeric"})]}),N.jsx("button",{className:"btn btn-secondary",onClick:y,children:"追加"})]})]}),N.jsx("button",{className:"btn btn-primary",onClick:S,disabled:h,children:h?"保存中...":"💾 グローバル設定を保存"}),N.jsx("button",{className:"btn btn-danger",onClick:O,style:{background:"#dc3545",marginTop:"10px"},children:"🗑️ すべての設定をリセット"}),N.jsx("div",{style:{marginTop:"20px",padding:"15px",background:"#f8f9fa",borderRadius:"10px"},children:N.jsxs("p",{style:{fontSize:"0.9em",color:"#666",margin:0},children:["💡 ",N.jsx("strong",{children:"アクセス方法:"})," このページのURLをブックマークしておくと便利です",N.jsx("br",{}),"URL: ",N.jsxs("code",{style:{background:"#fff",padding:"2px 6px",borderRadius:"4px"},children:[window.location.origin,window.location.pathname,"?global"]})]})})]})]})})}const BT={apiKey:"AIzaSyCPZ89dzyZu4SOQmC1GWQZ64PlBNpqcuYk",authDomain:"strap-9e1ba.firebaseapp.com",databaseURL:"https://strap-9e1ba-default-rtdb.firebaseio.com",projectId:"strap-9e1ba",storageBucket:"strap-9e1ba.firebasestorage.app",messagingSenderId:"6273757983",appId:"1:6273757983:web:384d833700a30e8365362a",measurementId:"G-10WY33CRQB"},HT=mg(BT),Rl=fu(HT);function jT(){const[s,n]=Te.useState("create"),[l,r]=Te.useState(""),[o,f]=Te.useState(10),[h,p]=Te.useState(""),[m,_]=Te.useState(null),[y,v]=Te.useState(""),[S,O]=Te.useState(0),[A,B]=Te.useState(0),[H,Z]=Te.useState(!1),$=`${window.location.origin}?s=${h}`;Te.useEffect(()=>{const K=new URLSearchParams(window.location.search),P=K.has("global"),x=K.get("s"),j=K.get("admin"),V=K.get("preconfig");P?n("global"):V?(p(V),n("preconfig")):j?(p(j),n("admin")):x&&ye(x)},[]),Te.useEffect(()=>{if(!h)return;const K=jt(Rl,`sessions/${h}`),P=jt(Rl,"globalSettings/predefinedSeats"),x=_T(K,async j=>{if(j.exists()){const V=j.val(),de=[];V.assignments&&Object.values(V.assignments).forEach(U=>{de.push(U)});const pe=await sa(P);let b=V.predefinedSeats?{...V.predefinedSeats}:{};if(pe.exists()){const U=pe.val();b={...b,...U}}_({name:V.name,totalSeats:V.totalSeats,createdAt:V.createdAt,assignments:de,predefinedSeats:b})}});return()=>x()},[h]);const q=()=>{const K="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let P="";for(let x=0;x<6;x++)P+=K.charAt(Math.floor(Math.random()*K.length));return P},J=async()=>{if(!l||o<1||o>100){alert("セッション名と席の数を正しく入力してください");return}const K=q(),P=jt(Rl,`sessions/${K}`);await Gl(P,{name:l,totalSeats:o,createdAt:Date.now(),status:"active"}),p(K),n("session"),window.history.pushState({},"",`?s=${K}`)},ye=async K=>{const P=jt(Rl,`sessions/${K}`);(await sa(P)).exists()?(p(K),n("session")):alert("セッションが見つかりません")},qe=async()=>{if(!y.trim()){alert("名前を入力してください");return}if(!m)return;if(m.assignments.some(b=>b.name===y)){alert("この名前はすでにくじを引いています");return}const K=m.assignments.map(b=>b.seat),P=[];for(let b=1;b<=m.totalSeats;b++)K.includes(b)||P.push(b);if(P.length===0){alert("すべての席が埋まりました");return}const j=(m.predefinedSeats||{})[y];if(j!==void 0){if(K.includes(j)){Z(!0),n("drawing");let b=0;const U=20,Y=setInterval(()=>{const k=P[Math.floor(Math.random()*P.length)];O(k),b++,b>=U&&(clearInterval(Y),ne(P))},100)}else{Z(!0),n("drawing");let b=0;const U=20,Y=setInterval(()=>{const k=P[Math.floor(Math.random()*P.length)];O(k),b++,b>=U&&(clearInterval(Y),Be(j))},100)}return}Z(!0),n("drawing");let V=0;const de=20,pe=setInterval(()=>{const b=P[Math.floor(Math.random()*P.length)];O(b),V++,V>=de&&(clearInterval(pe),ne(P))},100)},ne=async K=>{const P=K[Math.floor(Math.random()*K.length)],x=jt(Rl,`sessions/${h}/assignments`);await eg(x,{name:y,seat:P,timestamp:Date.now()}),B(P),Z(!1),n("result")},Be=async K=>{const P=jt(Rl,`sessions/${h}/assignments`);await eg(P,{name:y,seat:K,timestamp:Date.now()}),B(K),Z(!1),n("result")},dt=()=>{n("session"),v("")},qt=()=>{navigator.clipboard.writeText($),alert("URLをコピーしました！")},He=()=>{const K=`${window.location.origin}${window.location.pathname}?admin=${h}`;navigator.clipboard.writeText(K),alert(`🔒 管理者URLをコピーしました！
このURLから事前座席設定ができます。`)},nt=()=>{window.history.pushState({},"",`?s=${h}`),n("session")},Gt=()=>{window.history.pushState({},"",`?s=${h}`),n("session")};return N.jsxs(N.Fragment,{children:[s==="global"&&N.jsx(IT,{}),s==="preconfig"&&h&&m&&N.jsx(LT,{sessionId:h,totalSeats:m.totalSeats,onComplete:Gt}),s==="admin"&&h&&N.jsx(UT,{sessionId:h,onBack:nt}),s!=="admin"&&s!=="preconfig"&&s!=="global"&&N.jsx("div",{className:"app",children:N.jsxs("div",{className:"container",children:[N.jsx("h1",{className:"title",children:"🎲 席くじ引きアプリ"}),s==="create"&&N.jsxs("div",{className:"screen",children:[N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"セッション名"}),N.jsx("input",{type:"text",value:l,onChange:K=>r(K.target.value),placeholder:"例: 新年会 2025"})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"席の数"}),N.jsx("input",{type:"number",value:o,onChange:K=>f(parseInt(K.target.value)||10),min:"1",max:"100",placeholder:"例: 10"})]}),N.jsx("button",{className:"btn btn-primary",onClick:J,children:"セッション作成"})]}),s==="session"&&m&&N.jsxs("div",{className:"screen",children:[N.jsxs("div",{className:"session-info",children:[N.jsx("h3",{children:m.name}),N.jsxs("p",{children:["席の数: ",m.totalSeats]}),N.jsxs("p",{children:["セッションID: ",N.jsx("strong",{children:h})]})]}),N.jsxs("div",{className:"stats",children:[N.jsxs("div",{className:"stat-item",children:[N.jsx("div",{className:"stat-value",children:m.assignments.length}),N.jsx("div",{className:"stat-label",children:"抽選済み"})]}),N.jsxs("div",{className:"stat-item",children:[N.jsx("div",{className:"stat-value",children:m.totalSeats-m.assignments.length}),N.jsx("div",{className:"stat-label",children:"残り席"})]})]}),N.jsxs("div",{className:"qr-container",children:[N.jsx("h3",{children:"📱 QRコードで参加"}),N.jsx("div",{className:"qr-code",children:N.jsx(Zy,{value:$,size:180,bgColor:"#ffffff",fgColor:"#667eea",level:"M"})}),N.jsxs("div",{className:"qr-info",children:["スマートフォンでQRコードを読み取るか、",N.jsx("br",{}),"以下のURLをシェアしてください"]}),N.jsxs("div",{className:"share-url",children:[N.jsx("strong",{children:$}),N.jsx("button",{className:"copy-btn",onClick:qt,children:"コピー"})]}),N.jsx("div",{style:{marginTop:"15px",textAlign:"center"},children:N.jsx("button",{className:"admin-link-btn",onClick:He,title:"管理者専用：事前座席設定",children:"🔒 管理者URLをコピー"})})]}),N.jsxs("div",{className:"form-group",children:[N.jsx("label",{children:"あなたの名前"}),N.jsx("input",{type:"text",value:y,onChange:K=>v(K.target.value),placeholder:"例: 山田太郎"})]}),N.jsx("button",{className:"btn btn-primary",onClick:qe,disabled:H,children:"🎯 くじを引く"}),m.assignments.length>0&&N.jsxs("div",{className:"results-list",children:[N.jsx("h3",{children:"📊 抽選結果"}),[...m.assignments].sort((K,P)=>K.seat-P.seat).map((K,P)=>N.jsxs("div",{className:"result-item",children:[N.jsx("span",{className:"name",children:K.name}),N.jsxs("span",{className:"seat",children:[K.seat,"番"]})]},P))]}),m.assignments.length===0&&N.jsx("div",{className:"status-info",children:"まだ誰もくじを引いていません"})]}),s==="drawing"&&N.jsx("div",{className:"screen",children:N.jsxs("div",{className:"lottery-display",children:[N.jsx("div",{className:"seat-number",children:S}),N.jsx("p",{children:"抽選中..."})]})}),s==="result"&&N.jsxs("div",{className:"screen",children:[N.jsx("div",{className:"status-success",children:"🎉 おめでとうございます！"}),N.jsxs("div",{className:"lottery-display result",children:[N.jsx("p",{children:"あなたの席は"}),N.jsx("div",{className:"result-number",children:A}),N.jsx("p",{children:"番です！"})]}),N.jsx("button",{className:"btn btn-secondary",onClick:dt,children:"セッションに戻る"})]})]})})]})}R1.createRoot(document.getElementById("root")).render(N.jsx(Te.StrictMode,{children:N.jsx(jT,{})}));
